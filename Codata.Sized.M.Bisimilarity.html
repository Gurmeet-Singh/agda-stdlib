<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.M.Bisimilarity</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bisimilarity for M-types</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Pragma">--cubical-compatible</a> <a id="241" class="Pragma">--sized-types</a> <a id="255" class="Symbol">#-}</a>

<a id="260" class="Keyword">module</a> <a id="267" href="Codata.Sized.M.Bisimilarity.html" class="Module">Codata.Sized.M.Bisimilarity</a> <a id="295" class="Keyword">where</a>

<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Level.html" class="Module">Level</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Size.html" class="Module">Size</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a>
<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Codata.Sized.M.html" class="Module">Codata.Sized.M</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Data.Container.Core.html" class="Module">Data.Container.Core</a>
<a id="427" class="Keyword">open</a> <a id="432" class="Keyword">import</a> <a id="439" href="Data.Container.Relation.Binary.Pointwise.html" class="Module">Data.Container.Relation.Binary.Pointwise</a> <a id="480" class="Keyword">using</a> <a id="486" class="Symbol">(</a><a id="487" href="Data.Container.Relation.Binary.Pointwise.html#745" class="Record">Pointwise</a><a id="496" class="Symbol">;</a> <a id="498" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">_,_</a><a id="501" class="Symbol">)</a>
<a id="503" class="Keyword">open</a> <a id="508" class="Keyword">import</a> <a id="515" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="533" class="Keyword">using</a> <a id="539" class="Symbol">(</a><a id="540" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a><a id="543" class="Symbol">)</a>
<a id="545" class="Keyword">open</a> <a id="550" class="Keyword">import</a> <a id="557" href="Function.Base.html" class="Module">Function.Base</a> <a id="571" class="Keyword">using</a> <a id="577" class="Symbol">(</a><a id="578" href="Function.Base.html#4503" class="Function Operator">_∋_</a><a id="581" class="Symbol">)</a>
<a id="583" class="Keyword">open</a> <a id="588" class="Keyword">import</a> <a id="595" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="611" class="Keyword">import</a> <a id="618" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="661" class="Symbol">as</a> <a id="664" class="Module">P</a>

<a id="667" class="Keyword">data</a> <a id="Bisim"></a><a id="672" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="678" class="Symbol">{</a><a id="679" href="Codata.Sized.M.Bisimilarity.html#679" class="Bound">s</a> <a id="681" href="Codata.Sized.M.Bisimilarity.html#681" class="Bound">p</a><a id="682" class="Symbol">}</a> <a id="684" class="Symbol">(</a><a id="685" href="Codata.Sized.M.Bisimilarity.html#685" class="Bound">C</a> <a id="687" class="Symbol">:</a> <a id="689" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="699" href="Codata.Sized.M.Bisimilarity.html#679" class="Bound">s</a> <a id="701" href="Codata.Sized.M.Bisimilarity.html#681" class="Bound">p</a><a id="702" class="Symbol">)</a> <a id="704" class="Symbol">(</a><a id="705" href="Codata.Sized.M.Bisimilarity.html#705" class="Bound">i</a> <a id="707" class="Symbol">:</a> <a id="709" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a><a id="713" class="Symbol">)</a> <a id="715" class="Symbol">:</a> <a id="717" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="721" class="Symbol">(</a><a id="722" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="724" href="Codata.Sized.M.Bisimilarity.html#685" class="Bound">C</a> <a id="726" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="727" class="Symbol">)</a> <a id="729" class="Symbol">(</a><a id="730" href="Codata.Sized.M.Bisimilarity.html#679" class="Bound">s</a> <a id="732" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="734" href="Codata.Sized.M.Bisimilarity.html#681" class="Bound">p</a><a id="735" class="Symbol">)</a> <a id="737" class="Keyword">where</a>
  <a id="Bisim.inf"></a><a id="745" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="749" class="Symbol">:</a> <a id="751" class="Symbol">∀</a> <a id="753" class="Symbol">{</a><a id="754" href="Codata.Sized.M.Bisimilarity.html#754" class="Bound">t</a> <a id="756" href="Codata.Sized.M.Bisimilarity.html#756" class="Bound">u</a><a id="757" class="Symbol">}</a> <a id="759" class="Symbol">→</a> <a id="761" href="Data.Container.Relation.Binary.Pointwise.html#745" class="Record">Pointwise</a> <a id="771" href="Codata.Sized.M.Bisimilarity.html#685" class="Bound">C</a> <a id="773" class="Symbol">(</a><a id="774" href="Codata.Sized.Thunk.html#759" class="Function">Thunk^R</a> <a id="782" class="Symbol">(</a><a id="783" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="789" href="Codata.Sized.M.Bisimilarity.html#685" class="Bound">C</a><a id="790" class="Symbol">)</a> <a id="792" href="Codata.Sized.M.Bisimilarity.html#705" class="Bound">i</a><a id="793" class="Symbol">)</a> <a id="795" href="Codata.Sized.M.Bisimilarity.html#754" class="Bound">t</a> <a id="797" href="Codata.Sized.M.Bisimilarity.html#756" class="Bound">u</a> <a id="799" class="Symbol">→</a> <a id="801" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="807" href="Codata.Sized.M.Bisimilarity.html#685" class="Bound">C</a> <a id="809" href="Codata.Sized.M.Bisimilarity.html#705" class="Bound">i</a> <a id="811" class="Symbol">(</a><a id="812" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="816" href="Codata.Sized.M.Bisimilarity.html#754" class="Bound">t</a><a id="817" class="Symbol">)</a> <a id="819" class="Symbol">(</a><a id="820" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="824" href="Codata.Sized.M.Bisimilarity.html#756" class="Bound">u</a><a id="825" class="Symbol">)</a>

<a id="828" class="Keyword">module</a> <a id="835" href="Codata.Sized.M.Bisimilarity.html#835" class="Module">_</a> <a id="837" class="Symbol">{</a><a id="838" href="Codata.Sized.M.Bisimilarity.html#838" class="Bound">s</a> <a id="840" href="Codata.Sized.M.Bisimilarity.html#840" class="Bound">p</a><a id="841" class="Symbol">}</a> <a id="843" class="Symbol">{</a><a id="844" href="Codata.Sized.M.Bisimilarity.html#844" class="Bound">C</a> <a id="846" class="Symbol">:</a> <a id="848" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="858" href="Codata.Sized.M.Bisimilarity.html#838" class="Bound">s</a> <a id="860" href="Codata.Sized.M.Bisimilarity.html#840" class="Bound">p</a><a id="861" class="Symbol">}</a> <a id="863" class="Keyword">where</a>

  <a id="872" class="Comment">-- unfortunately the proofs are a lot nicer if we do not use the</a>
  <a id="939" class="Comment">-- combinators C.refl, C.sym and C.trans</a>

  <a id="983" href="Codata.Sized.M.Bisimilarity.html#983" class="Function">refl</a> <a id="988" class="Symbol">:</a> <a id="990" class="Symbol">∀</a> <a id="992" class="Symbol">{</a><a id="993" href="Codata.Sized.M.Bisimilarity.html#993" class="Bound">i</a><a id="994" class="Symbol">}</a> <a id="996" class="Symbol">→</a> <a id="998" href="Relation.Binary.Definitions.html#1418" class="Function">Reflexive</a> <a id="1008" class="Symbol">(</a><a id="1009" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="1015" href="Codata.Sized.M.Bisimilarity.html#844" class="Bound">C</a> <a id="1017" href="Codata.Sized.M.Bisimilarity.html#993" class="Bound">i</a><a id="1018" class="Symbol">)</a>
  <a id="1022" href="Codata.Sized.M.Bisimilarity.html#983" class="Function">refl</a> <a id="1027" class="Symbol">{</a><a id="1028" class="Argument">x</a> <a id="1030" class="Symbol">=</a> <a id="1032" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="1036" href="Codata.Sized.M.Bisimilarity.html#1036" class="Bound">t</a><a id="1037" class="Symbol">}</a> <a id="1039" class="Symbol">=</a> <a id="1041" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="1045" class="Symbol">(</a><a id="1046" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1053" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">,</a> <a id="1055" class="Symbol">λ</a> <a id="1057" class="Keyword">where</a> <a id="1063" href="Codata.Sized.M.Bisimilarity.html#1063" class="Bound">p</a> <a id="1065" class="Symbol">.</a><a id="1066" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1072" class="Symbol">→</a> <a id="1074" href="Codata.Sized.M.Bisimilarity.html#983" class="Function">refl</a><a id="1078" class="Symbol">)</a>

  <a id="1083" href="Codata.Sized.M.Bisimilarity.html#1083" class="Function">sym</a> <a id="1087" class="Symbol">:</a> <a id="1089" class="Symbol">∀</a> <a id="1091" class="Symbol">{</a><a id="1092" href="Codata.Sized.M.Bisimilarity.html#1092" class="Bound">i</a><a id="1093" class="Symbol">}</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Relation.Binary.Definitions.html#1577" class="Function">Symmetric</a> <a id="1107" class="Symbol">(</a><a id="1108" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="1114" href="Codata.Sized.M.Bisimilarity.html#844" class="Bound">C</a> <a id="1116" href="Codata.Sized.M.Bisimilarity.html#1092" class="Bound">i</a><a id="1117" class="Symbol">)</a>
  <a id="1121" href="Codata.Sized.M.Bisimilarity.html#1083" class="Function">sym</a>  <a id="1126" class="Symbol">(</a><a id="1127" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="1131" class="Symbol">(</a><a id="1132" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1139" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">,</a> <a id="1141" href="Codata.Sized.M.Bisimilarity.html#1141" class="Bound">f</a><a id="1142" class="Symbol">))</a> <a id="1145" class="Symbol">=</a> <a id="1147" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="1151" class="Symbol">(</a><a id="1152" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1159" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">,</a> <a id="1161" class="Symbol">λ</a> <a id="1163" class="Keyword">where</a> <a id="1169" href="Codata.Sized.M.Bisimilarity.html#1169" class="Bound">p</a> <a id="1171" class="Symbol">.</a><a id="1172" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1178" class="Symbol">→</a> <a id="1180" href="Codata.Sized.M.Bisimilarity.html#1083" class="Function">sym</a> <a id="1184" class="Symbol">(</a><a id="1185" href="Codata.Sized.M.Bisimilarity.html#1141" class="Bound">f</a> <a id="1187" href="Codata.Sized.M.Bisimilarity.html#1169" class="Bound">p</a> <a id="1189" class="Symbol">.</a><a id="1190" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1195" class="Symbol">))</a>

  <a id="1201" href="Codata.Sized.M.Bisimilarity.html#1201" class="Function">trans</a> <a id="1207" class="Symbol">:</a> <a id="1209" class="Symbol">∀</a> <a id="1211" class="Symbol">{</a><a id="1212" href="Codata.Sized.M.Bisimilarity.html#1212" class="Bound">i</a><a id="1213" class="Symbol">}</a> <a id="1215" class="Symbol">→</a> <a id="1217" href="Relation.Binary.Definitions.html#1945" class="Function">Transitive</a> <a id="1228" class="Symbol">(</a><a id="1229" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="1235" href="Codata.Sized.M.Bisimilarity.html#844" class="Bound">C</a> <a id="1237" href="Codata.Sized.M.Bisimilarity.html#1212" class="Bound">i</a><a id="1238" class="Symbol">)</a>
  <a id="1242" href="Codata.Sized.M.Bisimilarity.html#1201" class="Function">trans</a> <a id="1248" class="Symbol">(</a><a id="1249" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="1253" class="Symbol">(</a><a id="1254" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1261" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">,</a> <a id="1263" href="Codata.Sized.M.Bisimilarity.html#1263" class="Bound">f</a><a id="1264" class="Symbol">))</a> <a id="1267" class="Symbol">(</a><a id="1268" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="1272" class="Symbol">(</a><a id="1273" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1280" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">,</a> <a id="1282" href="Codata.Sized.M.Bisimilarity.html#1282" class="Bound">g</a><a id="1283" class="Symbol">))</a> <a id="1286" class="Symbol">=</a>
    <a id="1292" href="Codata.Sized.M.Bisimilarity.html#745" class="InductiveConstructor">inf</a> <a id="1296" class="Symbol">(</a><a id="1297" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1304" href="Data.Container.Relation.Binary.Pointwise.html#892" class="InductiveConstructor Operator">,</a> <a id="1306" class="Symbol">λ</a> <a id="1308" class="Keyword">where</a> <a id="1314" href="Codata.Sized.M.Bisimilarity.html#1314" class="Bound">p</a> <a id="1316" class="Symbol">.</a><a id="1317" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1323" class="Symbol">→</a> <a id="1325" href="Codata.Sized.M.Bisimilarity.html#1201" class="Function">trans</a> <a id="1331" class="Symbol">(</a><a id="1332" href="Codata.Sized.M.Bisimilarity.html#1263" class="Bound">f</a> <a id="1334" href="Codata.Sized.M.Bisimilarity.html#1314" class="Bound">p</a> <a id="1336" class="Symbol">.</a><a id="1337" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1342" class="Symbol">)</a> <a id="1344" class="Symbol">(</a><a id="1345" href="Codata.Sized.M.Bisimilarity.html#1282" class="Bound">g</a> <a id="1347" href="Codata.Sized.M.Bisimilarity.html#1314" class="Bound">p</a> <a id="1349" class="Symbol">.</a><a id="1350" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1355" class="Symbol">))</a>

  <a id="1361" href="Codata.Sized.M.Bisimilarity.html#1361" class="Function">isEquivalence</a> <a id="1375" class="Symbol">:</a> <a id="1377" class="Symbol">∀</a> <a id="1379" class="Symbol">{</a><a id="1380" href="Codata.Sized.M.Bisimilarity.html#1380" class="Bound">i</a><a id="1381" class="Symbol">}</a> <a id="1383" class="Symbol">→</a> <a id="1385" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a> <a id="1399" class="Symbol">(</a><a id="1400" href="Codata.Sized.M.Bisimilarity.html#672" class="Datatype">Bisim</a> <a id="1406" href="Codata.Sized.M.Bisimilarity.html#844" class="Bound">C</a> <a id="1408" href="Codata.Sized.M.Bisimilarity.html#1380" class="Bound">i</a><a id="1409" class="Symbol">)</a>
  <a id="1413" href="Codata.Sized.M.Bisimilarity.html#1361" class="Function">isEquivalence</a> <a id="1427" class="Symbol">=</a> <a id="1429" class="Keyword">record</a>
    <a id="1440" class="Symbol">{</a> <a id="1442" href="Relation.Binary.Structures.html#1596" class="Field">refl</a>  <a id="1448" class="Symbol">=</a> <a id="1450" href="Codata.Sized.M.Bisimilarity.html#983" class="Function">refl</a>
    <a id="1459" class="Symbol">;</a> <a id="1461" href="Relation.Binary.Structures.html#1622" class="Field">sym</a>   <a id="1467" class="Symbol">=</a> <a id="1469" href="Codata.Sized.M.Bisimilarity.html#1083" class="Function">sym</a>
    <a id="1477" class="Symbol">;</a> <a id="1479" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="1485" class="Symbol">=</a> <a id="1487" href="Codata.Sized.M.Bisimilarity.html#1201" class="Function">trans</a>
    <a id="1497" class="Symbol">}</a>

  <a id="1502" href="Codata.Sized.M.Bisimilarity.html#1502" class="Function">setoid</a> <a id="1509" class="Symbol">:</a> <a id="1511" class="Symbol">{</a><a id="1512" href="Codata.Sized.M.Bisimilarity.html#1512" class="Bound">i</a> <a id="1514" class="Symbol">:</a> <a id="1516" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a><a id="1520" class="Symbol">}</a> <a id="1522" class="Symbol">→</a> <a id="1524" href="Relation.Binary.Bundles.html#1041" class="Record">Setoid</a> <a id="1531" class="Symbol">(</a><a id="1532" href="Codata.Sized.M.Bisimilarity.html#838" class="Bound">s</a> <a id="1534" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="1536" href="Codata.Sized.M.Bisimilarity.html#840" class="Bound">p</a><a id="1537" class="Symbol">)</a> <a id="1539" class="Symbol">(</a><a id="1540" href="Codata.Sized.M.Bisimilarity.html#838" class="Bound">s</a> <a id="1542" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="1544" href="Codata.Sized.M.Bisimilarity.html#840" class="Bound">p</a><a id="1545" class="Symbol">)</a>
  <a id="1549" href="Codata.Sized.M.Bisimilarity.html#1502" class="Function">setoid</a> <a id="1556" class="Symbol">{</a><a id="1557" href="Codata.Sized.M.Bisimilarity.html#1557" class="Bound">i</a><a id="1558" class="Symbol">}</a> <a id="1560" class="Symbol">=</a> <a id="1562" class="Keyword">record</a>
    <a id="1573" class="Symbol">{</a> <a id="1575" href="Relation.Binary.Bundles.html#1164" class="Field">isEquivalence</a> <a id="1589" class="Symbol">=</a> <a id="1591" href="Codata.Sized.M.Bisimilarity.html#1361" class="Function">isEquivalence</a> <a id="1605" class="Symbol">{</a><a id="1606" href="Codata.Sized.M.Bisimilarity.html#1557" class="Bound">i</a><a id="1607" class="Symbol">}</a>
    <a id="1613" class="Symbol">}</a>
</pre></body></html>