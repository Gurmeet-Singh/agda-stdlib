<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Codata.Sized.M.Bisimilarity</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Bisimilarity for M-types</a>
<a id="134" class="Comment">------------------------------------------------------------------------</a>

<a id="208" class="Symbol">{-#</a> <a id="212" class="Keyword">OPTIONS</a> <a id="220" class="Pragma">--cubical-compatible</a> <a id="241" class="Pragma">--sized-types</a> <a id="255" class="Symbol">#-}</a>

<a id="260" class="Keyword">module</a> <a id="267" href="Codata.Sized.M.Bisimilarity.html" class="Module">Codata.Sized.M.Bisimilarity</a> <a id="295" class="Keyword">where</a>

<a id="302" class="Keyword">open</a> <a id="307" class="Keyword">import</a> <a id="314" href="Level.html" class="Module">Level</a>
<a id="320" class="Keyword">open</a> <a id="325" class="Keyword">import</a> <a id="332" href="Size.html" class="Module">Size</a>
<a id="337" class="Keyword">open</a> <a id="342" class="Keyword">import</a> <a id="349" href="Codata.Sized.Thunk.html" class="Module">Codata.Sized.Thunk</a>
<a id="368" class="Keyword">open</a> <a id="373" class="Keyword">import</a> <a id="380" href="Codata.Sized.M.html" class="Module">Codata.Sized.M</a>
<a id="395" class="Keyword">open</a> <a id="400" class="Keyword">import</a> <a id="407" href="Data.Container.Core.html" class="Module">Data.Container.Core</a>
<a id="427" class="Keyword">open</a> <a id="432" class="Keyword">import</a> <a id="439" href="Data.Container.Relation.Binary.Pointwise.html" class="Module">Data.Container.Relation.Binary.Pointwise</a> <a id="480" class="Keyword">using</a> <a id="486" class="Symbol">(</a><a id="487" href="Data.Container.Relation.Binary.Pointwise.html#728" class="Record">Pointwise</a><a id="496" class="Symbol">;</a> <a id="498" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">_,_</a><a id="501" class="Symbol">)</a>
<a id="503" class="Keyword">open</a> <a id="508" class="Keyword">import</a> <a id="515" href="Data.Product.html" class="Module">Data.Product</a> <a id="528" class="Keyword">using</a> <a id="534" class="Symbol">(</a><a id="535" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">_,_</a><a id="538" class="Symbol">)</a>
<a id="540" class="Keyword">open</a> <a id="545" class="Keyword">import</a> <a id="552" href="Function.Base.html" class="Module">Function.Base</a> <a id="566" class="Keyword">using</a> <a id="572" class="Symbol">(</a><a id="573" href="Function.Base.html#4503" class="Function Operator">_∋_</a><a id="576" class="Symbol">)</a>
<a id="578" class="Keyword">open</a> <a id="583" class="Keyword">import</a> <a id="590" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="606" class="Keyword">import</a> <a id="613" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a> <a id="656" class="Symbol">as</a> <a id="659" class="Module">P</a>

<a id="662" class="Keyword">data</a> <a id="Bisim"></a><a id="667" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="673" class="Symbol">{</a><a id="674" href="Codata.Sized.M.Bisimilarity.html#674" class="Bound">s</a> <a id="676" href="Codata.Sized.M.Bisimilarity.html#676" class="Bound">p</a><a id="677" class="Symbol">}</a> <a id="679" class="Symbol">(</a><a id="680" href="Codata.Sized.M.Bisimilarity.html#680" class="Bound">C</a> <a id="682" class="Symbol">:</a> <a id="684" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="694" href="Codata.Sized.M.Bisimilarity.html#674" class="Bound">s</a> <a id="696" href="Codata.Sized.M.Bisimilarity.html#676" class="Bound">p</a><a id="697" class="Symbol">)</a> <a id="699" class="Symbol">(</a><a id="700" href="Codata.Sized.M.Bisimilarity.html#700" class="Bound">i</a> <a id="702" class="Symbol">:</a> <a id="704" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a><a id="708" class="Symbol">)</a> <a id="710" class="Symbol">:</a> <a id="712" href="Relation.Binary.Core.html#896" class="Function">Rel</a> <a id="716" class="Symbol">(</a><a id="717" href="Codata.Sized.M.html#475" class="Datatype">M</a> <a id="719" href="Codata.Sized.M.Bisimilarity.html#680" class="Bound">C</a> <a id="721" href="Agda.Builtin.Size.html#298" class="Postulate">∞</a><a id="722" class="Symbol">)</a> <a id="724" class="Symbol">(</a><a id="725" href="Codata.Sized.M.Bisimilarity.html#674" class="Bound">s</a> <a id="727" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="729" href="Codata.Sized.M.Bisimilarity.html#676" class="Bound">p</a><a id="730" class="Symbol">)</a> <a id="732" class="Keyword">where</a>
  <a id="Bisim.inf"></a><a id="740" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="744" class="Symbol">:</a> <a id="746" class="Symbol">∀</a> <a id="748" class="Symbol">{</a><a id="749" href="Codata.Sized.M.Bisimilarity.html#749" class="Bound">t</a> <a id="751" href="Codata.Sized.M.Bisimilarity.html#751" class="Bound">u</a><a id="752" class="Symbol">}</a> <a id="754" class="Symbol">→</a> <a id="756" href="Data.Container.Relation.Binary.Pointwise.html#728" class="Record">Pointwise</a> <a id="766" href="Codata.Sized.M.Bisimilarity.html#680" class="Bound">C</a> <a id="768" class="Symbol">(</a><a id="769" href="Codata.Sized.Thunk.html#759" class="Function">Thunk^R</a> <a id="777" class="Symbol">(</a><a id="778" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="784" href="Codata.Sized.M.Bisimilarity.html#680" class="Bound">C</a><a id="785" class="Symbol">)</a> <a id="787" href="Codata.Sized.M.Bisimilarity.html#700" class="Bound">i</a><a id="788" class="Symbol">)</a> <a id="790" href="Codata.Sized.M.Bisimilarity.html#749" class="Bound">t</a> <a id="792" href="Codata.Sized.M.Bisimilarity.html#751" class="Bound">u</a> <a id="794" class="Symbol">→</a> <a id="796" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="802" href="Codata.Sized.M.Bisimilarity.html#680" class="Bound">C</a> <a id="804" href="Codata.Sized.M.Bisimilarity.html#700" class="Bound">i</a> <a id="806" class="Symbol">(</a><a id="807" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="811" href="Codata.Sized.M.Bisimilarity.html#749" class="Bound">t</a><a id="812" class="Symbol">)</a> <a id="814" class="Symbol">(</a><a id="815" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="819" href="Codata.Sized.M.Bisimilarity.html#751" class="Bound">u</a><a id="820" class="Symbol">)</a>

<a id="823" class="Keyword">module</a> <a id="830" href="Codata.Sized.M.Bisimilarity.html#830" class="Module">_</a> <a id="832" class="Symbol">{</a><a id="833" href="Codata.Sized.M.Bisimilarity.html#833" class="Bound">s</a> <a id="835" href="Codata.Sized.M.Bisimilarity.html#835" class="Bound">p</a><a id="836" class="Symbol">}</a> <a id="838" class="Symbol">{</a><a id="839" href="Codata.Sized.M.Bisimilarity.html#839" class="Bound">C</a> <a id="841" class="Symbol">:</a> <a id="843" href="Data.Container.Core.html#567" class="Record">Container</a> <a id="853" href="Codata.Sized.M.Bisimilarity.html#833" class="Bound">s</a> <a id="855" href="Codata.Sized.M.Bisimilarity.html#835" class="Bound">p</a><a id="856" class="Symbol">}</a> <a id="858" class="Keyword">where</a>

  <a id="867" class="Comment">-- unfortunately the proofs are a lot nicer if we do not use the combinators</a>
  <a id="946" class="Comment">-- C.refl, C.sym and C.trans</a>

  <a id="978" href="Codata.Sized.M.Bisimilarity.html#978" class="Function">refl</a> <a id="983" class="Symbol">:</a> <a id="985" class="Symbol">∀</a> <a id="987" class="Symbol">{</a><a id="988" href="Codata.Sized.M.Bisimilarity.html#988" class="Bound">i</a><a id="989" class="Symbol">}</a> <a id="991" class="Symbol">→</a> <a id="993" href="Relation.Binary.Definitions.html#1418" class="Function">Reflexive</a> <a id="1003" class="Symbol">(</a><a id="1004" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="1010" href="Codata.Sized.M.Bisimilarity.html#839" class="Bound">C</a> <a id="1012" href="Codata.Sized.M.Bisimilarity.html#988" class="Bound">i</a><a id="1013" class="Symbol">)</a>
  <a id="1017" href="Codata.Sized.M.Bisimilarity.html#978" class="Function">refl</a> <a id="1022" class="Symbol">{</a><a id="1023" class="Argument">x</a> <a id="1025" class="Symbol">=</a> <a id="1027" href="Codata.Sized.M.html#536" class="InductiveConstructor">inf</a> <a id="1031" href="Codata.Sized.M.Bisimilarity.html#1031" class="Bound">t</a><a id="1032" class="Symbol">}</a> <a id="1034" class="Symbol">=</a> <a id="1036" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="1040" class="Symbol">(</a><a id="1041" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1048" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">,</a> <a id="1050" class="Symbol">λ</a> <a id="1052" class="Keyword">where</a> <a id="1058" href="Codata.Sized.M.Bisimilarity.html#1058" class="Bound">p</a> <a id="1060" class="Symbol">.</a><a id="1061" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1067" class="Symbol">→</a> <a id="1069" href="Codata.Sized.M.Bisimilarity.html#978" class="Function">refl</a><a id="1073" class="Symbol">)</a>

  <a id="1078" href="Codata.Sized.M.Bisimilarity.html#1078" class="Function">sym</a> <a id="1082" class="Symbol">:</a> <a id="1084" class="Symbol">∀</a> <a id="1086" class="Symbol">{</a><a id="1087" href="Codata.Sized.M.Bisimilarity.html#1087" class="Bound">i</a><a id="1088" class="Symbol">}</a> <a id="1090" class="Symbol">→</a> <a id="1092" href="Relation.Binary.Definitions.html#1577" class="Function">Symmetric</a> <a id="1102" class="Symbol">(</a><a id="1103" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="1109" href="Codata.Sized.M.Bisimilarity.html#839" class="Bound">C</a> <a id="1111" href="Codata.Sized.M.Bisimilarity.html#1087" class="Bound">i</a><a id="1112" class="Symbol">)</a>
  <a id="1116" href="Codata.Sized.M.Bisimilarity.html#1078" class="Function">sym</a>  <a id="1121" class="Symbol">(</a><a id="1122" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="1126" class="Symbol">(</a><a id="1127" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1134" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">,</a> <a id="1136" href="Codata.Sized.M.Bisimilarity.html#1136" class="Bound">f</a><a id="1137" class="Symbol">))</a> <a id="1140" class="Symbol">=</a> <a id="1142" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="1146" class="Symbol">(</a><a id="1147" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1154" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">,</a> <a id="1156" class="Symbol">λ</a> <a id="1158" class="Keyword">where</a> <a id="1164" href="Codata.Sized.M.Bisimilarity.html#1164" class="Bound">p</a> <a id="1166" class="Symbol">.</a><a id="1167" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1173" class="Symbol">→</a> <a id="1175" href="Codata.Sized.M.Bisimilarity.html#1078" class="Function">sym</a> <a id="1179" class="Symbol">(</a><a id="1180" href="Codata.Sized.M.Bisimilarity.html#1136" class="Bound">f</a> <a id="1182" href="Codata.Sized.M.Bisimilarity.html#1164" class="Bound">p</a> <a id="1184" class="Symbol">.</a><a id="1185" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1190" class="Symbol">))</a>

  <a id="1196" href="Codata.Sized.M.Bisimilarity.html#1196" class="Function">trans</a> <a id="1202" class="Symbol">:</a> <a id="1204" class="Symbol">∀</a> <a id="1206" class="Symbol">{</a><a id="1207" href="Codata.Sized.M.Bisimilarity.html#1207" class="Bound">i</a><a id="1208" class="Symbol">}</a> <a id="1210" class="Symbol">→</a> <a id="1212" href="Relation.Binary.Definitions.html#1945" class="Function">Transitive</a> <a id="1223" class="Symbol">(</a><a id="1224" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="1230" href="Codata.Sized.M.Bisimilarity.html#839" class="Bound">C</a> <a id="1232" href="Codata.Sized.M.Bisimilarity.html#1207" class="Bound">i</a><a id="1233" class="Symbol">)</a>
  <a id="1237" href="Codata.Sized.M.Bisimilarity.html#1196" class="Function">trans</a> <a id="1243" class="Symbol">(</a><a id="1244" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="1248" class="Symbol">(</a><a id="1249" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1256" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">,</a> <a id="1258" href="Codata.Sized.M.Bisimilarity.html#1258" class="Bound">f</a><a id="1259" class="Symbol">))</a> <a id="1262" class="Symbol">(</a><a id="1263" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="1267" class="Symbol">(</a><a id="1268" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1275" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">,</a> <a id="1277" href="Codata.Sized.M.Bisimilarity.html#1277" class="Bound">g</a><a id="1278" class="Symbol">))</a> <a id="1281" class="Symbol">=</a>
    <a id="1287" href="Codata.Sized.M.Bisimilarity.html#740" class="InductiveConstructor">inf</a> <a id="1291" class="Symbol">(</a><a id="1292" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">P.refl</a> <a id="1299" href="Data.Container.Relation.Binary.Pointwise.html#875" class="InductiveConstructor Operator">,</a> <a id="1301" class="Symbol">λ</a> <a id="1303" class="Keyword">where</a> <a id="1309" href="Codata.Sized.M.Bisimilarity.html#1309" class="Bound">p</a> <a id="1311" class="Symbol">.</a><a id="1312" href="Codata.Sized.Thunk.html#556" class="Field">force</a> <a id="1318" class="Symbol">→</a> <a id="1320" href="Codata.Sized.M.Bisimilarity.html#1196" class="Function">trans</a> <a id="1326" class="Symbol">(</a><a id="1327" href="Codata.Sized.M.Bisimilarity.html#1258" class="Bound">f</a> <a id="1329" href="Codata.Sized.M.Bisimilarity.html#1309" class="Bound">p</a> <a id="1331" class="Symbol">.</a><a id="1332" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1337" class="Symbol">)</a> <a id="1339" class="Symbol">(</a><a id="1340" href="Codata.Sized.M.Bisimilarity.html#1277" class="Bound">g</a> <a id="1342" href="Codata.Sized.M.Bisimilarity.html#1309" class="Bound">p</a> <a id="1344" class="Symbol">.</a><a id="1345" href="Codata.Sized.Thunk.html#556" class="Field">force</a><a id="1350" class="Symbol">))</a>

  <a id="1356" href="Codata.Sized.M.Bisimilarity.html#1356" class="Function">isEquivalence</a> <a id="1370" class="Symbol">:</a> <a id="1372" class="Symbol">∀</a> <a id="1374" class="Symbol">{</a><a id="1375" href="Codata.Sized.M.Bisimilarity.html#1375" class="Bound">i</a><a id="1376" class="Symbol">}</a> <a id="1378" class="Symbol">→</a> <a id="1380" href="Relation.Binary.Structures.html#1550" class="Record">IsEquivalence</a> <a id="1394" class="Symbol">(</a><a id="1395" href="Codata.Sized.M.Bisimilarity.html#667" class="Datatype">Bisim</a> <a id="1401" href="Codata.Sized.M.Bisimilarity.html#839" class="Bound">C</a> <a id="1403" href="Codata.Sized.M.Bisimilarity.html#1375" class="Bound">i</a><a id="1404" class="Symbol">)</a>
  <a id="1408" href="Codata.Sized.M.Bisimilarity.html#1356" class="Function">isEquivalence</a> <a id="1422" class="Symbol">=</a> <a id="1424" class="Keyword">record</a>
    <a id="1435" class="Symbol">{</a> <a id="1437" href="Relation.Binary.Structures.html#1596" class="Field">refl</a>  <a id="1443" class="Symbol">=</a> <a id="1445" href="Codata.Sized.M.Bisimilarity.html#978" class="Function">refl</a>
    <a id="1454" class="Symbol">;</a> <a id="1456" href="Relation.Binary.Structures.html#1622" class="Field">sym</a>   <a id="1462" class="Symbol">=</a> <a id="1464" href="Codata.Sized.M.Bisimilarity.html#1078" class="Function">sym</a>
    <a id="1472" class="Symbol">;</a> <a id="1474" href="Relation.Binary.Structures.html#1648" class="Field">trans</a> <a id="1480" class="Symbol">=</a> <a id="1482" href="Codata.Sized.M.Bisimilarity.html#1196" class="Function">trans</a>
    <a id="1492" class="Symbol">}</a>

  <a id="1497" href="Codata.Sized.M.Bisimilarity.html#1497" class="Function">setoid</a> <a id="1504" class="Symbol">:</a> <a id="1506" class="Symbol">{</a><a id="1507" href="Codata.Sized.M.Bisimilarity.html#1507" class="Bound">i</a> <a id="1509" class="Symbol">:</a> <a id="1511" href="Agda.Builtin.Size.html#196" class="Postulate">Size</a><a id="1515" class="Symbol">}</a> <a id="1517" class="Symbol">→</a> <a id="1519" href="Relation.Binary.Bundles.html#1041" class="Record">Setoid</a> <a id="1526" class="Symbol">(</a><a id="1527" href="Codata.Sized.M.Bisimilarity.html#833" class="Bound">s</a> <a id="1529" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="1531" href="Codata.Sized.M.Bisimilarity.html#835" class="Bound">p</a><a id="1532" class="Symbol">)</a> <a id="1534" class="Symbol">(</a><a id="1535" href="Codata.Sized.M.Bisimilarity.html#833" class="Bound">s</a> <a id="1537" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="1539" href="Codata.Sized.M.Bisimilarity.html#835" class="Bound">p</a><a id="1540" class="Symbol">)</a>
  <a id="1544" href="Codata.Sized.M.Bisimilarity.html#1497" class="Function">setoid</a> <a id="1551" class="Symbol">{</a><a id="1552" href="Codata.Sized.M.Bisimilarity.html#1552" class="Bound">i</a><a id="1553" class="Symbol">}</a> <a id="1555" class="Symbol">=</a> <a id="1557" class="Keyword">record</a>
    <a id="1568" class="Symbol">{</a> <a id="1570" href="Relation.Binary.Bundles.html#1164" class="Field">isEquivalence</a> <a id="1584" class="Symbol">=</a> <a id="1586" href="Codata.Sized.M.Bisimilarity.html#1356" class="Function">isEquivalence</a> <a id="1600" class="Symbol">{</a><a id="1601" href="Codata.Sized.M.Bisimilarity.html#1552" class="Bound">i</a><a id="1602" class="Symbol">}</a>
    <a id="1608" class="Symbol">}</a>
</pre></body></html>