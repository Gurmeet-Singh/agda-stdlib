<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Rational.Unnormalised.Base</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Rational numbers in non-reduced form.</a>
<a id="147" class="Comment">------------------------------------------------------------------------</a>

<a id="221" class="Symbol">{-#</a> <a id="225" class="Keyword">OPTIONS</a> <a id="233" class="Pragma">--without-K</a> <a id="245" class="Pragma">--safe</a> <a id="252" class="Symbol">#-}</a>

<a id="257" class="Keyword">module</a> <a id="264" href="Data.Rational.Unnormalised.Base.html" class="Module">Data.Rational.Unnormalised.Base</a> <a id="296" class="Keyword">where</a>

<a id="303" class="Keyword">open</a> <a id="308" class="Keyword">import</a> <a id="315" href="Algebra.Bundles.Raw.html" class="Module">Algebra.Bundles.Raw</a>
<a id="335" class="Keyword">open</a> <a id="340" class="Keyword">import</a> <a id="347" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a> <a id="362" class="Keyword">using</a> <a id="368" class="Symbol">(</a><a id="369" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a><a id="373" class="Symbol">;</a> <a id="375" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="379" class="Symbol">;</a> <a id="381" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="386" class="Symbol">;</a> <a id="388" href="Data.Bool.Base.html#1283" class="Function Operator">if_then_else_</a><a id="401" class="Symbol">)</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Data.Integer.Base.html" class="Module">Data.Integer.Base</a> <a id="433" class="Symbol">as</a> <a id="436" class="Module">ℤ</a>
  <a id="440" class="Keyword">using</a> <a id="446" class="Symbol">(</a><a id="447" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="448" class="Symbol">;</a> <a id="450" href="Agda.Builtin.Int.html#264" class="InductiveConstructor">+_</a><a id="452" class="Symbol">;</a> <a id="454" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a><a id="456" class="Symbol">;</a> <a id="458" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+_]</a><a id="464" class="Symbol">;</a> <a id="466" href="Agda.Builtin.Int.html#291" class="InductiveConstructor">-[1+_]</a><a id="472" class="Symbol">;</a> <a id="474" href="Data.Integer.Base.html#2265" class="InductiveConstructor">+&lt;+</a><a id="477" class="Symbol">;</a> <a id="479" href="Data.Integer.Base.html#2100" class="InductiveConstructor">+≤+</a><a id="482" class="Symbol">)</a>
<a id="484" class="Keyword">open</a> <a id="489" class="Keyword">import</a> <a id="496" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="510" class="Symbol">as</a> <a id="513" class="Module">ℕ</a> <a id="515" class="Keyword">using</a> <a id="521" class="Symbol">(</a><a id="522" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="523" class="Symbol">;</a> <a id="525" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a><a id="529" class="Symbol">;</a> <a id="531" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Level.html" class="Module">Level</a> <a id="554" class="Keyword">using</a> <a id="560" class="Symbol">(</a><a id="561" href="Level.html#512" class="Function">0ℓ</a><a id="563" class="Symbol">)</a>
<a id="565" class="Keyword">open</a> <a id="570" class="Keyword">import</a> <a id="577" href="Relation.Nullary.html" class="Module">Relation.Nullary</a> <a id="594" class="Keyword">using</a> <a id="600" class="Symbol">(</a><a id="601" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬_</a><a id="603" class="Symbol">)</a>
<a id="605" class="Keyword">open</a> <a id="610" class="Keyword">import</a> <a id="617" href="Relation.Nullary.Negation.html" class="Module">Relation.Nullary.Negation</a> <a id="643" class="Keyword">using</a> <a id="649" class="Symbol">(</a><a id="650" href="Relation.Nullary.Negation.Core.html#1051" class="Function">contradiction</a><a id="663" class="Symbol">)</a>
<a id="665" class="Keyword">open</a> <a id="670" class="Keyword">import</a> <a id="677" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="692" class="Keyword">using</a> <a id="698" class="Symbol">(</a><a id="699" href="Relation.Unary.html#1101" class="Function">Pred</a><a id="703" class="Symbol">)</a>
<a id="705" class="Keyword">open</a> <a id="710" class="Keyword">import</a> <a id="717" href="Relation.Binary.Core.html" class="Module">Relation.Binary.Core</a> <a id="738" class="Keyword">using</a> <a id="744" class="Symbol">(</a><a id="745" href="Relation.Binary.Core.html#882" class="Function">Rel</a><a id="748" class="Symbol">)</a>
<a id="750" class="Keyword">open</a> <a id="755" class="Keyword">import</a> <a id="762" href="Relation.Binary.PropositionalEquality.Core.html" class="Module">Relation.Binary.PropositionalEquality.Core</a>
  <a id="807" class="Keyword">using</a> <a id="813" class="Symbol">(</a><a id="814" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">_≡_</a><a id="817" class="Symbol">;</a> <a id="819" href="Relation.Binary.PropositionalEquality.Core.html#844" class="Function Operator">_≢_</a><a id="822" class="Symbol">;</a> <a id="824" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="828" class="Symbol">)</a>

<a id="831" class="Comment">------------------------------------------------------------------------</a>
<a id="904" class="Comment">-- Definition</a>

<a id="919" class="Comment">-- Here we define rationals that are not necessarily in reduced form.</a>
<a id="989" class="Comment">-- Consequently there are multiple ways of representing a given rational</a>
<a id="1062" class="Comment">-- number, and the performance of the arithmetic operations may suffer</a>
<a id="1133" class="Comment">-- due to blowup of the numerator and denominator.</a>

<a id="1185" class="Comment">-- Nonetheless they are much easier to reason about. In general proofs</a>
<a id="1256" class="Comment">-- are first proved for these unnormalised rationals and then translated</a>
<a id="1329" class="Comment">-- into the normalised rationals.</a>

<a id="1364" class="Keyword">record</a> <a id="ℚᵘ"></a><a id="1371" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="1374" class="Symbol">:</a> <a id="1376" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="1380" class="Keyword">where</a>
  <a id="1388" class="Comment">-- We add &quot;no-eta-equality; pattern&quot; to the record to stop Agda</a>
  <a id="1454" class="Comment">-- automatically unfolding rationals when arithmetic operations are</a>
  <a id="1524" class="Comment">-- applied to them (see definition of operators below and Issue #1753</a>
  <a id="1596" class="Comment">-- for details).</a>
  <a id="1615" class="Keyword">no-eta-equality</a><a id="1630" class="Symbol">;</a> <a id="1632" class="Keyword">pattern</a>

  <a id="1643" class="Keyword">constructor</a> <a id="mkℚᵘ"></a><a id="1655" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a>
  <a id="1662" class="Keyword">field</a>
    <a id="ℚᵘ.numerator"></a><a id="1672" href="Data.Rational.Unnormalised.Base.html#1672" class="Field">numerator</a>     <a id="1686" class="Symbol">:</a> <a id="1688" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
    <a id="ℚᵘ.denominator-1"></a><a id="1694" href="Data.Rational.Unnormalised.Base.html#1694" class="Field">denominator-1</a> <a id="1708" class="Symbol">:</a> <a id="1710" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>

  <a id="ℚᵘ.denominatorℕ"></a><a id="1715" href="Data.Rational.Unnormalised.Base.html#1715" class="Function">denominatorℕ</a> <a id="1728" class="Symbol">:</a> <a id="1730" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a>
  <a id="1734" href="Data.Rational.Unnormalised.Base.html#1715" class="Function">denominatorℕ</a> <a id="1747" class="Symbol">=</a> <a id="1749" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="1753" href="Data.Rational.Unnormalised.Base.html#1694" class="Field">denominator-1</a>

  <a id="ℚᵘ.denominator"></a><a id="1770" href="Data.Rational.Unnormalised.Base.html#1770" class="Function">denominator</a> <a id="1782" class="Symbol">:</a> <a id="1784" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
  <a id="1788" href="Data.Rational.Unnormalised.Base.html#1770" class="Function">denominator</a> <a id="1800" class="Symbol">=</a> <a id="1802" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="1804" href="Data.Rational.Unnormalised.Base.html#1715" class="Function">denominatorℕ</a>

<a id="1818" class="Keyword">open</a> <a id="1823" href="Data.Rational.Unnormalised.Base.html#1371" class="Module">ℚᵘ</a> <a id="1826" class="Keyword">public</a> <a id="1833" class="Keyword">using</a> <a id="1839" class="Symbol">()</a>
  <a id="1844" class="Keyword">renaming</a>
  <a id="1855" class="Symbol">(</a> <a id="1857" href="Data.Rational.Unnormalised.Base.html#1672" class="Field">numerator</a>    <a id="1870" class="Symbol">to</a> <a id="1873" class="Field">↥_</a>
  <a id="1878" class="Symbol">;</a> <a id="1880" href="Data.Rational.Unnormalised.Base.html#1770" class="Function">denominator</a>  <a id="1893" class="Symbol">to</a> <a id="1896" class="Function">↧_</a>
  <a id="1901" class="Symbol">;</a> <a id="1903" href="Data.Rational.Unnormalised.Base.html#1715" class="Function">denominatorℕ</a> <a id="1916" class="Symbol">to</a> <a id="1919" class="Function">↧ₙ_</a>
  <a id="1925" class="Symbol">)</a>

<a id="1928" class="Comment">------------------------------------------------------------------------</a>
<a id="2001" class="Comment">-- Equality of rational numbers (does not coincide with _≡_)</a>

<a id="2063" class="Keyword">infix</a> <a id="2069" class="Number">4</a> <a id="2071" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a> <a id="2075" href="Data.Rational.Unnormalised.Base.html#2164" class="Function Operator">_≠_</a>

<a id="2080" class="Keyword">data</a> <a id="_≃_"></a><a id="2085" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a> <a id="2089" class="Symbol">:</a> <a id="2091" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2095" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2098" href="Level.html#512" class="Function">0ℓ</a> <a id="2101" class="Keyword">where</a>
  <a id="_≃_.*≡*"></a><a id="2109" href="Data.Rational.Unnormalised.Base.html#2109" class="InductiveConstructor">*≡*</a> <a id="2113" class="Symbol">:</a> <a id="2115" class="Symbol">∀</a> <a id="2117" class="Symbol">{</a><a id="2118" href="Data.Rational.Unnormalised.Base.html#2118" class="Bound">p</a> <a id="2120" href="Data.Rational.Unnormalised.Base.html#2120" class="Bound">q</a><a id="2121" class="Symbol">}</a> <a id="2123" class="Symbol">→</a> <a id="2125" class="Symbol">(</a><a id="2126" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2128" href="Data.Rational.Unnormalised.Base.html#2118" class="Bound">p</a> <a id="2130" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2134" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2136" href="Data.Rational.Unnormalised.Base.html#2120" class="Bound">q</a><a id="2137" class="Symbol">)</a> <a id="2139" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2141" class="Symbol">(</a><a id="2142" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2144" href="Data.Rational.Unnormalised.Base.html#2120" class="Bound">q</a> <a id="2146" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2150" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2152" href="Data.Rational.Unnormalised.Base.html#2118" class="Bound">p</a><a id="2153" class="Symbol">)</a> <a id="2155" class="Symbol">→</a> <a id="2157" href="Data.Rational.Unnormalised.Base.html#2118" class="Bound">p</a> <a id="2159" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">≃</a> <a id="2161" href="Data.Rational.Unnormalised.Base.html#2120" class="Bound">q</a>

<a id="_≠_"></a><a id="2164" href="Data.Rational.Unnormalised.Base.html#2164" class="Function Operator">_≠_</a> <a id="2168" class="Symbol">:</a> <a id="2170" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2174" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2177" href="Level.html#512" class="Function">0ℓ</a>
<a id="2180" href="Data.Rational.Unnormalised.Base.html#2180" class="Bound">p</a> <a id="2182" href="Data.Rational.Unnormalised.Base.html#2164" class="Function Operator">≠</a> <a id="2184" href="Data.Rational.Unnormalised.Base.html#2184" class="Bound">q</a> <a id="2186" class="Symbol">=</a> <a id="2188" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="2190" class="Symbol">(</a><a id="2191" href="Data.Rational.Unnormalised.Base.html#2180" class="Bound">p</a> <a id="2193" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">≃</a> <a id="2195" href="Data.Rational.Unnormalised.Base.html#2184" class="Bound">q</a><a id="2196" class="Symbol">)</a>

<a id="2199" class="Comment">------------------------------------------------------------------------</a>
<a id="2272" class="Comment">-- Ordering of rationals</a>

<a id="2298" class="Keyword">infix</a> <a id="2304" class="Number">4</a> <a id="2306" href="Data.Rational.Unnormalised.Base.html#2344" class="Datatype Operator">_≤_</a> <a id="2310" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">_&lt;_</a> <a id="2314" href="Data.Rational.Unnormalised.Base.html#2511" class="Function Operator">_≥_</a> <a id="2318" href="Data.Rational.Unnormalised.Base.html#2542" class="Function Operator">_&gt;_</a> <a id="2322" href="Data.Rational.Unnormalised.Base.html#2573" class="Function Operator">_≰_</a> <a id="2326" href="Data.Rational.Unnormalised.Base.html#2608" class="Function Operator">_≱_</a> <a id="2330" href="Data.Rational.Unnormalised.Base.html#2643" class="Function Operator">_≮_</a> <a id="2334" href="Data.Rational.Unnormalised.Base.html#2678" class="Function Operator">_≯_</a>

<a id="2339" class="Keyword">data</a> <a id="_≤_"></a><a id="2344" href="Data.Rational.Unnormalised.Base.html#2344" class="Datatype Operator">_≤_</a> <a id="2348" class="Symbol">:</a> <a id="2350" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2354" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2357" href="Level.html#512" class="Function">0ℓ</a> <a id="2360" class="Keyword">where</a>
  <a id="_≤_.*≤*"></a><a id="2368" href="Data.Rational.Unnormalised.Base.html#2368" class="InductiveConstructor">*≤*</a> <a id="2372" class="Symbol">:</a> <a id="2374" class="Symbol">∀</a> <a id="2376" class="Symbol">{</a><a id="2377" href="Data.Rational.Unnormalised.Base.html#2377" class="Bound">p</a> <a id="2379" href="Data.Rational.Unnormalised.Base.html#2379" class="Bound">q</a><a id="2380" class="Symbol">}</a> <a id="2382" class="Symbol">→</a> <a id="2384" class="Symbol">(</a><a id="2385" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2387" href="Data.Rational.Unnormalised.Base.html#2377" class="Bound">p</a> <a id="2389" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2393" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2395" href="Data.Rational.Unnormalised.Base.html#2379" class="Bound">q</a><a id="2396" class="Symbol">)</a> <a id="2398" href="Data.Integer.Base.html#1985" class="Datatype Operator">ℤ.≤</a> <a id="2402" class="Symbol">(</a><a id="2403" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2405" href="Data.Rational.Unnormalised.Base.html#2379" class="Bound">q</a> <a id="2407" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2411" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2413" href="Data.Rational.Unnormalised.Base.html#2377" class="Bound">p</a><a id="2414" class="Symbol">)</a> <a id="2416" class="Symbol">→</a> <a id="2418" href="Data.Rational.Unnormalised.Base.html#2377" class="Bound">p</a> <a id="2420" href="Data.Rational.Unnormalised.Base.html#2344" class="Datatype Operator">≤</a> <a id="2422" href="Data.Rational.Unnormalised.Base.html#2379" class="Bound">q</a>

<a id="2425" class="Keyword">data</a> <a id="_&lt;_"></a><a id="2430" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">_&lt;_</a> <a id="2434" class="Symbol">:</a> <a id="2436" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2440" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2443" href="Level.html#512" class="Function">0ℓ</a> <a id="2446" class="Keyword">where</a>
  <a id="_&lt;_.*&lt;*"></a><a id="2454" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="2458" class="Symbol">:</a> <a id="2460" class="Symbol">∀</a> <a id="2462" class="Symbol">{</a><a id="2463" href="Data.Rational.Unnormalised.Base.html#2463" class="Bound">p</a> <a id="2465" href="Data.Rational.Unnormalised.Base.html#2465" class="Bound">q</a><a id="2466" class="Symbol">}</a> <a id="2468" class="Symbol">→</a> <a id="2470" class="Symbol">(</a><a id="2471" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2473" href="Data.Rational.Unnormalised.Base.html#2463" class="Bound">p</a> <a id="2475" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2479" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2481" href="Data.Rational.Unnormalised.Base.html#2465" class="Bound">q</a><a id="2482" class="Symbol">)</a> <a id="2484" href="Data.Integer.Base.html#2150" class="Datatype Operator">ℤ.&lt;</a> <a id="2488" class="Symbol">(</a><a id="2489" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2491" href="Data.Rational.Unnormalised.Base.html#2465" class="Bound">q</a> <a id="2493" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2497" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2499" href="Data.Rational.Unnormalised.Base.html#2463" class="Bound">p</a><a id="2500" class="Symbol">)</a> <a id="2502" class="Symbol">→</a> <a id="2504" href="Data.Rational.Unnormalised.Base.html#2463" class="Bound">p</a> <a id="2506" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">&lt;</a> <a id="2508" href="Data.Rational.Unnormalised.Base.html#2465" class="Bound">q</a>

<a id="_≥_"></a><a id="2511" href="Data.Rational.Unnormalised.Base.html#2511" class="Function Operator">_≥_</a> <a id="2515" class="Symbol">:</a> <a id="2517" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2521" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2524" href="Level.html#512" class="Function">0ℓ</a>
<a id="2527" href="Data.Rational.Unnormalised.Base.html#2527" class="Bound">x</a> <a id="2529" href="Data.Rational.Unnormalised.Base.html#2511" class="Function Operator">≥</a> <a id="2531" href="Data.Rational.Unnormalised.Base.html#2531" class="Bound">y</a> <a id="2533" class="Symbol">=</a> <a id="2535" href="Data.Rational.Unnormalised.Base.html#2531" class="Bound">y</a> <a id="2537" href="Data.Rational.Unnormalised.Base.html#2344" class="Datatype Operator">≤</a> <a id="2539" href="Data.Rational.Unnormalised.Base.html#2527" class="Bound">x</a>

<a id="_&gt;_"></a><a id="2542" href="Data.Rational.Unnormalised.Base.html#2542" class="Function Operator">_&gt;_</a> <a id="2546" class="Symbol">:</a> <a id="2548" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2552" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2555" href="Level.html#512" class="Function">0ℓ</a>
<a id="2558" href="Data.Rational.Unnormalised.Base.html#2558" class="Bound">x</a> <a id="2560" href="Data.Rational.Unnormalised.Base.html#2542" class="Function Operator">&gt;</a> <a id="2562" href="Data.Rational.Unnormalised.Base.html#2562" class="Bound">y</a> <a id="2564" class="Symbol">=</a> <a id="2566" href="Data.Rational.Unnormalised.Base.html#2562" class="Bound">y</a> <a id="2568" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">&lt;</a> <a id="2570" href="Data.Rational.Unnormalised.Base.html#2558" class="Bound">x</a>

<a id="_≰_"></a><a id="2573" href="Data.Rational.Unnormalised.Base.html#2573" class="Function Operator">_≰_</a> <a id="2577" class="Symbol">:</a> <a id="2579" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2583" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2586" href="Level.html#512" class="Function">0ℓ</a>
<a id="2589" href="Data.Rational.Unnormalised.Base.html#2589" class="Bound">x</a> <a id="2591" href="Data.Rational.Unnormalised.Base.html#2573" class="Function Operator">≰</a> <a id="2593" href="Data.Rational.Unnormalised.Base.html#2593" class="Bound">y</a> <a id="2595" class="Symbol">=</a> <a id="2597" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="2599" class="Symbol">(</a><a id="2600" href="Data.Rational.Unnormalised.Base.html#2589" class="Bound">x</a> <a id="2602" href="Data.Rational.Unnormalised.Base.html#2344" class="Datatype Operator">≤</a> <a id="2604" href="Data.Rational.Unnormalised.Base.html#2593" class="Bound">y</a><a id="2605" class="Symbol">)</a>

<a id="_≱_"></a><a id="2608" href="Data.Rational.Unnormalised.Base.html#2608" class="Function Operator">_≱_</a> <a id="2612" class="Symbol">:</a> <a id="2614" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2618" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2621" href="Level.html#512" class="Function">0ℓ</a>
<a id="2624" href="Data.Rational.Unnormalised.Base.html#2624" class="Bound">x</a> <a id="2626" href="Data.Rational.Unnormalised.Base.html#2608" class="Function Operator">≱</a> <a id="2628" href="Data.Rational.Unnormalised.Base.html#2628" class="Bound">y</a> <a id="2630" class="Symbol">=</a> <a id="2632" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="2634" class="Symbol">(</a><a id="2635" href="Data.Rational.Unnormalised.Base.html#2624" class="Bound">x</a> <a id="2637" href="Data.Rational.Unnormalised.Base.html#2511" class="Function Operator">≥</a> <a id="2639" href="Data.Rational.Unnormalised.Base.html#2628" class="Bound">y</a><a id="2640" class="Symbol">)</a>

<a id="_≮_"></a><a id="2643" href="Data.Rational.Unnormalised.Base.html#2643" class="Function Operator">_≮_</a> <a id="2647" class="Symbol">:</a> <a id="2649" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2653" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2656" href="Level.html#512" class="Function">0ℓ</a>
<a id="2659" href="Data.Rational.Unnormalised.Base.html#2659" class="Bound">x</a> <a id="2661" href="Data.Rational.Unnormalised.Base.html#2643" class="Function Operator">≮</a> <a id="2663" href="Data.Rational.Unnormalised.Base.html#2663" class="Bound">y</a> <a id="2665" class="Symbol">=</a> <a id="2667" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="2669" class="Symbol">(</a><a id="2670" href="Data.Rational.Unnormalised.Base.html#2659" class="Bound">x</a> <a id="2672" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">&lt;</a> <a id="2674" href="Data.Rational.Unnormalised.Base.html#2663" class="Bound">y</a><a id="2675" class="Symbol">)</a>

<a id="_≯_"></a><a id="2678" href="Data.Rational.Unnormalised.Base.html#2678" class="Function Operator">_≯_</a> <a id="2682" class="Symbol">:</a> <a id="2684" href="Relation.Binary.Core.html#882" class="Function">Rel</a> <a id="2688" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2691" href="Level.html#512" class="Function">0ℓ</a>
<a id="2694" href="Data.Rational.Unnormalised.Base.html#2694" class="Bound">x</a> <a id="2696" href="Data.Rational.Unnormalised.Base.html#2678" class="Function Operator">≯</a> <a id="2698" href="Data.Rational.Unnormalised.Base.html#2698" class="Bound">y</a> <a id="2700" class="Symbol">=</a> <a id="2702" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="2704" class="Symbol">(</a><a id="2705" href="Data.Rational.Unnormalised.Base.html#2694" class="Bound">x</a> <a id="2707" href="Data.Rational.Unnormalised.Base.html#2542" class="Function Operator">&gt;</a> <a id="2709" href="Data.Rational.Unnormalised.Base.html#2698" class="Bound">y</a><a id="2710" class="Symbol">)</a>

<a id="2713" class="Comment">------------------------------------------------------------------------</a>
<a id="2786" class="Comment">-- Boolean ordering</a>

<a id="2807" class="Keyword">infix</a> <a id="2813" class="Number">4</a> <a id="2815" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">_≤ᵇ_</a>

<a id="_≤ᵇ_"></a><a id="2821" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">_≤ᵇ_</a> <a id="2826" class="Symbol">:</a> <a id="2828" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2831" class="Symbol">→</a> <a id="2833" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="2836" class="Symbol">→</a> <a id="2838" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a>
<a id="2843" href="Data.Rational.Unnormalised.Base.html#2843" class="Bound">p</a> <a id="2845" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">≤ᵇ</a> <a id="2848" href="Data.Rational.Unnormalised.Base.html#2848" class="Bound">q</a> <a id="2850" class="Symbol">=</a> <a id="2852" class="Symbol">(</a><a id="2853" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2855" href="Data.Rational.Unnormalised.Base.html#2843" class="Bound">p</a> <a id="2857" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2861" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2863" href="Data.Rational.Unnormalised.Base.html#2848" class="Bound">q</a><a id="2864" class="Symbol">)</a> <a id="2866" href="Data.Integer.Base.html#2622" class="Function Operator">ℤ.≤ᵇ</a> <a id="2871" class="Symbol">(</a><a id="2872" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="2874" href="Data.Rational.Unnormalised.Base.html#2848" class="Bound">q</a> <a id="2876" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="2880" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="2882" href="Data.Rational.Unnormalised.Base.html#2843" class="Bound">p</a><a id="2883" class="Symbol">)</a>

<a id="2886" class="Comment">------------------------------------------------------------------------</a>
<a id="2959" class="Comment">-- Constructing rationals</a>

<a id="2986" class="Comment">-- An alternative constructor for ℚᵘ. See the constants section below</a>
<a id="3056" class="Comment">-- for examples of how to use this operator.</a>

<a id="3102" class="Keyword">infixl</a> <a id="3109" class="Number">7</a> <a id="3111" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">_/_</a>

<a id="_/_"></a><a id="3116" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">_/_</a> <a id="3120" class="Symbol">:</a> <a id="3122" class="Symbol">(</a><a id="3123" href="Data.Rational.Unnormalised.Base.html#3123" class="Bound">n</a> <a id="3125" class="Symbol">:</a> <a id="3127" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a><a id="3128" class="Symbol">)</a> <a id="3130" class="Symbol">(</a><a id="3131" href="Data.Rational.Unnormalised.Base.html#3131" class="Bound">d</a> <a id="3133" class="Symbol">:</a> <a id="3135" href="Agda.Builtin.Nat.html#192" class="Datatype">ℕ</a><a id="3136" class="Symbol">)</a> <a id="3138" class="Symbol">.{{</a><a id="3141" href="Data.Rational.Unnormalised.Base.html#3141" class="Bound">_</a> <a id="3143" class="Symbol">:</a> <a id="3145" href="Data.Nat.Base.html#2580" class="Record">ℕ.NonZero</a> <a id="3155" href="Data.Rational.Unnormalised.Base.html#3131" class="Bound">d</a><a id="3156" class="Symbol">}}</a> <a id="3159" class="Symbol">→</a> <a id="3161" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="3164" href="Data.Rational.Unnormalised.Base.html#3164" class="Bound">n</a> <a id="3166" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="3168" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="3172" href="Data.Rational.Unnormalised.Base.html#3172" class="Bound">d</a> <a id="3174" class="Symbol">=</a> <a id="3176" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="3181" href="Data.Rational.Unnormalised.Base.html#3164" class="Bound">n</a> <a id="3183" href="Data.Rational.Unnormalised.Base.html#3172" class="Bound">d</a>

<a id="3186" class="Comment">------------------------------------------------------------------------------</a>
<a id="3265" class="Comment">-- Some constants</a>

<a id="0ℚᵘ"></a><a id="3284" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="3288" class="Symbol">:</a> <a id="3290" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="3293" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="3297" class="Symbol">=</a> <a id="3299" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3301" class="Number">0</a> <a id="3303" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="3305" class="Number">1</a>

<a id="1ℚᵘ"></a><a id="3308" href="Data.Rational.Unnormalised.Base.html#3308" class="Function">1ℚᵘ</a> <a id="3312" class="Symbol">:</a> <a id="3314" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="3317" href="Data.Rational.Unnormalised.Base.html#3308" class="Function">1ℚᵘ</a> <a id="3321" class="Symbol">=</a> <a id="3323" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3325" class="Number">1</a> <a id="3327" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="3329" class="Number">1</a>

<a id="½"></a><a id="3332" href="Data.Rational.Unnormalised.Base.html#3332" class="Function">½</a> <a id="3334" class="Symbol">:</a> <a id="3336" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="3339" href="Data.Rational.Unnormalised.Base.html#3332" class="Function">½</a> <a id="3341" class="Symbol">=</a> <a id="3343" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3345" class="Number">1</a> <a id="3347" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="3349" class="Number">2</a>

<a id="-½"></a><a id="3352" href="Data.Rational.Unnormalised.Base.html#3352" class="Function">-½</a> <a id="3355" class="Symbol">:</a> <a id="3357" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="3360" href="Data.Rational.Unnormalised.Base.html#3352" class="Function">-½</a> <a id="3363" class="Symbol">=</a> <a id="3365" href="Data.Integer.Base.html#4680" class="Function Operator">ℤ.-</a> <a id="3369" class="Symbol">(</a><a id="3370" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="3372" class="Number">1</a><a id="3373" class="Symbol">)</a> <a id="3375" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="3377" class="Number">2</a>

<a id="3380" class="Comment">------------------------------------------------------------------------</a>
<a id="3453" class="Comment">-- Simple predicates</a>

<a id="NonZero"></a><a id="3475" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="3483" class="Symbol">:</a> <a id="3485" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3490" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="3493" href="Level.html#512" class="Function">0ℓ</a>
<a id="3496" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="3504" href="Data.Rational.Unnormalised.Base.html#3504" class="Bound">p</a> <a id="3506" class="Symbol">=</a> <a id="3508" href="Data.Integer.Base.html#2924" class="Function">ℤ.NonZero</a> <a id="3518" class="Symbol">(</a><a id="3519" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="3521" href="Data.Rational.Unnormalised.Base.html#3504" class="Bound">p</a><a id="3522" class="Symbol">)</a>

<a id="Positive"></a><a id="3525" href="Data.Rational.Unnormalised.Base.html#3525" class="Function">Positive</a> <a id="3534" class="Symbol">:</a> <a id="3536" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3541" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="3544" href="Level.html#512" class="Function">0ℓ</a>
<a id="3547" href="Data.Rational.Unnormalised.Base.html#3525" class="Function">Positive</a> <a id="3556" href="Data.Rational.Unnormalised.Base.html#3556" class="Bound">p</a> <a id="3558" class="Symbol">=</a> <a id="3560" href="Data.Integer.Base.html#2980" class="Record">ℤ.Positive</a> <a id="3571" class="Symbol">(</a><a id="3572" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="3574" href="Data.Rational.Unnormalised.Base.html#3556" class="Bound">p</a><a id="3575" class="Symbol">)</a>

<a id="Negative"></a><a id="3578" href="Data.Rational.Unnormalised.Base.html#3578" class="Function">Negative</a> <a id="3587" class="Symbol">:</a> <a id="3589" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3594" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="3597" href="Level.html#512" class="Function">0ℓ</a>
<a id="3600" href="Data.Rational.Unnormalised.Base.html#3578" class="Function">Negative</a> <a id="3609" href="Data.Rational.Unnormalised.Base.html#3609" class="Bound">p</a> <a id="3611" class="Symbol">=</a> <a id="3613" href="Data.Integer.Base.html#3193" class="Record">ℤ.Negative</a> <a id="3624" class="Symbol">(</a><a id="3625" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="3627" href="Data.Rational.Unnormalised.Base.html#3609" class="Bound">p</a><a id="3628" class="Symbol">)</a>

<a id="NonPositive"></a><a id="3631" href="Data.Rational.Unnormalised.Base.html#3631" class="Function">NonPositive</a> <a id="3643" class="Symbol">:</a> <a id="3645" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3650" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="3653" href="Level.html#512" class="Function">0ℓ</a>
<a id="3656" href="Data.Rational.Unnormalised.Base.html#3631" class="Function">NonPositive</a> <a id="3668" href="Data.Rational.Unnormalised.Base.html#3668" class="Bound">p</a> <a id="3670" class="Symbol">=</a> <a id="3672" href="Data.Integer.Base.html#3120" class="Record">ℤ.NonPositive</a> <a id="3686" class="Symbol">(</a><a id="3687" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="3689" href="Data.Rational.Unnormalised.Base.html#3668" class="Bound">p</a><a id="3690" class="Symbol">)</a>

<a id="NonNegative"></a><a id="3693" href="Data.Rational.Unnormalised.Base.html#3693" class="Function">NonNegative</a> <a id="3705" class="Symbol">:</a> <a id="3707" href="Relation.Unary.html#1101" class="Function">Pred</a> <a id="3712" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="3715" href="Level.html#512" class="Function">0ℓ</a>
<a id="3718" href="Data.Rational.Unnormalised.Base.html#3693" class="Function">NonNegative</a> <a id="3730" href="Data.Rational.Unnormalised.Base.html#3730" class="Bound">p</a> <a id="3732" class="Symbol">=</a> <a id="3734" href="Data.Integer.Base.html#3047" class="Record">ℤ.NonNegative</a> <a id="3748" class="Symbol">(</a><a id="3749" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="3751" href="Data.Rational.Unnormalised.Base.html#3730" class="Bound">p</a><a id="3752" class="Symbol">)</a>

<a id="3755" class="Comment">-- Constructors and destructors</a>

<a id="3788" class="Comment">-- Note: these could be proved more elegantly using the constructors</a>
<a id="3857" class="Comment">-- from ℤ but it requires importing `Data.Integer.Properties` which</a>
<a id="3925" class="Comment">-- we would like to avoid doing.</a>

<a id="≢-nonZero"></a><a id="3959" href="Data.Rational.Unnormalised.Base.html#3959" class="Function">≢-nonZero</a> <a id="3969" class="Symbol">:</a> <a id="3971" class="Symbol">∀</a> <a id="3973" class="Symbol">{</a><a id="3974" href="Data.Rational.Unnormalised.Base.html#3974" class="Bound">p</a><a id="3975" class="Symbol">}</a> <a id="3977" class="Symbol">→</a> <a id="3979" href="Data.Rational.Unnormalised.Base.html#3974" class="Bound">p</a> <a id="3981" href="Data.Rational.Unnormalised.Base.html#2164" class="Function Operator">≠</a> <a id="3983" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="3987" class="Symbol">→</a> <a id="3989" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="3997" href="Data.Rational.Unnormalised.Base.html#3974" class="Bound">p</a>
<a id="3999" href="Data.Rational.Unnormalised.Base.html#3959" class="Function">≢-nonZero</a> <a id="4009" class="Symbol">{</a><a id="4010" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4015" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="4020" class="Symbol">_</a> <a id="4022" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="4024" class="Symbol">_</a>      <a id="4031" class="Symbol">}</a> <a id="4033" class="Symbol">_</a>   <a id="4037" class="Symbol">=</a> <a id="4039" class="Symbol">_</a>
<a id="4041" href="Data.Rational.Unnormalised.Base.html#3959" class="Function">≢-nonZero</a> <a id="4051" class="Symbol">{</a><a id="4052" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4057" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="4062" class="Symbol">_</a> <a id="4064" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="4066" class="Symbol">_</a>      <a id="4073" class="Symbol">}</a> <a id="4075" class="Symbol">_</a>   <a id="4079" class="Symbol">=</a> <a id="4081" class="Symbol">_</a>
<a id="4083" href="Data.Rational.Unnormalised.Base.html#3959" class="Function">≢-nonZero</a> <a id="4093" class="Symbol">{</a><a id="4094" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4099" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>       <a id="4108" href="Agda.Builtin.Nat.html#210" class="InductiveConstructor">zero</a>   <a id="4115" class="Symbol">}</a> <a id="4117" href="Data.Rational.Unnormalised.Base.html#4117" class="Bound">p≢0</a> <a id="4121" class="Symbol">=</a> <a id="4123" href="Relation.Nullary.Negation.Core.html#1051" class="Function">contradiction</a> <a id="4137" class="Symbol">(</a><a id="4138" href="Data.Rational.Unnormalised.Base.html#2109" class="InductiveConstructor">*≡*</a> <a id="4142" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="4146" class="Symbol">)</a> <a id="4148" href="Data.Rational.Unnormalised.Base.html#4117" class="Bound">p≢0</a>
<a id="4152" href="Data.Rational.Unnormalised.Base.html#3959" class="Function">≢-nonZero</a> <a id="4162" class="Symbol">{</a><a id="4163" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4168" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>       <a id="4177" class="Symbol">(</a><a id="4178" href="Agda.Builtin.Nat.html#223" class="InductiveConstructor">suc</a> <a id="4182" href="Data.Rational.Unnormalised.Base.html#4182" class="Bound">d</a><a id="4183" class="Symbol">)}</a> <a id="4186" href="Data.Rational.Unnormalised.Base.html#4186" class="Bound">p≢0</a> <a id="4190" class="Symbol">=</a> <a id="4192" href="Relation.Nullary.Negation.Core.html#1051" class="Function">contradiction</a> <a id="4206" class="Symbol">(</a><a id="4207" href="Data.Rational.Unnormalised.Base.html#2109" class="InductiveConstructor">*≡*</a> <a id="4211" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a><a id="4215" class="Symbol">)</a> <a id="4217" href="Data.Rational.Unnormalised.Base.html#4186" class="Bound">p≢0</a>

<a id="&gt;-nonZero"></a><a id="4222" href="Data.Rational.Unnormalised.Base.html#4222" class="Function">&gt;-nonZero</a> <a id="4232" class="Symbol">:</a> <a id="4234" class="Symbol">∀</a> <a id="4236" class="Symbol">{</a><a id="4237" href="Data.Rational.Unnormalised.Base.html#4237" class="Bound">p</a><a id="4238" class="Symbol">}</a> <a id="4240" class="Symbol">→</a> <a id="4242" href="Data.Rational.Unnormalised.Base.html#4237" class="Bound">p</a> <a id="4244" href="Data.Rational.Unnormalised.Base.html#2542" class="Function Operator">&gt;</a> <a id="4246" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="4250" class="Symbol">→</a> <a id="4252" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="4260" href="Data.Rational.Unnormalised.Base.html#4237" class="Bound">p</a>
<a id="4262" href="Data.Rational.Unnormalised.Base.html#4222" class="Function">&gt;-nonZero</a> <a id="4272" class="Symbol">{</a><a id="4273" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4278" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>       <a id="4287" class="Symbol">_}</a> <a id="4290" class="Symbol">(</a><a id="4291" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4295" class="Symbol">(</a><a id="4296" href="Data.Integer.Base.html#2265" class="InductiveConstructor">+&lt;+</a> <a id="4300" class="Symbol">()))</a>
<a id="4305" href="Data.Rational.Unnormalised.Base.html#4222" class="Function">&gt;-nonZero</a> <a id="4315" class="Symbol">{</a><a id="4316" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4321" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="4326" href="Data.Rational.Unnormalised.Base.html#4326" class="Bound">n</a> <a id="4328" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="4330" class="Symbol">_}</a> <a id="4333" class="Symbol">(</a><a id="4334" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4338" class="Symbol">_)</a> <a id="4341" class="Symbol">=</a> <a id="4343" class="Symbol">_</a>

<a id="&lt;-nonZero"></a><a id="4346" href="Data.Rational.Unnormalised.Base.html#4346" class="Function">&lt;-nonZero</a> <a id="4356" class="Symbol">:</a> <a id="4358" class="Symbol">∀</a> <a id="4360" class="Symbol">{</a><a id="4361" href="Data.Rational.Unnormalised.Base.html#4361" class="Bound">p</a><a id="4362" class="Symbol">}</a> <a id="4364" class="Symbol">→</a> <a id="4366" href="Data.Rational.Unnormalised.Base.html#4361" class="Bound">p</a> <a id="4368" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">&lt;</a> <a id="4370" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="4374" class="Symbol">→</a> <a id="4376" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="4384" href="Data.Rational.Unnormalised.Base.html#4361" class="Bound">p</a>
<a id="4386" href="Data.Rational.Unnormalised.Base.html#4346" class="Function">&lt;-nonZero</a> <a id="4396" class="Symbol">{</a><a id="4397" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4402" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="4407" href="Data.Rational.Unnormalised.Base.html#4407" class="Bound">n</a> <a id="4409" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="4411" class="Symbol">_}</a> <a id="4414" class="Symbol">(</a><a id="4415" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4419" class="Symbol">_)</a> <a id="4422" class="Symbol">=</a> <a id="4424" class="Symbol">_</a>
<a id="4426" href="Data.Rational.Unnormalised.Base.html#4346" class="Function">&lt;-nonZero</a> <a id="4436" class="Symbol">{</a><a id="4437" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4442" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a> <a id="4445" class="Symbol">_}</a>       <a id="4454" class="Symbol">(</a><a id="4455" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4459" class="Symbol">(</a><a id="4460" href="Data.Integer.Base.html#2265" class="InductiveConstructor">+&lt;+</a> <a id="4464" class="Symbol">()))</a>
<a id="4469" href="Data.Rational.Unnormalised.Base.html#4346" class="Function">&lt;-nonZero</a> <a id="4479" class="Symbol">{</a><a id="4480" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4485" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="4490" href="Data.Rational.Unnormalised.Base.html#4490" class="Bound">n</a> <a id="4492" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="4494" class="Symbol">_}</a> <a id="4497" class="Symbol">(</a><a id="4498" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4502" class="Symbol">_)</a> <a id="4505" class="Symbol">=</a> <a id="4507" class="Symbol">_</a>

<a id="positive"></a><a id="4510" href="Data.Rational.Unnormalised.Base.html#4510" class="Function">positive</a> <a id="4519" class="Symbol">:</a> <a id="4521" class="Symbol">∀</a> <a id="4523" class="Symbol">{</a><a id="4524" href="Data.Rational.Unnormalised.Base.html#4524" class="Bound">p</a><a id="4525" class="Symbol">}</a> <a id="4527" class="Symbol">→</a> <a id="4529" href="Data.Rational.Unnormalised.Base.html#4524" class="Bound">p</a> <a id="4531" href="Data.Rational.Unnormalised.Base.html#2542" class="Function Operator">&gt;</a> <a id="4533" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="4537" class="Symbol">→</a> <a id="4539" href="Data.Rational.Unnormalised.Base.html#3525" class="Function">Positive</a> <a id="4548" href="Data.Rational.Unnormalised.Base.html#4524" class="Bound">p</a>
<a id="4550" href="Data.Rational.Unnormalised.Base.html#4510" class="Function">positive</a> <a id="4559" class="Symbol">{</a><a id="4560" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4565" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="4570" href="Data.Rational.Unnormalised.Base.html#4570" class="Bound">n</a> <a id="4572" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a>   <a id="4576" class="Symbol">_}</a> <a id="4579" class="Symbol">(</a><a id="4580" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4584" class="Symbol">_)</a> <a id="4587" class="Symbol">=</a> <a id="4589" class="Symbol">_</a>
<a id="4591" href="Data.Rational.Unnormalised.Base.html#4510" class="Function">positive</a> <a id="4600" class="Symbol">{</a><a id="4601" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4606" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>         <a id="4617" class="Symbol">_}</a> <a id="4620" class="Symbol">(</a><a id="4621" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4625" class="Symbol">(</a><a id="4626" href="Data.Integer.Base.html#2265" class="InductiveConstructor">+&lt;+</a> <a id="4630" class="Symbol">()))</a>
<a id="4635" href="Data.Rational.Unnormalised.Base.html#4510" class="Function">positive</a> <a id="4644" class="Symbol">{</a><a id="4645" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4650" class="Symbol">(</a><a id="4651" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+_]</a> <a id="4658" href="Data.Rational.Unnormalised.Base.html#4658" class="Bound">n</a><a id="4659" class="Symbol">)</a> <a id="4661" class="Symbol">_}</a> <a id="4664" class="Symbol">(</a><a id="4665" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4669" class="Symbol">())</a>

<a id="negative"></a><a id="4674" href="Data.Rational.Unnormalised.Base.html#4674" class="Function">negative</a> <a id="4683" class="Symbol">:</a> <a id="4685" class="Symbol">∀</a> <a id="4687" class="Symbol">{</a><a id="4688" href="Data.Rational.Unnormalised.Base.html#4688" class="Bound">p</a><a id="4689" class="Symbol">}</a> <a id="4691" class="Symbol">→</a> <a id="4693" href="Data.Rational.Unnormalised.Base.html#4688" class="Bound">p</a> <a id="4695" href="Data.Rational.Unnormalised.Base.html#2430" class="Datatype Operator">&lt;</a> <a id="4697" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="4701" class="Symbol">→</a> <a id="4703" href="Data.Rational.Unnormalised.Base.html#3578" class="Function">Negative</a> <a id="4712" href="Data.Rational.Unnormalised.Base.html#4688" class="Bound">p</a>
<a id="4714" href="Data.Rational.Unnormalised.Base.html#4674" class="Function">negative</a> <a id="4723" class="Symbol">{</a><a id="4724" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4729" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="4734" href="Data.Rational.Unnormalised.Base.html#4734" class="Bound">n</a> <a id="4736" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a>   <a id="4740" class="Symbol">_}</a> <a id="4743" class="Symbol">(</a><a id="4744" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4748" class="Symbol">(</a><a id="4749" href="Data.Integer.Base.html#2265" class="InductiveConstructor">+&lt;+</a> <a id="4753" class="Symbol">()))</a>
<a id="4758" href="Data.Rational.Unnormalised.Base.html#4674" class="Function">negative</a> <a id="4767" class="Symbol">{</a><a id="4768" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4773" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>         <a id="4784" class="Symbol">_}</a> <a id="4787" class="Symbol">(</a><a id="4788" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4792" class="Symbol">(</a><a id="4793" href="Data.Integer.Base.html#2265" class="InductiveConstructor">+&lt;+</a> <a id="4797" class="Symbol">()))</a>
<a id="4802" href="Data.Rational.Unnormalised.Base.html#4674" class="Function">negative</a> <a id="4811" class="Symbol">{</a><a id="4812" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+_]</a> <a id="4825" href="Data.Rational.Unnormalised.Base.html#4825" class="Bound">n</a><a id="4826" class="Symbol">)</a> <a id="4828" class="Symbol">_}</a> <a id="4831" class="Symbol">(</a><a id="4832" href="Data.Rational.Unnormalised.Base.html#2454" class="InductiveConstructor">*&lt;*</a> <a id="4836" class="Symbol">_</a>       <a id="4844" class="Symbol">)</a> <a id="4846" class="Symbol">=</a> <a id="4848" class="Symbol">_</a>

<a id="nonPositive"></a><a id="4851" href="Data.Rational.Unnormalised.Base.html#4851" class="Function">nonPositive</a> <a id="4863" class="Symbol">:</a> <a id="4865" class="Symbol">∀</a> <a id="4867" class="Symbol">{</a><a id="4868" href="Data.Rational.Unnormalised.Base.html#4868" class="Bound">p</a><a id="4869" class="Symbol">}</a> <a id="4871" class="Symbol">→</a> <a id="4873" href="Data.Rational.Unnormalised.Base.html#4868" class="Bound">p</a> <a id="4875" href="Data.Rational.Unnormalised.Base.html#2344" class="Datatype Operator">≤</a> <a id="4877" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="4881" class="Symbol">→</a> <a id="4883" href="Data.Rational.Unnormalised.Base.html#3631" class="Function">NonPositive</a> <a id="4895" href="Data.Rational.Unnormalised.Base.html#4868" class="Bound">p</a>
<a id="4897" href="Data.Rational.Unnormalised.Base.html#4851" class="Function">nonPositive</a> <a id="4909" class="Symbol">{</a><a id="4910" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4915" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="4920" href="Data.Rational.Unnormalised.Base.html#4920" class="Bound">n</a> <a id="4922" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="4924" class="Symbol">_}</a> <a id="4927" class="Symbol">(</a><a id="4928" href="Data.Rational.Unnormalised.Base.html#2368" class="InductiveConstructor">*≤*</a> <a id="4932" class="Symbol">(</a><a id="4933" href="Data.Integer.Base.html#2100" class="InductiveConstructor">+≤+</a> <a id="4937" class="Symbol">()))</a>
<a id="4942" href="Data.Rational.Unnormalised.Base.html#4851" class="Function">nonPositive</a> <a id="4954" class="Symbol">{</a><a id="4955" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="4960" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>       <a id="4969" class="Symbol">_}</a> <a id="4972" class="Symbol">(</a><a id="4973" href="Data.Rational.Unnormalised.Base.html#2368" class="InductiveConstructor">*≤*</a> <a id="4977" class="Symbol">_)</a> <a id="4980" class="Symbol">=</a> <a id="4982" class="Symbol">_</a>
<a id="4984" href="Data.Rational.Unnormalised.Base.html#4851" class="Function">nonPositive</a> <a id="4996" class="Symbol">{</a><a id="4997" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="5002" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="5007" href="Data.Rational.Unnormalised.Base.html#5007" class="Bound">n</a> <a id="5009" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="5011" class="Symbol">_}</a> <a id="5014" class="Symbol">(</a><a id="5015" href="Data.Rational.Unnormalised.Base.html#2368" class="InductiveConstructor">*≤*</a> <a id="5019" class="Symbol">_)</a> <a id="5022" class="Symbol">=</a> <a id="5024" class="Symbol">_</a>

<a id="nonNegative"></a><a id="5027" href="Data.Rational.Unnormalised.Base.html#5027" class="Function">nonNegative</a> <a id="5039" class="Symbol">:</a> <a id="5041" class="Symbol">∀</a> <a id="5043" class="Symbol">{</a><a id="5044" href="Data.Rational.Unnormalised.Base.html#5044" class="Bound">p</a><a id="5045" class="Symbol">}</a> <a id="5047" class="Symbol">→</a> <a id="5049" href="Data.Rational.Unnormalised.Base.html#5044" class="Bound">p</a> <a id="5051" href="Data.Rational.Unnormalised.Base.html#2511" class="Function Operator">≥</a> <a id="5053" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a> <a id="5057" class="Symbol">→</a> <a id="5059" href="Data.Rational.Unnormalised.Base.html#3693" class="Function">NonNegative</a> <a id="5071" href="Data.Rational.Unnormalised.Base.html#5044" class="Bound">p</a>
<a id="5073" href="Data.Rational.Unnormalised.Base.html#5027" class="Function">nonNegative</a> <a id="5085" class="Symbol">{</a><a id="5086" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="5091" href="Data.Integer.Base.html#1405" class="InductiveConstructor">+0</a>       <a id="5100" class="Symbol">_}</a> <a id="5103" class="Symbol">(</a><a id="5104" href="Data.Rational.Unnormalised.Base.html#2368" class="InductiveConstructor">*≤*</a> <a id="5108" class="Symbol">_)</a> <a id="5111" class="Symbol">=</a> <a id="5113" class="Symbol">_</a>
<a id="5115" href="Data.Rational.Unnormalised.Base.html#5027" class="Function">nonNegative</a> <a id="5127" class="Symbol">{</a><a id="5128" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="5133" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="5138" href="Data.Rational.Unnormalised.Base.html#5138" class="Bound">n</a> <a id="5140" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="5142" class="Symbol">_}</a> <a id="5145" class="Symbol">(</a><a id="5146" href="Data.Rational.Unnormalised.Base.html#2368" class="InductiveConstructor">*≤*</a> <a id="5150" class="Symbol">_)</a> <a id="5153" class="Symbol">=</a> <a id="5155" class="Symbol">_</a>

<a id="5158" class="Comment">------------------------------------------------------------------------------</a>
<a id="5237" class="Comment">-- Operations on rationals</a>

<a id="5265" class="Comment">-- Explanation for `@record{}` everywhere: combined with no-eta-equality on</a>
<a id="5341" class="Comment">-- the record definition of ℚᵘ above, these annotations prevent the operations</a>
<a id="5420" class="Comment">-- from automatically expanding unless their arguments are explicitly pattern</a>
<a id="5498" class="Comment">-- matched on.</a>
<a id="5513" class="Comment">--</a>
<a id="5516" class="Comment">-- For example prior to their addition, `p + q` would often be normalised by</a>
<a id="5593" class="Comment">-- Agda to `(↥ p ℤ.* ↧ q ℤ.+ ↥ q ℤ.* ↧ p) / (↧ₙ p ℕ.* ↧ₙ q)`. While in this</a>
<a id="5669" class="Comment">-- small example this isn&#39;t a big problem, it leads to an exponential blowup</a>
<a id="5746" class="Comment">-- when you have large arithmetic expressions which would often choke</a>
<a id="5816" class="Comment">-- both type-checking and the display code. For example, the normalised</a>
<a id="5888" class="Comment">-- form of `p + q + r + s + t + u` would be ~300 lines long.</a>
<a id="5949" class="Comment">--</a>
<a id="5952" class="Comment">-- This is fundementally a problem with Agda, so if over-eager normalisation</a>
<a id="6029" class="Comment">-- is ever fixed in Agda (e.g. with glued representation of terms) these</a>
<a id="6102" class="Comment">-- annotations can be removed.</a>

<a id="6134" class="Keyword">infix</a>  <a id="6141" class="Number">8</a> <a id="6143" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-_</a> <a id="6146" href="Data.Rational.Unnormalised.Base.html#6570" class="Function Operator">1/_</a>
<a id="6150" class="Keyword">infixl</a> <a id="6157" class="Number">7</a> <a id="6159" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a> <a id="6163" href="Data.Rational.Unnormalised.Base.html#6750" class="Function Operator">_÷_</a> <a id="6167" href="Data.Rational.Unnormalised.Base.html#6918" class="Function Operator">_⊓_</a>
<a id="6171" class="Keyword">infixl</a> <a id="6178" class="Number">6</a> <a id="6180" href="Data.Rational.Unnormalised.Base.html#6468" class="Function Operator">_-_</a> <a id="6184" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a> <a id="6188" href="Data.Rational.Unnormalised.Base.html#6838" class="Function Operator">_⊔_</a>

<a id="6193" class="Comment">-- negation</a>

<a id="-_"></a><a id="6206" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-_</a> <a id="6209" class="Symbol">:</a> <a id="6211" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6214" class="Symbol">→</a> <a id="6216" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6219" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-</a> <a id="6221" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="6226" href="Data.Rational.Unnormalised.Base.html#6226" class="Bound">n</a> <a id="6228" href="Data.Rational.Unnormalised.Base.html#6228" class="Bound">d</a> <a id="6230" class="Symbol">=</a> <a id="6232" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="6237" class="Symbol">(</a><a id="6238" href="Data.Integer.Base.html#4680" class="Function Operator">ℤ.-</a> <a id="6242" href="Data.Rational.Unnormalised.Base.html#6226" class="Bound">n</a><a id="6243" class="Symbol">)</a> <a id="6245" href="Data.Rational.Unnormalised.Base.html#6228" class="Bound">d</a>

<a id="6248" class="Comment">-- addition</a>

<a id="_+_"></a><a id="6261" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a> <a id="6265" class="Symbol">:</a> <a id="6267" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6270" class="Symbol">→</a> <a id="6272" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6275" class="Symbol">→</a> <a id="6277" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6280" href="Data.Rational.Unnormalised.Base.html#6280" class="Bound">p</a><a id="6281" class="Symbol">@</a><a id="6282" class="Keyword">record</a><a id="6288" class="Symbol">{}</a> <a id="6291" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">+</a> <a id="6293" href="Data.Rational.Unnormalised.Base.html#6293" class="Bound">q</a><a id="6294" class="Symbol">@</a><a id="6295" class="Keyword">record</a><a id="6301" class="Symbol">{}</a> <a id="6304" class="Symbol">=</a> <a id="6306" class="Symbol">(</a><a id="6307" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="6309" href="Data.Rational.Unnormalised.Base.html#6280" class="Bound">p</a> <a id="6311" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="6315" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="6317" href="Data.Rational.Unnormalised.Base.html#6293" class="Bound">q</a> <a id="6319" href="Data.Integer.Base.html#5025" class="Function Operator">ℤ.+</a> <a id="6323" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="6325" href="Data.Rational.Unnormalised.Base.html#6293" class="Bound">q</a> <a id="6327" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="6331" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="6333" href="Data.Rational.Unnormalised.Base.html#6280" class="Bound">p</a><a id="6334" class="Symbol">)</a> <a id="6336" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="6338" class="Symbol">(</a><a id="6339" href="Data.Rational.Unnormalised.Base.html#1919" class="Function Operator">↧ₙ</a> <a id="6342" href="Data.Rational.Unnormalised.Base.html#6280" class="Bound">p</a> <a id="6344" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="6348" href="Data.Rational.Unnormalised.Base.html#1919" class="Function Operator">↧ₙ</a> <a id="6351" href="Data.Rational.Unnormalised.Base.html#6293" class="Bound">q</a><a id="6352" class="Symbol">)</a>

<a id="6355" class="Comment">-- multiplication</a>

<a id="_*_"></a><a id="6374" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a> <a id="6378" class="Symbol">:</a> <a id="6380" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6383" class="Symbol">→</a> <a id="6385" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6388" class="Symbol">→</a> <a id="6390" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6393" href="Data.Rational.Unnormalised.Base.html#6393" class="Bound">p</a><a id="6394" class="Symbol">@</a><a id="6395" class="Keyword">record</a><a id="6401" class="Symbol">{}</a> <a id="6404" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">*</a> <a id="6406" href="Data.Rational.Unnormalised.Base.html#6406" class="Bound">q</a><a id="6407" class="Symbol">@</a><a id="6408" class="Keyword">record</a><a id="6414" class="Symbol">{}</a> <a id="6417" class="Symbol">=</a> <a id="6419" class="Symbol">(</a><a id="6420" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="6422" href="Data.Rational.Unnormalised.Base.html#6393" class="Bound">p</a> <a id="6424" href="Data.Integer.Base.html#5352" class="Function Operator">ℤ.*</a> <a id="6428" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="6430" href="Data.Rational.Unnormalised.Base.html#6406" class="Bound">q</a><a id="6431" class="Symbol">)</a> <a id="6433" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="6435" class="Symbol">(</a><a id="6436" href="Data.Rational.Unnormalised.Base.html#1919" class="Function Operator">↧ₙ</a> <a id="6439" href="Data.Rational.Unnormalised.Base.html#6393" class="Bound">p</a> <a id="6441" href="Agda.Builtin.Nat.html#528" class="Primitive Operator">ℕ.*</a> <a id="6445" href="Data.Rational.Unnormalised.Base.html#1919" class="Function Operator">↧ₙ</a> <a id="6448" href="Data.Rational.Unnormalised.Base.html#6406" class="Bound">q</a><a id="6449" class="Symbol">)</a>

<a id="6452" class="Comment">-- subtraction</a>

<a id="_-_"></a><a id="6468" href="Data.Rational.Unnormalised.Base.html#6468" class="Function Operator">_-_</a> <a id="6472" class="Symbol">:</a> <a id="6474" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6477" class="Symbol">→</a> <a id="6479" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="6482" class="Symbol">→</a> <a id="6484" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6487" href="Data.Rational.Unnormalised.Base.html#6487" class="Bound">p</a> <a id="6489" href="Data.Rational.Unnormalised.Base.html#6468" class="Function Operator">-</a> <a id="6491" href="Data.Rational.Unnormalised.Base.html#6491" class="Bound">q</a> <a id="6493" class="Symbol">=</a> <a id="6495" href="Data.Rational.Unnormalised.Base.html#6487" class="Bound">p</a> <a id="6497" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">+</a> <a id="6499" class="Symbol">(</a><a id="6500" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-</a> <a id="6502" href="Data.Rational.Unnormalised.Base.html#6491" class="Bound">q</a><a id="6503" class="Symbol">)</a>

<a id="6506" class="Comment">-- reciprocal: requires a proof that the numerator is not zero</a>

<a id="1/_"></a><a id="6570" href="Data.Rational.Unnormalised.Base.html#6570" class="Function Operator">1/_</a> <a id="6574" class="Symbol">:</a> <a id="6576" class="Symbol">(</a><a id="6577" href="Data.Rational.Unnormalised.Base.html#6577" class="Bound">p</a> <a id="6579" class="Symbol">:</a> <a id="6581" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a><a id="6583" class="Symbol">)</a> <a id="6585" class="Symbol">→</a> <a id="6587" class="Symbol">.{{</a><a id="6590" href="Data.Rational.Unnormalised.Base.html#6590" class="Bound">_</a> <a id="6592" class="Symbol">:</a> <a id="6594" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="6602" href="Data.Rational.Unnormalised.Base.html#6577" class="Bound">p</a><a id="6603" class="Symbol">}}</a> <a id="6606" class="Symbol">→</a> <a id="6608" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6611" href="Data.Rational.Unnormalised.Base.html#6570" class="Function Operator">1/</a> <a id="6614" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="6619" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="6624" href="Data.Rational.Unnormalised.Base.html#6624" class="Bound">n</a> <a id="6626" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="6628" href="Data.Rational.Unnormalised.Base.html#6628" class="Bound">d</a> <a id="6630" class="Symbol">=</a> <a id="6632" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="6637" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">+[1+</a> <a id="6642" href="Data.Rational.Unnormalised.Base.html#6628" class="Bound">d</a> <a id="6644" href="Data.Integer.Base.html#1428" class="InductiveConstructor Operator">]</a> <a id="6646" href="Data.Rational.Unnormalised.Base.html#6624" class="Bound">n</a>
<a id="6648" href="Data.Rational.Unnormalised.Base.html#6570" class="Function Operator">1/</a> <a id="6651" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="6656" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6661" href="Data.Rational.Unnormalised.Base.html#6661" class="Bound">n</a> <a id="6663" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6665" href="Data.Rational.Unnormalised.Base.html#6665" class="Bound">d</a> <a id="6667" class="Symbol">=</a> <a id="6669" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="6674" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">-[1+</a> <a id="6679" href="Data.Rational.Unnormalised.Base.html#6665" class="Bound">d</a> <a id="6681" href="Agda.Builtin.Int.html#291" class="InductiveConstructor Operator">]</a> <a id="6683" href="Data.Rational.Unnormalised.Base.html#6661" class="Bound">n</a>

<a id="6686" class="Comment">-- division: requires a proof that the denominator is not zero</a>

<a id="_÷_"></a><a id="6750" href="Data.Rational.Unnormalised.Base.html#6750" class="Function Operator">_÷_</a> <a id="6754" class="Symbol">:</a> <a id="6756" class="Symbol">(</a><a id="6757" href="Data.Rational.Unnormalised.Base.html#6757" class="Bound">p</a> <a id="6759" href="Data.Rational.Unnormalised.Base.html#6759" class="Bound">q</a> <a id="6761" class="Symbol">:</a> <a id="6763" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a><a id="6765" class="Symbol">)</a> <a id="6767" class="Symbol">→</a> <a id="6769" class="Symbol">.{{</a><a id="6772" href="Data.Rational.Unnormalised.Base.html#6772" class="Bound">_</a> <a id="6774" class="Symbol">:</a> <a id="6776" href="Data.Rational.Unnormalised.Base.html#3475" class="Function">NonZero</a> <a id="6784" href="Data.Rational.Unnormalised.Base.html#6759" class="Bound">q</a><a id="6785" class="Symbol">}}</a> <a id="6788" class="Symbol">→</a> <a id="6790" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6793" href="Data.Rational.Unnormalised.Base.html#6793" class="Bound">p</a><a id="6794" class="Symbol">@</a><a id="6795" class="Keyword">record</a><a id="6801" class="Symbol">{}</a> <a id="6804" href="Data.Rational.Unnormalised.Base.html#6750" class="Function Operator">÷</a> <a id="6806" href="Data.Rational.Unnormalised.Base.html#6806" class="Bound">q</a><a id="6807" class="Symbol">@</a><a id="6808" class="Keyword">record</a><a id="6814" class="Symbol">{}</a> <a id="6817" class="Symbol">=</a> <a id="6819" href="Data.Rational.Unnormalised.Base.html#6793" class="Bound">p</a> <a id="6821" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">*</a> <a id="6823" class="Symbol">(</a><a id="6824" href="Data.Rational.Unnormalised.Base.html#6570" class="Function Operator">1/</a> <a id="6827" href="Data.Rational.Unnormalised.Base.html#6806" class="Bound">q</a><a id="6828" class="Symbol">)</a>

<a id="6831" class="Comment">-- max</a>
<a id="_⊔_"></a><a id="6838" href="Data.Rational.Unnormalised.Base.html#6838" class="Function Operator">_⊔_</a> <a id="6842" class="Symbol">:</a> <a id="6844" class="Symbol">(</a><a id="6845" href="Data.Rational.Unnormalised.Base.html#6845" class="Bound">p</a> <a id="6847" href="Data.Rational.Unnormalised.Base.html#6847" class="Bound">q</a> <a id="6849" class="Symbol">:</a> <a id="6851" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a><a id="6853" class="Symbol">)</a> <a id="6855" class="Symbol">→</a> <a id="6857" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6860" href="Data.Rational.Unnormalised.Base.html#6860" class="Bound">p</a><a id="6861" class="Symbol">@</a><a id="6862" class="Keyword">record</a><a id="6868" class="Symbol">{}</a> <a id="6871" href="Data.Rational.Unnormalised.Base.html#6838" class="Function Operator">⊔</a> <a id="6873" href="Data.Rational.Unnormalised.Base.html#6873" class="Bound">q</a><a id="6874" class="Symbol">@</a><a id="6875" class="Keyword">record</a><a id="6881" class="Symbol">{}</a> <a id="6884" class="Symbol">=</a> <a id="6886" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6889" href="Data.Rational.Unnormalised.Base.html#6860" class="Bound">p</a> <a id="6891" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">≤ᵇ</a> <a id="6894" href="Data.Rational.Unnormalised.Base.html#6873" class="Bound">q</a> <a id="6896" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6901" href="Data.Rational.Unnormalised.Base.html#6873" class="Bound">q</a> <a id="6903" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6908" href="Data.Rational.Unnormalised.Base.html#6860" class="Bound">p</a>

<a id="6911" class="Comment">-- min</a>
<a id="_⊓_"></a><a id="6918" href="Data.Rational.Unnormalised.Base.html#6918" class="Function Operator">_⊓_</a> <a id="6922" class="Symbol">:</a> <a id="6924" class="Symbol">(</a><a id="6925" href="Data.Rational.Unnormalised.Base.html#6925" class="Bound">p</a> <a id="6927" href="Data.Rational.Unnormalised.Base.html#6927" class="Bound">q</a> <a id="6929" class="Symbol">:</a> <a id="6931" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a><a id="6933" class="Symbol">)</a> <a id="6935" class="Symbol">→</a> <a id="6937" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="6940" href="Data.Rational.Unnormalised.Base.html#6940" class="Bound">p</a><a id="6941" class="Symbol">@</a><a id="6942" class="Keyword">record</a><a id="6948" class="Symbol">{}</a> <a id="6951" href="Data.Rational.Unnormalised.Base.html#6918" class="Function Operator">⊓</a> <a id="6953" href="Data.Rational.Unnormalised.Base.html#6953" class="Bound">q</a><a id="6954" class="Symbol">@</a><a id="6955" class="Keyword">record</a><a id="6961" class="Symbol">{}</a> <a id="6964" class="Symbol">=</a> <a id="6966" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="6969" href="Data.Rational.Unnormalised.Base.html#6940" class="Bound">p</a> <a id="6971" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">≤ᵇ</a> <a id="6974" href="Data.Rational.Unnormalised.Base.html#6953" class="Bound">q</a> <a id="6976" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="6981" href="Data.Rational.Unnormalised.Base.html#6940" class="Bound">p</a> <a id="6983" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="6988" href="Data.Rational.Unnormalised.Base.html#6953" class="Bound">q</a>

<a id="6991" class="Comment">-- absolute value</a>
<a id="∣_∣"></a><a id="7009" href="Data.Rational.Unnormalised.Base.html#7009" class="Function Operator">∣_∣</a> <a id="7013" class="Symbol">:</a> <a id="7015" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="7018" class="Symbol">→</a> <a id="7020" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="7023" href="Data.Rational.Unnormalised.Base.html#7009" class="Function Operator">∣</a> <a id="7025" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="7030" href="Data.Rational.Unnormalised.Base.html#7030" class="Bound">p</a> <a id="7032" href="Data.Rational.Unnormalised.Base.html#7032" class="Bound">q</a> <a id="7034" href="Data.Rational.Unnormalised.Base.html#7009" class="Function Operator">∣</a> <a id="7036" class="Symbol">=</a> <a id="7038" href="Data.Rational.Unnormalised.Base.html#1655" class="InductiveConstructor">mkℚᵘ</a> <a id="7043" class="Symbol">(</a><a id="7044" href="Agda.Builtin.Int.html#264" class="InductiveConstructor Operator">+</a> <a id="7046" href="Data.Integer.Base.html#1709" class="Function Operator">ℤ.∣</a> <a id="7050" href="Data.Rational.Unnormalised.Base.html#7030" class="Bound">p</a> <a id="7052" href="Data.Integer.Base.html#1709" class="Function Operator">∣</a><a id="7053" class="Symbol">)</a> <a id="7055" href="Data.Rational.Unnormalised.Base.html#7032" class="Bound">q</a>

<a id="7058" class="Comment">------------------------------------------------------------------------</a>
<a id="7131" class="Comment">-- Rounding functions</a>

<a id="7154" class="Comment">-- Floor (round towards -∞)</a>
<a id="floor"></a><a id="7182" href="Data.Rational.Unnormalised.Base.html#7182" class="Function">floor</a> <a id="7188" class="Symbol">:</a> <a id="7190" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="7193" class="Symbol">→</a> <a id="7195" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7197" href="Data.Rational.Unnormalised.Base.html#7182" class="Function">floor</a> <a id="7203" href="Data.Rational.Unnormalised.Base.html#7203" class="Bound">p</a><a id="7204" class="Symbol">@</a><a id="7205" class="Keyword">record</a><a id="7211" class="Symbol">{}</a> <a id="7214" class="Symbol">=</a> <a id="7216" href="Data.Rational.Unnormalised.Base.html#1873" class="Field Operator">↥</a> <a id="7218" href="Data.Rational.Unnormalised.Base.html#7203" class="Bound">p</a> <a id="7220" href="Data.Integer.Base.html#6073" class="Function Operator">ℤ./</a> <a id="7224" href="Data.Rational.Unnormalised.Base.html#1896" class="Function Operator">↧</a> <a id="7226" href="Data.Rational.Unnormalised.Base.html#7203" class="Bound">p</a>

<a id="7229" class="Comment">-- Ceiling (round towards +∞)</a>
<a id="ceiling"></a><a id="7259" href="Data.Rational.Unnormalised.Base.html#7259" class="Function">ceiling</a> <a id="7267" class="Symbol">:</a> <a id="7269" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="7272" class="Symbol">→</a> <a id="7274" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7276" href="Data.Rational.Unnormalised.Base.html#7259" class="Function">ceiling</a> <a id="7284" href="Data.Rational.Unnormalised.Base.html#7284" class="Bound">p</a><a id="7285" class="Symbol">@</a><a id="7286" class="Keyword">record</a><a id="7292" class="Symbol">{}</a> <a id="7295" class="Symbol">=</a> <a id="7297" href="Data.Integer.Base.html#4680" class="Function Operator">ℤ.-</a> <a id="7301" href="Data.Rational.Unnormalised.Base.html#7182" class="Function">floor</a> <a id="7307" class="Symbol">(</a><a id="7308" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-</a> <a id="7310" href="Data.Rational.Unnormalised.Base.html#7284" class="Bound">p</a><a id="7311" class="Symbol">)</a>

<a id="7314" class="Comment">-- Truncate  (round towards 0)</a>
<a id="truncate"></a><a id="7345" href="Data.Rational.Unnormalised.Base.html#7345" class="Function">truncate</a> <a id="7354" class="Symbol">:</a> <a id="7356" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="7359" class="Symbol">→</a> <a id="7361" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7363" href="Data.Rational.Unnormalised.Base.html#7345" class="Function">truncate</a> <a id="7372" href="Data.Rational.Unnormalised.Base.html#7372" class="Bound">p</a> <a id="7374" class="Keyword">with</a> <a id="7379" href="Data.Rational.Unnormalised.Base.html#7372" class="Bound">p</a> <a id="7381" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">≤ᵇ</a> <a id="7384" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
<a id="7388" class="Symbol">...</a> <a id="7392" class="Symbol">|</a> <a id="7394" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>  <a id="7400" class="Symbol">=</a> <a id="7402" href="Data.Rational.Unnormalised.Base.html#7259" class="Function">ceiling</a> <a id="7410" class="Bound">p</a>
<a id="7412" class="Symbol">...</a> <a id="7416" class="Symbol">|</a> <a id="7418" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="7424" class="Symbol">=</a> <a id="7426" href="Data.Rational.Unnormalised.Base.html#7182" class="Function">floor</a> <a id="7432" class="Bound">p</a>

<a id="7435" class="Comment">-- Round (to nearest integer)</a>
<a id="round"></a><a id="7465" href="Data.Rational.Unnormalised.Base.html#7465" class="Function">round</a> <a id="7471" class="Symbol">:</a> <a id="7473" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="7476" class="Symbol">→</a> <a id="7478" href="Agda.Builtin.Int.html#246" class="Datatype">ℤ</a>
<a id="7480" href="Data.Rational.Unnormalised.Base.html#7465" class="Function">round</a> <a id="7486" href="Data.Rational.Unnormalised.Base.html#7486" class="Bound">p</a> <a id="7488" class="Keyword">with</a> <a id="7493" href="Data.Rational.Unnormalised.Base.html#7486" class="Bound">p</a> <a id="7495" href="Data.Rational.Unnormalised.Base.html#2821" class="Function Operator">≤ᵇ</a> <a id="7498" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
<a id="7502" class="Symbol">...</a> <a id="7506" class="Symbol">|</a> <a id="7508" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>  <a id="7514" class="Symbol">=</a> <a id="7516" href="Data.Rational.Unnormalised.Base.html#7259" class="Function">ceiling</a> <a id="7524" class="Symbol">(</a><a id="7525" class="Bound">p</a> <a id="7527" href="Data.Rational.Unnormalised.Base.html#6468" class="Function Operator">-</a> <a id="7529" href="Data.Rational.Unnormalised.Base.html#3332" class="Function">½</a><a id="7530" class="Symbol">)</a>
<a id="7532" class="Symbol">...</a> <a id="7536" class="Symbol">|</a> <a id="7538" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a> <a id="7544" class="Symbol">=</a> <a id="7546" href="Data.Rational.Unnormalised.Base.html#7182" class="Function">floor</a> <a id="7552" class="Symbol">(</a><a id="7553" class="Bound">p</a> <a id="7555" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">+</a> <a id="7557" href="Data.Rational.Unnormalised.Base.html#3332" class="Function">½</a><a id="7558" class="Symbol">)</a>

<a id="7561" class="Comment">-- Fractional part (remainder after floor)</a>
<a id="fracPart"></a><a id="7604" href="Data.Rational.Unnormalised.Base.html#7604" class="Function">fracPart</a> <a id="7613" class="Symbol">:</a> <a id="7615" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a> <a id="7618" class="Symbol">→</a> <a id="7620" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
<a id="7623" href="Data.Rational.Unnormalised.Base.html#7604" class="Function">fracPart</a> <a id="7632" href="Data.Rational.Unnormalised.Base.html#7632" class="Bound">p</a><a id="7633" class="Symbol">@</a><a id="7634" class="Keyword">record</a><a id="7640" class="Symbol">{}</a> <a id="7643" class="Symbol">=</a> <a id="7645" href="Data.Rational.Unnormalised.Base.html#7009" class="Function Operator">∣</a> <a id="7647" href="Data.Rational.Unnormalised.Base.html#7632" class="Bound">p</a> <a id="7649" href="Data.Rational.Unnormalised.Base.html#6468" class="Function Operator">-</a> <a id="7651" href="Data.Rational.Unnormalised.Base.html#7345" class="Function">truncate</a> <a id="7660" href="Data.Rational.Unnormalised.Base.html#7632" class="Bound">p</a> <a id="7662" href="Data.Rational.Unnormalised.Base.html#3116" class="Function Operator">/</a> <a id="7664" class="Number">1</a> <a id="7666" href="Data.Rational.Unnormalised.Base.html#7009" class="Function Operator">∣</a>

<a id="7669" class="Comment">-- Extra notations  ⌊ ⌋ floor,  ⌈ ⌉ ceiling,  [ ] truncate</a>
<a id="7728" class="Keyword">syntax</a> <a id="7735" href="Data.Rational.Unnormalised.Base.html#7182" class="Function">floor</a>    <a id="7744" class="Bound">p</a> <a id="7746" class="Symbol">=</a> <a id="7748" class="Function">⌊</a> <a id="7750" class="Bound">p</a> <a id="7752" class="Function">⌋</a>
<a id="7754" class="Keyword">syntax</a> <a id="7761" href="Data.Rational.Unnormalised.Base.html#7259" class="Function">ceiling</a>  <a id="7770" class="Bound">p</a> <a id="7772" class="Symbol">=</a> <a id="7774" class="Function">⌈</a> <a id="7776" class="Bound">p</a> <a id="7778" class="Function">⌉</a>
<a id="7780" class="Keyword">syntax</a> <a id="7787" href="Data.Rational.Unnormalised.Base.html#7345" class="Function">truncate</a> <a id="7796" class="Bound">p</a> <a id="7798" class="Symbol">=</a> <a id="7800" class="Function">[</a> <a id="7802" class="Bound">p</a> <a id="7804" class="Function">]</a>

<a id="7807" class="Comment">------------------------------------------------------------------------</a>
<a id="7880" class="Comment">-- Raw bundles for _+_</a>

<a id="+-rawMagma"></a><a id="7904" href="Data.Rational.Unnormalised.Base.html#7904" class="Function">+-rawMagma</a> <a id="7915" class="Symbol">:</a> <a id="7917" href="Algebra.Bundles.Raw.html#621" class="Record">RawMagma</a> <a id="7926" href="Level.html#512" class="Function">0ℓ</a> <a id="7929" href="Level.html#512" class="Function">0ℓ</a>
<a id="7932" href="Data.Rational.Unnormalised.Base.html#7904" class="Function">+-rawMagma</a> <a id="7943" class="Symbol">=</a> <a id="7945" class="Keyword">record</a>
  <a id="7954" class="Symbol">{</a> <a id="7956" href="Algebra.Bundles.Raw.html#722" class="Field Operator">_≈_</a> <a id="7960" class="Symbol">=</a> <a id="7962" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="7968" class="Symbol">;</a> <a id="7970" href="Algebra.Bundles.Raw.html#750" class="Field Operator">_∙_</a> <a id="7974" class="Symbol">=</a> <a id="7976" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a>
  <a id="7982" class="Symbol">}</a>

<a id="+-rawMonoid"></a><a id="7985" href="Data.Rational.Unnormalised.Base.html#7985" class="Function">+-rawMonoid</a> <a id="7997" class="Symbol">:</a> <a id="7999" href="Algebra.Bundles.Raw.html#1082" class="Record">RawMonoid</a> <a id="8009" href="Level.html#512" class="Function">0ℓ</a> <a id="8012" href="Level.html#512" class="Function">0ℓ</a>
<a id="8015" href="Data.Rational.Unnormalised.Base.html#7985" class="Function">+-rawMonoid</a> <a id="8027" class="Symbol">=</a> <a id="8029" class="Keyword">record</a>
  <a id="8038" class="Symbol">{</a> <a id="8040" href="Algebra.Bundles.Raw.html#1184" class="Field Operator">_≈_</a> <a id="8044" class="Symbol">=</a> <a id="8046" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8052" class="Symbol">;</a> <a id="8054" href="Algebra.Bundles.Raw.html#1212" class="Field Operator">_∙_</a> <a id="8058" class="Symbol">=</a> <a id="8060" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a>
  <a id="8066" class="Symbol">;</a> <a id="8068" href="Algebra.Bundles.Raw.html#1238" class="Field">ε</a>   <a id="8072" class="Symbol">=</a> <a id="8074" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
  <a id="8080" class="Symbol">}</a>

<a id="+-0-rawGroup"></a><a id="8083" href="Data.Rational.Unnormalised.Base.html#8083" class="Function">+-0-rawGroup</a> <a id="8096" class="Symbol">:</a> <a id="8098" href="Algebra.Bundles.Raw.html#1615" class="Record">RawGroup</a> <a id="8107" href="Level.html#512" class="Function">0ℓ</a> <a id="8110" href="Level.html#512" class="Function">0ℓ</a>
<a id="8113" href="Data.Rational.Unnormalised.Base.html#8083" class="Function">+-0-rawGroup</a> <a id="8126" class="Symbol">=</a> <a id="8128" class="Keyword">record</a>
  <a id="8137" class="Symbol">{</a> <a id="8139" href="Algebra.Bundles.Raw.html#1711" class="Field">Carrier</a> <a id="8147" class="Symbol">=</a> <a id="8149" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
  <a id="8154" class="Symbol">;</a> <a id="8156" href="Algebra.Bundles.Raw.html#1731" class="Field Operator">_≈_</a> <a id="8160" class="Symbol">=</a> <a id="8162" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8168" class="Symbol">;</a> <a id="8170" href="Algebra.Bundles.Raw.html#1759" class="Field Operator">_∙_</a> <a id="8174" class="Symbol">=</a> <a id="8176" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a>
  <a id="8182" class="Symbol">;</a> <a id="8184" href="Algebra.Bundles.Raw.html#1785" class="Field">ε</a> <a id="8186" class="Symbol">=</a> <a id="8188" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
  <a id="8194" class="Symbol">;</a> <a id="8196" href="Algebra.Bundles.Raw.html#1807" class="Field Operator">_⁻¹</a> <a id="8200" class="Symbol">=</a> <a id="8202" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-_</a>
  <a id="8207" class="Symbol">}</a>

<a id="+-*-rawNearSemiring"></a><a id="8210" href="Data.Rational.Unnormalised.Base.html#8210" class="Function">+-*-rawNearSemiring</a> <a id="8230" class="Symbol">:</a> <a id="8232" href="Algebra.Bundles.Raw.html#2199" class="Record">RawNearSemiring</a> <a id="8248" href="Level.html#512" class="Function">0ℓ</a> <a id="8251" href="Level.html#512" class="Function">0ℓ</a>
<a id="8254" href="Data.Rational.Unnormalised.Base.html#8210" class="Function">+-*-rawNearSemiring</a> <a id="8274" class="Symbol">=</a> <a id="8276" class="Keyword">record</a>
  <a id="8285" class="Symbol">{</a> <a id="8287" href="Algebra.Bundles.Raw.html#2302" class="Field">Carrier</a> <a id="8295" class="Symbol">=</a> <a id="8297" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
  <a id="8302" class="Symbol">;</a> <a id="8304" href="Algebra.Bundles.Raw.html#2322" class="Field Operator">_≈_</a> <a id="8308" class="Symbol">=</a> <a id="8310" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8316" class="Symbol">;</a> <a id="8318" href="Algebra.Bundles.Raw.html#2350" class="Field Operator">_+_</a> <a id="8322" class="Symbol">=</a> <a id="8324" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a>
  <a id="8330" class="Symbol">;</a> <a id="8332" href="Algebra.Bundles.Raw.html#2376" class="Field Operator">_*_</a> <a id="8336" class="Symbol">=</a> <a id="8338" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a>
  <a id="8344" class="Symbol">;</a> <a id="8346" href="Algebra.Bundles.Raw.html#2402" class="Field">0#</a> <a id="8349" class="Symbol">=</a> <a id="8351" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
  <a id="8357" class="Symbol">}</a>

<a id="+-*-rawSemiring"></a><a id="8360" href="Data.Rational.Unnormalised.Base.html#8360" class="Function">+-*-rawSemiring</a> <a id="8376" class="Symbol">:</a> <a id="8378" href="Algebra.Bundles.Raw.html#2911" class="Record">RawSemiring</a> <a id="8390" href="Level.html#512" class="Function">0ℓ</a> <a id="8393" href="Level.html#512" class="Function">0ℓ</a>
<a id="8396" href="Data.Rational.Unnormalised.Base.html#8360" class="Function">+-*-rawSemiring</a> <a id="8412" class="Symbol">=</a> <a id="8414" class="Keyword">record</a>
  <a id="8423" class="Symbol">{</a> <a id="8425" href="Algebra.Bundles.Raw.html#3010" class="Field">Carrier</a> <a id="8433" class="Symbol">=</a> <a id="8435" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
  <a id="8440" class="Symbol">;</a> <a id="8442" href="Algebra.Bundles.Raw.html#3030" class="Field Operator">_≈_</a> <a id="8446" class="Symbol">=</a> <a id="8448" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8454" class="Symbol">;</a> <a id="8456" href="Algebra.Bundles.Raw.html#3058" class="Field Operator">_+_</a> <a id="8460" class="Symbol">=</a> <a id="8462" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a>
  <a id="8468" class="Symbol">;</a> <a id="8470" href="Algebra.Bundles.Raw.html#3084" class="Field Operator">_*_</a> <a id="8474" class="Symbol">=</a> <a id="8476" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a>
  <a id="8482" class="Symbol">;</a> <a id="8484" href="Algebra.Bundles.Raw.html#3110" class="Field">0#</a> <a id="8487" class="Symbol">=</a> <a id="8489" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
  <a id="8495" class="Symbol">;</a> <a id="8497" href="Algebra.Bundles.Raw.html#3132" class="Field">1#</a> <a id="8500" class="Symbol">=</a> <a id="8502" href="Data.Rational.Unnormalised.Base.html#3308" class="Function">1ℚᵘ</a>
  <a id="8508" class="Symbol">}</a>

<a id="+-*-rawRing"></a><a id="8511" href="Data.Rational.Unnormalised.Base.html#8511" class="Function">+-*-rawRing</a> <a id="8523" class="Symbol">:</a> <a id="8525" href="Algebra.Bundles.Raw.html#4632" class="Record">RawRing</a> <a id="8533" href="Level.html#512" class="Function">0ℓ</a> <a id="8536" href="Level.html#512" class="Function">0ℓ</a>
<a id="8539" href="Data.Rational.Unnormalised.Base.html#8511" class="Function">+-*-rawRing</a> <a id="8551" class="Symbol">=</a> <a id="8553" class="Keyword">record</a>
  <a id="8562" class="Symbol">{</a> <a id="8564" href="Algebra.Bundles.Raw.html#4741" class="Field">Carrier</a> <a id="8572" class="Symbol">=</a> <a id="8574" href="Data.Rational.Unnormalised.Base.html#1371" class="Record">ℚᵘ</a>
  <a id="8579" class="Symbol">;</a> <a id="8581" href="Algebra.Bundles.Raw.html#4761" class="Field Operator">_≈_</a> <a id="8585" class="Symbol">=</a> <a id="8587" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8593" class="Symbol">;</a> <a id="8595" href="Algebra.Bundles.Raw.html#4789" class="Field Operator">_+_</a> <a id="8599" class="Symbol">=</a> <a id="8601" href="Data.Rational.Unnormalised.Base.html#6261" class="Function Operator">_+_</a>
  <a id="8607" class="Symbol">;</a> <a id="8609" href="Algebra.Bundles.Raw.html#4815" class="Field Operator">_*_</a> <a id="8613" class="Symbol">=</a> <a id="8615" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a>
  <a id="8621" class="Symbol">;</a> <a id="8623" href="Algebra.Bundles.Raw.html#4841" class="Field Operator">-_</a> <a id="8626" class="Symbol">=</a> <a id="8628" href="Data.Rational.Unnormalised.Base.html#6206" class="Function Operator">-_</a>
  <a id="8633" class="Symbol">;</a> <a id="8635" href="Algebra.Bundles.Raw.html#4867" class="Field">0#</a> <a id="8638" class="Symbol">=</a> <a id="8640" href="Data.Rational.Unnormalised.Base.html#3284" class="Function">0ℚᵘ</a>
  <a id="8646" class="Symbol">;</a> <a id="8648" href="Algebra.Bundles.Raw.html#4889" class="Field">1#</a> <a id="8651" class="Symbol">=</a> <a id="8653" href="Data.Rational.Unnormalised.Base.html#3308" class="Function">1ℚᵘ</a>
  <a id="8659" class="Symbol">}</a>

<a id="8662" class="Comment">------------------------------------------------------------------------</a>
<a id="8735" class="Comment">-- Raw bundles for _*_</a>

<a id="*-rawMagma"></a><a id="8759" href="Data.Rational.Unnormalised.Base.html#8759" class="Function">*-rawMagma</a> <a id="8770" class="Symbol">:</a> <a id="8772" href="Algebra.Bundles.Raw.html#621" class="Record">RawMagma</a> <a id="8781" href="Level.html#512" class="Function">0ℓ</a> <a id="8784" href="Level.html#512" class="Function">0ℓ</a>
<a id="8787" href="Data.Rational.Unnormalised.Base.html#8759" class="Function">*-rawMagma</a> <a id="8798" class="Symbol">=</a> <a id="8800" class="Keyword">record</a>
  <a id="8809" class="Symbol">{</a> <a id="8811" href="Algebra.Bundles.Raw.html#722" class="Field Operator">_≈_</a> <a id="8815" class="Symbol">=</a> <a id="8817" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8823" class="Symbol">;</a> <a id="8825" href="Algebra.Bundles.Raw.html#750" class="Field Operator">_∙_</a> <a id="8829" class="Symbol">=</a> <a id="8831" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a>
  <a id="8837" class="Symbol">}</a>

<a id="*-rawMonoid"></a><a id="8840" href="Data.Rational.Unnormalised.Base.html#8840" class="Function">*-rawMonoid</a> <a id="8852" class="Symbol">:</a> <a id="8854" href="Algebra.Bundles.Raw.html#1082" class="Record">RawMonoid</a> <a id="8864" href="Level.html#512" class="Function">0ℓ</a> <a id="8867" href="Level.html#512" class="Function">0ℓ</a>
<a id="8870" href="Data.Rational.Unnormalised.Base.html#8840" class="Function">*-rawMonoid</a> <a id="8882" class="Symbol">=</a> <a id="8884" class="Keyword">record</a>
  <a id="8893" class="Symbol">{</a> <a id="8895" href="Algebra.Bundles.Raw.html#1184" class="Field Operator">_≈_</a> <a id="8899" class="Symbol">=</a> <a id="8901" href="Data.Rational.Unnormalised.Base.html#2085" class="Datatype Operator">_≃_</a>
  <a id="8907" class="Symbol">;</a> <a id="8909" href="Algebra.Bundles.Raw.html#1212" class="Field Operator">_∙_</a> <a id="8913" class="Symbol">=</a> <a id="8915" href="Data.Rational.Unnormalised.Base.html#6374" class="Function Operator">_*_</a>
  <a id="8921" class="Symbol">;</a> <a id="8923" href="Algebra.Bundles.Raw.html#1238" class="Field">ε</a>   <a id="8927" class="Symbol">=</a> <a id="8929" href="Data.Rational.Unnormalised.Base.html#3308" class="Function">1ℚᵘ</a>
  <a id="8935" class="Symbol">}</a>
</pre></body></html>