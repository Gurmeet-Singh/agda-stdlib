<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>System.FilePath.Posix</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Posix filepaths</a>
<a id="125" class="Comment">------------------------------------------------------------------------</a>

<a id="199" class="Symbol">{-#</a> <a id="203" class="Keyword">OPTIONS</a> <a id="211" class="Pragma">--cubical-compatible</a> <a id="232" class="Pragma">--guardedness</a> <a id="246" class="Symbol">#-}</a>

<a id="251" class="Keyword">module</a> <a id="258" href="System.FilePath.Posix.html" class="Module">System.FilePath.Posix</a> <a id="280" class="Keyword">where</a>

<a id="287" class="Keyword">open</a> <a id="292" class="Keyword">import</a> <a id="299" href="Agda.Builtin.Bool.html" class="Module">Agda.Builtin.Bool</a> <a id="317" class="Keyword">using</a> <a id="323" class="Symbol">(</a><a id="324" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="328" class="Symbol">)</a>
<a id="330" class="Keyword">open</a> <a id="335" class="Keyword">import</a> <a id="342" href="Agda.Builtin.List.html" class="Module">Agda.Builtin.List</a> <a id="360" class="Keyword">using</a> <a id="366" class="Symbol">(</a><a id="367" href="Agda.Builtin.List.html#130" class="Datatype">List</a><a id="371" class="Symbol">)</a>
<a id="373" class="Keyword">open</a> <a id="378" class="Keyword">import</a> <a id="385" href="Agda.Builtin.String.html" class="Module">Agda.Builtin.String</a> <a id="405" class="Keyword">using</a> <a id="411" class="Symbol">(</a><a id="412" href="Agda.Builtin.String.html#318" class="Postulate">String</a><a id="418" class="Symbol">)</a>
<a id="420" class="Keyword">open</a> <a id="425" class="Keyword">import</a> <a id="432" href="IO.Base.html" class="Module">IO.Base</a> <a id="440" class="Keyword">using</a> <a id="446" class="Symbol">(</a><a id="447" href="IO.Base.html#1180" class="Datatype">IO</a><a id="449" class="Symbol">;</a> <a id="451" href="IO.Base.html#1217" class="InductiveConstructor">lift</a><a id="455" class="Symbol">)</a>
<a id="457" class="Keyword">open</a> <a id="462" class="Keyword">import</a> <a id="469" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="485" class="Keyword">using</a> <a id="491" class="Symbol">(</a><a id="492" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a><a id="497" class="Symbol">)</a>
<a id="499" class="Keyword">open</a> <a id="504" class="Keyword">import</a> <a id="511" href="Data.Product.html" class="Module">Data.Product</a> <a id="524" class="Keyword">using</a> <a id="530" class="Symbol">(</a><a id="531" href="Data.Product.Base.html#1618" class="Function Operator">_×_</a><a id="534" class="Symbol">)</a>
<a id="536" class="Keyword">open</a> <a id="541" class="Keyword">import</a> <a id="548" href="Data.Sum.Base.html" class="Module">Data.Sum.Base</a> <a id="562" class="Keyword">using</a> <a id="568" class="Symbol">(</a><a id="569" href="Data.Sum.Base.html#625" class="Datatype Operator">_⊎_</a><a id="572" class="Symbol">)</a>

<a id="575" class="Keyword">open</a> <a id="580" class="Keyword">import</a> <a id="587" href="Foreign.Haskell.Coerce.html" class="Module">Foreign.Haskell.Coerce</a>

<a id="611" class="Keyword">open</a> <a id="616" class="Keyword">import</a> <a id="623" href="System.FilePath.Posix.Primitive.html" class="Module">System.FilePath.Posix.Primitive</a> <a id="655" class="Symbol">as</a> <a id="658" class="Module">Prim</a>
  <a id="665" class="Keyword">public</a>
  <a id="674" class="Comment">-- Some of these functions are not directly re-exported because their</a>
  <a id="746" class="Comment">-- respective types mentions FFI-friendly versions of the stdlib&#39;s types</a>
  <a id="821" class="Comment">-- e.g. `Pair` instead of `_×_`.</a>
  <a id="856" class="Comment">-- A wrapper is systematically defined below using Foreign.Haskell.Coerce&#39;s</a>
  <a id="934" class="Comment">-- zero-cost coercion to expose a more useful function to users.</a>
  <a id="1001" class="Keyword">using</a> <a id="1007" class="Symbol">(</a> <a id="1009" class="Keyword">module</a> <a id="1016" href="System.FilePath.Posix.Primitive.html#973" class="Module">Nature</a>
        <a id="1031" class="Symbol">;</a> <a id="1033" href="System.FilePath.Posix.Primitive.html#1003" class="Postulate">Nature</a>
        <a id="1048" class="Symbol">;</a> <a id="1050" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a>
        <a id="1067" class="Symbol">;</a> <a id="1069" href="System.FilePath.Posix.Primitive.html#2556" class="Postulate">mkFilePath</a>
        <a id="1088" class="Symbol">;</a> <a id="1090" href="System.FilePath.Posix.Primitive.html#1509" class="Postulate">getFilePath</a>
        <a id="1110" class="Symbol">;</a> <a id="1112" href="System.FilePath.Posix.Primitive.html#2189" class="Function">AbsolutePath</a>
        <a id="1133" class="Symbol">;</a> <a id="1135" href="System.FilePath.Posix.Primitive.html#2229" class="Function">RelativePath</a>
        <a id="1156" class="Symbol">;</a> <a id="1158" href="System.FilePath.Posix.Primitive.html#2269" class="Function">SomePath</a>
        <a id="1175" class="Symbol">;</a> <a id="1177" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a>
        <a id="1195" class="Symbol">;</a> <a id="1197" href="System.FilePath.Posix.Primitive.html#1568" class="Postulate">mkExtension</a>
        <a id="1217" class="Symbol">;</a> <a id="1219" href="System.FilePath.Posix.Primitive.html#1604" class="Postulate">getExtension</a>
     <a id="1237" class="Comment">-- Separator predicates</a>
        <a id="1269" class="Symbol">;</a> <a id="1271" href="System.FilePath.Posix.Primitive.html#2669" class="Postulate">pathSeparator</a>
        <a id="1293" class="Symbol">;</a> <a id="1295" href="System.FilePath.Posix.Primitive.html#2700" class="Postulate">pathSeparators</a>
        <a id="1318" class="Symbol">;</a> <a id="1320" href="System.FilePath.Posix.Primitive.html#2736" class="Postulate">isPathSeparator</a>
        <a id="1344" class="Symbol">;</a> <a id="1346" href="System.FilePath.Posix.Primitive.html#2774" class="Postulate">searchPathSeparator</a>
        <a id="1374" class="Symbol">;</a> <a id="1376" href="System.FilePath.Posix.Primitive.html#2805" class="Postulate">isSearchPathSeparator</a>
        <a id="1406" class="Symbol">;</a> <a id="1408" href="System.FilePath.Posix.Primitive.html#2843" class="Postulate">extSeparator</a>
        <a id="1429" class="Symbol">;</a> <a id="1431" href="System.FilePath.Posix.Primitive.html#2874" class="Postulate">isExtSeparator</a>
     <a id="1451" class="Comment">-- $PATH methods</a>
        <a id="1476" class="Symbol">;</a> <a id="1478" href="System.FilePath.Posix.Primitive.html#2933" class="Postulate">splitSearchPath</a>
     <a id="1499" class="Comment">-- ; getSearchPath see below: lift needed</a>
     <a id="1546" class="Comment">-- Extension functions</a>
     <a id="1574" class="Comment">-- ; splitExtension see below: coerce needed</a>
        <a id="1627" class="Symbol">;</a> <a id="1629" href="System.FilePath.Posix.Primitive.html#3105" class="Postulate">takeExtension</a>
        <a id="1651" class="Symbol">;</a> <a id="1653" href="System.FilePath.Posix.Primitive.html#3150" class="Postulate">replaceExtension</a>
        <a id="1678" class="Symbol">;</a> <a id="1680" href="System.FilePath.Posix.Primitive.html#3208" class="Postulate">dropExtension</a>
        <a id="1702" class="Symbol">;</a> <a id="1704" href="System.FilePath.Posix.Primitive.html#3254" class="Postulate">addExtension</a>
        <a id="1725" class="Symbol">;</a> <a id="1727" href="System.FilePath.Posix.Primitive.html#3312" class="Postulate">hasExtension</a>
        <a id="1748" class="Symbol">;</a> <a id="1750" href="System.FilePath.Posix.Primitive.html#3415" class="Postulate">takeExtensions</a>
        <a id="1773" class="Symbol">;</a> <a id="1775" href="System.FilePath.Posix.Primitive.html#3460" class="Postulate">replaceExtensions</a>
        <a id="1801" class="Symbol">;</a> <a id="1803" href="System.FilePath.Posix.Primitive.html#3518" class="Postulate">dropExtensions</a>
        <a id="1826" class="Symbol">;</a> <a id="1828" href="System.FilePath.Posix.Primitive.html#3564" class="Postulate">isExtensionOf</a>
     <a id="1847" class="Comment">-- ; stripExtension see below: coerce needed</a>
     <a id="1897" class="Comment">-- Filename/directory functions</a>
     <a id="1934" class="Comment">-- ; splitFileName see below: coerce needed</a>
        <a id="1986" class="Symbol">;</a> <a id="1988" href="System.FilePath.Posix.Primitive.html#3783" class="Postulate">takeFileName</a>
        <a id="2009" class="Symbol">;</a> <a id="2011" href="System.FilePath.Posix.Primitive.html#3824" class="Postulate">replaceFileName</a>
        <a id="2035" class="Symbol">;</a> <a id="2037" href="System.FilePath.Posix.Primitive.html#3878" class="Postulate">dropFileName</a>
        <a id="2058" class="Symbol">;</a> <a id="2060" href="System.FilePath.Posix.Primitive.html#3923" class="Postulate">takeBaseName</a>
        <a id="2081" class="Symbol">;</a> <a id="2083" href="System.FilePath.Posix.Primitive.html#3964" class="Postulate">replaceBaseName</a>
        <a id="2107" class="Symbol">;</a> <a id="2109" href="System.FilePath.Posix.Primitive.html#4018" class="Postulate">takeDirectory</a>
        <a id="2131" class="Symbol">;</a> <a id="2133" href="System.FilePath.Posix.Primitive.html#4063" class="Postulate">replaceDirectory</a>
        <a id="2158" class="Symbol">;</a> <a id="2160" href="System.FilePath.Posix.Primitive.html#4121" class="Postulate">combine</a>
        <a id="2176" class="Symbol">;</a> <a id="2178" href="System.FilePath.Posix.Primitive.html#4181" class="Postulate">splitPath</a>
        <a id="2196" class="Symbol">;</a> <a id="2198" href="System.FilePath.Posix.Primitive.html#4233" class="Postulate">joinPath</a>
        <a id="2215" class="Symbol">;</a> <a id="2217" href="System.FilePath.Posix.Primitive.html#4287" class="Postulate">splitDirectories</a>
      <a id="2240" class="Comment">-- Trailing slash functions</a>
        <a id="2276" class="Symbol">;</a> <a id="2278" href="System.FilePath.Posix.Primitive.html#4653" class="Postulate">hasTrailingPathSeparator</a>
        <a id="2311" class="Symbol">;</a> <a id="2313" href="System.FilePath.Posix.Primitive.html#4701" class="Postulate">addTrailingPathSeparator</a>
        <a id="2346" class="Symbol">;</a> <a id="2348" href="System.FilePath.Posix.Primitive.html#4755" class="Postulate">dropTrailingPathSeparator</a>
     <a id="2379" class="Comment">-- File name manipulations</a>
        <a id="2414" class="Symbol">;</a> <a id="2416" href="System.FilePath.Posix.Primitive.html#4840" class="Postulate">normalise</a>
        <a id="2434" class="Symbol">;</a> <a id="2436" href="System.FilePath.Posix.Primitive.html#4882" class="Postulate">equalFilePath</a>
        <a id="2458" class="Symbol">;</a> <a id="2460" href="System.FilePath.Posix.Primitive.html#4931" class="Postulate">makeRelative</a>
     <a id="2478" class="Comment">-- ; checkFilePath see below: coerce needed</a>
        <a id="2530" class="Symbol">;</a> <a id="2532" href="System.FilePath.Posix.Primitive.html#5052" class="Postulate">isRelative</a>
        <a id="2551" class="Symbol">;</a> <a id="2553" href="System.FilePath.Posix.Primitive.html#5088" class="Postulate">isAbsolute</a>
        <a id="2572" class="Symbol">;</a> <a id="2574" href="System.FilePath.Posix.Primitive.html#5124" class="Postulate">isValid</a>
        <a id="2590" class="Symbol">;</a> <a id="2592" href="System.FilePath.Posix.Primitive.html#5160" class="Postulate">makeValid</a>
        <a id="2610" class="Symbol">)</a>

<a id="2613" class="Keyword">private</a>
  <a id="2623" class="Keyword">variable</a>
    <a id="2636" href="System.FilePath.Posix.html#2636" class="Generalizable">m</a> <a id="2638" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="2640" class="Symbol">:</a> <a id="2642" href="System.FilePath.Posix.Primitive.html#1003" class="Postulate">Nature</a>

<a id="2650" class="Comment">-- singleton type for Nature</a>
<a id="2679" class="Keyword">data</a> <a id="KnownNature"></a><a id="2684" href="System.FilePath.Posix.html#2684" class="Datatype">KnownNature</a> <a id="2696" class="Symbol">:</a> <a id="2698" href="System.FilePath.Posix.Primitive.html#1003" class="Postulate">Nature</a> <a id="2705" class="Symbol">→</a> <a id="2707" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2711" class="Keyword">where</a>
  <a id="2719" class="Keyword">instance</a>
    <a id="KnownNature.absolute"></a><a id="2732" href="System.FilePath.Posix.html#2732" class="InductiveConstructor">absolute</a> <a id="2741" class="Symbol">:</a> <a id="2743" href="System.FilePath.Posix.html#2684" class="Datatype">KnownNature</a> <a id="2755" href="System.FilePath.Posix.Primitive.html#1029" class="Postulate">Nature.absolute</a>
    <a id="KnownNature.relative"></a><a id="2775" href="System.FilePath.Posix.html#2775" class="InductiveConstructor">relative</a> <a id="2784" class="Symbol">:</a> <a id="2786" href="System.FilePath.Posix.html#2684" class="Datatype">KnownNature</a> <a id="2798" href="System.FilePath.Posix.Primitive.html#1020" class="Postulate">Nature.relative</a>

<a id="currentDirectory"></a><a id="2815" href="System.FilePath.Posix.html#2815" class="Function">currentDirectory</a> <a id="2832" class="Symbol">:</a> <a id="2834" href="System.FilePath.Posix.Primitive.html#2269" class="Function">SomePath</a>
<a id="2843" href="System.FilePath.Posix.html#2815" class="Function">currentDirectory</a> <a id="2860" class="Symbol">=</a> <a id="2862" href="System.FilePath.Posix.Primitive.html#2556" class="Postulate">mkFilePath</a> <a id="2873" class="String">&quot;.&quot;</a>

<a id="splitExtension"></a><a id="2878" href="System.FilePath.Posix.html#2878" class="Function">splitExtension</a>  <a id="2894" class="Symbol">:</a> <a id="2896" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="2905" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="2907" class="Symbol">→</a> <a id="2909" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="2918" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="2920" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="2922" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a>
<a id="2932" href="System.FilePath.Posix.html#2878" class="Function">splitExtension</a> <a id="2947" class="Symbol">=</a> <a id="2949" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="2956" href="System.FilePath.Posix.Primitive.html#3042" class="Postulate">Prim.splitExtension</a>

<a id="splitExtensions"></a><a id="2977" href="System.FilePath.Posix.html#2977" class="Function">splitExtensions</a> <a id="2993" class="Symbol">:</a> <a id="2995" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3004" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="3006" class="Symbol">→</a> <a id="3008" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3017" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="3019" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3021" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a>
<a id="3031" href="System.FilePath.Posix.html#2977" class="Function">splitExtensions</a> <a id="3047" class="Symbol">=</a> <a id="3049" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3056" href="System.FilePath.Posix.Primitive.html#3352" class="Postulate">Prim.splitExtensions</a>

<a id="stripExtension"></a><a id="3078" href="System.FilePath.Posix.html#3078" class="Function">stripExtension</a> <a id="3093" class="Symbol">:</a> <a id="3095" href="System.FilePath.Posix.Primitive.html#1547" class="Postulate">Extension</a> <a id="3105" class="Symbol">→</a> <a id="3107" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3116" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="3118" class="Symbol">→</a> <a id="3120" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3126" class="Symbol">(</a><a id="3127" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3136" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a><a id="3137" class="Symbol">)</a>
<a id="3139" href="System.FilePath.Posix.html#3078" class="Function">stripExtension</a> <a id="3154" class="Symbol">=</a> <a id="3156" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3163" href="System.FilePath.Posix.Primitive.html#3616" class="Postulate">Prim.stripExtension</a>

<a id="getSearchPath"></a><a id="3184" href="System.FilePath.Posix.html#3184" class="Function">getSearchPath</a> <a id="3198" class="Symbol">:</a> <a id="3200" href="IO.Base.html#1180" class="Datatype">IO</a> <a id="3203" class="Symbol">(</a><a id="3204" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3209" href="System.FilePath.Posix.Primitive.html#2269" class="Function">SomePath</a><a id="3217" class="Symbol">)</a>
<a id="3219" href="System.FilePath.Posix.html#3184" class="Function">getSearchPath</a> <a id="3233" class="Symbol">=</a> <a id="3235" href="IO.Base.html#1217" class="InductiveConstructor">lift</a> <a id="3240" href="System.FilePath.Posix.Primitive.html#2976" class="Postulate">Prim.getSearchPath</a>

<a id="splitFileName"></a><a id="3260" href="System.FilePath.Posix.html#3260" class="Function">splitFileName</a> <a id="3274" class="Symbol">:</a> <a id="3276" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3285" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="3287" class="Symbol">→</a> <a id="3289" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3298" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="3300" href="Data.Product.Base.html#1618" class="Function Operator">×</a> <a id="3302" href="System.FilePath.Posix.Primitive.html#2229" class="Function">RelativePath</a>
<a id="3315" href="System.FilePath.Posix.html#3260" class="Function">splitFileName</a> <a id="3329" class="Symbol">=</a> <a id="3331" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3338" href="System.FilePath.Posix.Primitive.html#3718" class="Postulate">Prim.splitFileName</a>

<a id="checkFilePath"></a><a id="3358" href="System.FilePath.Posix.html#3358" class="Function">checkFilePath</a> <a id="3372" class="Symbol">:</a> <a id="3374" href="System.FilePath.Posix.Primitive.html#1479" class="Postulate">FilePath</a> <a id="3383" href="System.FilePath.Posix.html#2638" class="Generalizable">n</a> <a id="3385" class="Symbol">→</a> <a id="3387" href="System.FilePath.Posix.Primitive.html#2229" class="Function">RelativePath</a> <a id="3400" href="Data.Sum.Base.html#625" class="Datatype Operator">⊎</a> <a id="3402" href="System.FilePath.Posix.Primitive.html#2189" class="Function">AbsolutePath</a>
<a id="3415" href="System.FilePath.Posix.html#3358" class="Function">checkFilePath</a> <a id="3429" class="Symbol">=</a> <a id="3431" href="Foreign.Haskell.Coerce.html#2737" class="Postulate">coerce</a> <a id="3438" href="System.FilePath.Posix.Primitive.html#4988" class="Postulate">Prim.checkFilePath</a>
</pre></body></html>