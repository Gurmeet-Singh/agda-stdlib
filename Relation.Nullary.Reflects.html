<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Relation.Nullary.Reflects</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Properties of the `Reflects` construct</a>
<a id="148" class="Comment">------------------------------------------------------------------------</a>

<a id="222" class="Symbol">{-#</a> <a id="226" class="Keyword">OPTIONS</a> <a id="234" class="Pragma">--without-K</a> <a id="246" class="Pragma">--safe</a> <a id="253" class="Symbol">#-}</a>

<a id="258" class="Keyword">module</a> <a id="265" href="Relation.Nullary.Reflects.html" class="Module">Relation.Nullary.Reflects</a> <a id="291" class="Keyword">where</a>

<a id="298" class="Keyword">open</a> <a id="303" class="Keyword">import</a> <a id="310" href="Agda.Builtin.Equality.html" class="Module">Agda.Builtin.Equality</a>
<a id="332" class="Keyword">open</a> <a id="337" class="Keyword">import</a> <a id="344" href="Data.Bool.Base.html" class="Module">Data.Bool.Base</a>
<a id="359" class="Keyword">open</a> <a id="364" class="Keyword">import</a> <a id="371" href="Data.Empty.html" class="Module">Data.Empty</a>
<a id="382" class="Keyword">open</a> <a id="387" class="Keyword">import</a> <a id="394" href="Level.html" class="Module">Level</a>
<a id="400" class="Keyword">open</a> <a id="405" class="Keyword">import</a> <a id="412" href="Function.Base.html" class="Module">Function.Base</a> <a id="426" class="Keyword">using</a> <a id="432" class="Symbol">(</a><a id="433" href="Function.Base.html#1994" class="Function Operator">_$_</a><a id="436" class="Symbol">)</a>

<a id="439" class="Keyword">open</a> <a id="444" class="Keyword">import</a> <a id="451" href="Relation.Nullary.Negation.Core.html" class="Module">Relation.Nullary.Negation.Core</a>

<a id="483" class="Keyword">private</a>
  <a id="493" class="Keyword">variable</a>
    <a id="506" href="Relation.Nullary.Reflects.html#506" class="Generalizable">p</a> <a id="508" class="Symbol">:</a> <a id="510" href="Agda.Primitive.html#597" class="Postulate">Level</a>
    <a id="520" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="522" class="Symbol">:</a> <a id="524" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="528" href="Relation.Nullary.Reflects.html#506" class="Generalizable">p</a>

<a id="531" class="Comment">------------------------------------------------------------------------</a>
<a id="604" class="Comment">-- `Reflects` idiom.</a>

<a id="626" class="Comment">-- The truth value of P is reflected by a boolean value.</a>
<a id="683" class="Comment">-- `Reflects P b` is equivalent to `if b then P else ¬ P`.</a>

<a id="743" class="Keyword">data</a> <a id="Reflects"></a><a id="748" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="757" class="Symbol">{</a><a id="758" href="Relation.Nullary.Reflects.html#758" class="Bound">p</a><a id="759" class="Symbol">}</a> <a id="761" class="Symbol">(</a><a id="762" href="Relation.Nullary.Reflects.html#762" class="Bound">P</a> <a id="764" class="Symbol">:</a> <a id="766" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="770" href="Relation.Nullary.Reflects.html#758" class="Bound">p</a><a id="771" class="Symbol">)</a> <a id="773" class="Symbol">:</a> <a id="775" href="Agda.Builtin.Bool.html#163" class="Datatype">Bool</a> <a id="780" class="Symbol">→</a> <a id="782" href="Agda.Primitive.html#326" class="Primitive">Set</a> <a id="786" href="Relation.Nullary.Reflects.html#758" class="Bound">p</a> <a id="788" class="Keyword">where</a>
  <a id="Reflects.ofʸ"></a><a id="796" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a> <a id="800" class="Symbol">:</a> <a id="802" class="Symbol">(</a> <a id="804" href="Relation.Nullary.Reflects.html#804" class="Bound">p</a> <a id="806" class="Symbol">:</a>   <a id="810" href="Relation.Nullary.Reflects.html#762" class="Bound">P</a><a id="811" class="Symbol">)</a> <a id="813" class="Symbol">→</a> <a id="815" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="824" href="Relation.Nullary.Reflects.html#762" class="Bound">P</a> <a id="826" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a>
  <a id="Reflects.ofⁿ"></a><a id="833" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="837" class="Symbol">:</a> <a id="839" class="Symbol">(</a><a id="840" href="Relation.Nullary.Reflects.html#840" class="Bound">¬p</a> <a id="843" class="Symbol">:</a> <a id="845" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="847" href="Relation.Nullary.Reflects.html#762" class="Bound">P</a><a id="848" class="Symbol">)</a> <a id="850" class="Symbol">→</a> <a id="852" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="861" href="Relation.Nullary.Reflects.html#762" class="Bound">P</a> <a id="863" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a>

<a id="870" class="Comment">------------------------------------------------------------------------</a>
<a id="943" class="Comment">-- Constructors and destructors</a>

<a id="976" class="Comment">-- These lemmas are intended to be used mostly when `b` is a value, so</a>
<a id="1047" class="Comment">-- that the `if` expressions have already been evaluated away.</a>
<a id="1110" class="Comment">-- In this case, `of` works like the relevant constructor (`ofⁿ` or</a>
<a id="1178" class="Comment">-- `ofʸ`), and `invert` strips off the constructor to just give either</a>
<a id="1249" class="Comment">-- the proof of `P` or the proof of `¬ P`.</a>

<a id="of"></a><a id="1293" href="Relation.Nullary.Reflects.html#1293" class="Function">of</a> <a id="1296" class="Symbol">:</a> <a id="1298" class="Symbol">∀</a> <a id="1300" class="Symbol">{</a><a id="1301" href="Relation.Nullary.Reflects.html#1301" class="Bound">b</a><a id="1302" class="Symbol">}</a> <a id="1304" class="Symbol">→</a> <a id="1306" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1309" href="Relation.Nullary.Reflects.html#1301" class="Bound">b</a> <a id="1311" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1316" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1318" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1323" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="1325" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1327" class="Symbol">→</a> <a id="1329" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="1338" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1340" href="Relation.Nullary.Reflects.html#1301" class="Bound">b</a>
<a id="1342" href="Relation.Nullary.Reflects.html#1293" class="Function">of</a> <a id="1345" class="Symbol">{</a><a id="1346" class="Argument">b</a> <a id="1348" class="Symbol">=</a> <a id="1350" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="1355" class="Symbol">}</a> <a id="1357" href="Relation.Nullary.Reflects.html#1357" class="Bound">¬p</a> <a id="1360" class="Symbol">=</a> <a id="1362" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="1366" href="Relation.Nullary.Reflects.html#1357" class="Bound">¬p</a>
<a id="1369" href="Relation.Nullary.Reflects.html#1293" class="Function">of</a> <a id="1372" class="Symbol">{</a><a id="1373" class="Argument">b</a> <a id="1375" class="Symbol">=</a> <a id="1377" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a> <a id="1382" class="Symbol">}</a>  <a id="1385" href="Relation.Nullary.Reflects.html#1385" class="Bound">p</a> <a id="1387" class="Symbol">=</a> <a id="1389" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a> <a id="1393" href="Relation.Nullary.Reflects.html#1385" class="Bound">p</a>

<a id="invert"></a><a id="1396" href="Relation.Nullary.Reflects.html#1396" class="Function">invert</a> <a id="1403" class="Symbol">:</a> <a id="1405" class="Symbol">∀</a> <a id="1407" class="Symbol">{</a><a id="1408" href="Relation.Nullary.Reflects.html#1408" class="Bound">b</a><a id="1409" class="Symbol">}</a> <a id="1411" class="Symbol">→</a> <a id="1413" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="1422" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1424" href="Relation.Nullary.Reflects.html#1408" class="Bound">b</a> <a id="1426" class="Symbol">→</a> <a id="1428" href="Data.Bool.Base.html#1283" class="Function Operator">if</a> <a id="1431" href="Relation.Nullary.Reflects.html#1408" class="Bound">b</a> <a id="1433" href="Data.Bool.Base.html#1283" class="Function Operator">then</a> <a id="1438" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1440" href="Data.Bool.Base.html#1283" class="Function Operator">else</a> <a id="1445" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="1447" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a>
<a id="1449" href="Relation.Nullary.Reflects.html#1396" class="Function">invert</a> <a id="1456" class="Symbol">(</a><a id="1457" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a>  <a id="1462" href="Relation.Nullary.Reflects.html#1462" class="Bound">p</a><a id="1463" class="Symbol">)</a> <a id="1465" class="Symbol">=</a> <a id="1467" href="Relation.Nullary.Reflects.html#1462" class="Bound">p</a>
<a id="1469" href="Relation.Nullary.Reflects.html#1396" class="Function">invert</a> <a id="1476" class="Symbol">(</a><a id="1477" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="1481" href="Relation.Nullary.Reflects.html#1481" class="Bound">¬p</a><a id="1483" class="Symbol">)</a> <a id="1485" class="Symbol">=</a> <a id="1487" href="Relation.Nullary.Reflects.html#1481" class="Bound">¬p</a>


<a id="1492" class="Comment">------------------------------------------------------------------------</a>
<a id="1565" class="Comment">-- Interaction with negation, product, sums etc.</a>

<a id="1615" class="Comment">-- If we can decide P, then we can decide its negation.</a>

<a id="¬-reflects"></a><a id="1672" href="Relation.Nullary.Reflects.html#1672" class="Function">¬-reflects</a> <a id="1683" class="Symbol">:</a> <a id="1685" class="Symbol">∀</a> <a id="1687" class="Symbol">{</a><a id="1688" href="Relation.Nullary.Reflects.html#1688" class="Bound">b</a><a id="1689" class="Symbol">}</a> <a id="1691" class="Symbol">→</a> <a id="1693" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="1702" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1704" href="Relation.Nullary.Reflects.html#1688" class="Bound">b</a> <a id="1706" class="Symbol">→</a> <a id="1708" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="1717" class="Symbol">(</a><a id="1718" href="Relation.Nullary.Negation.Core.html#768" class="Function Operator">¬</a> <a id="1720" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a><a id="1721" class="Symbol">)</a> <a id="1723" class="Symbol">(</a><a id="1724" href="Data.Bool.Base.html#932" class="Function">not</a> <a id="1728" href="Relation.Nullary.Reflects.html#1688" class="Bound">b</a><a id="1729" class="Symbol">)</a>
<a id="1731" href="Relation.Nullary.Reflects.html#1672" class="Function">¬-reflects</a> <a id="1742" class="Symbol">(</a><a id="1743" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a>  <a id="1748" href="Relation.Nullary.Reflects.html#1748" class="Bound">p</a><a id="1749" class="Symbol">)</a> <a id="1751" class="Symbol">=</a> <a id="1753" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="1757" class="Symbol">(</a><a id="1758" href="Function.Base.html#1994" class="Function Operator">_$</a> <a id="1761" href="Relation.Nullary.Reflects.html#1748" class="Bound">p</a><a id="1762" class="Symbol">)</a>
<a id="1764" href="Relation.Nullary.Reflects.html#1672" class="Function">¬-reflects</a> <a id="1775" class="Symbol">(</a><a id="1776" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="1780" href="Relation.Nullary.Reflects.html#1780" class="Bound">¬p</a><a id="1782" class="Symbol">)</a> <a id="1784" class="Symbol">=</a> <a id="1786" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a> <a id="1790" href="Relation.Nullary.Reflects.html#1780" class="Bound">¬p</a>

<a id="1794" class="Comment">------------------------------------------------------------------------</a>
<a id="1867" class="Comment">-- Other lemmas</a>

<a id="fromEquivalence"></a><a id="1884" href="Relation.Nullary.Reflects.html#1884" class="Function">fromEquivalence</a> <a id="1900" class="Symbol">:</a> <a id="1902" class="Symbol">∀</a> <a id="1904" class="Symbol">{</a><a id="1905" href="Relation.Nullary.Reflects.html#1905" class="Bound">b</a><a id="1906" class="Symbol">}</a> <a id="1908" class="Symbol">→</a> <a id="1910" class="Symbol">(</a><a id="1911" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="1913" href="Relation.Nullary.Reflects.html#1905" class="Bound">b</a> <a id="1915" class="Symbol">→</a> <a id="1917" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a><a id="1918" class="Symbol">)</a> <a id="1920" class="Symbol">→</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1925" class="Symbol">→</a> <a id="1927" href="Data.Bool.Base.html#1451" class="Function">T</a> <a id="1929" href="Relation.Nullary.Reflects.html#1905" class="Bound">b</a><a id="1930" class="Symbol">)</a> <a id="1932" class="Symbol">→</a> <a id="1934" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="1943" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="1945" href="Relation.Nullary.Reflects.html#1905" class="Bound">b</a>
<a id="1947" href="Relation.Nullary.Reflects.html#1884" class="Function">fromEquivalence</a> <a id="1963" class="Symbol">{</a><a id="1964" class="Argument">b</a> <a id="1966" class="Symbol">=</a> <a id="1968" href="Agda.Builtin.Bool.html#188" class="InductiveConstructor">true</a><a id="1972" class="Symbol">}</a>  <a id="1975" href="Relation.Nullary.Reflects.html#1975" class="Bound">sound</a> <a id="1981" href="Relation.Nullary.Reflects.html#1981" class="Bound">complete</a> <a id="1990" class="Symbol">=</a> <a id="1992" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a> <a id="1996" class="Symbol">(</a><a id="1997" href="Relation.Nullary.Reflects.html#1975" class="Bound">sound</a> <a id="2003" class="Symbol">_)</a>
<a id="2006" href="Relation.Nullary.Reflects.html#1884" class="Function">fromEquivalence</a> <a id="2022" class="Symbol">{</a><a id="2023" class="Argument">b</a> <a id="2025" class="Symbol">=</a> <a id="2027" href="Agda.Builtin.Bool.html#182" class="InductiveConstructor">false</a><a id="2032" class="Symbol">}</a> <a id="2034" href="Relation.Nullary.Reflects.html#2034" class="Bound">sound</a> <a id="2040" href="Relation.Nullary.Reflects.html#2040" class="Bound">complete</a> <a id="2049" class="Symbol">=</a> <a id="2051" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="2055" href="Relation.Nullary.Reflects.html#2040" class="Bound">complete</a>

<a id="2065" class="Comment">-- `Reflects` is deterministic.</a>
<a id="det"></a><a id="2097" href="Relation.Nullary.Reflects.html#2097" class="Function">det</a> <a id="2101" class="Symbol">:</a> <a id="2103" class="Symbol">∀</a> <a id="2105" class="Symbol">{</a><a id="2106" href="Relation.Nullary.Reflects.html#2106" class="Bound">b</a> <a id="2108" href="Relation.Nullary.Reflects.html#2108" class="Bound">b′</a><a id="2110" class="Symbol">}</a> <a id="2112" class="Symbol">→</a> <a id="2114" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="2123" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="2125" href="Relation.Nullary.Reflects.html#2106" class="Bound">b</a> <a id="2127" class="Symbol">→</a> <a id="2129" href="Relation.Nullary.Reflects.html#748" class="Datatype">Reflects</a> <a id="2138" href="Relation.Nullary.Reflects.html#520" class="Generalizable">P</a> <a id="2140" href="Relation.Nullary.Reflects.html#2108" class="Bound">b′</a> <a id="2143" class="Symbol">→</a> <a id="2145" href="Relation.Nullary.Reflects.html#2106" class="Bound">b</a> <a id="2147" href="Agda.Builtin.Equality.html#151" class="Datatype Operator">≡</a> <a id="2149" href="Relation.Nullary.Reflects.html#2108" class="Bound">b′</a>
<a id="2152" href="Relation.Nullary.Reflects.html#2097" class="Function">det</a> <a id="2156" class="Symbol">(</a><a id="2157" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a>  <a id="2162" href="Relation.Nullary.Reflects.html#2162" class="Bound">p</a><a id="2163" class="Symbol">)</a> <a id="2165" class="Symbol">(</a><a id="2166" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a>  <a id="2171" href="Relation.Nullary.Reflects.html#2171" class="Bound">p′</a><a id="2173" class="Symbol">)</a> <a id="2175" class="Symbol">=</a> <a id="2177" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
<a id="2182" href="Relation.Nullary.Reflects.html#2097" class="Function">det</a> <a id="2186" class="Symbol">(</a><a id="2187" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a>  <a id="2192" href="Relation.Nullary.Reflects.html#2192" class="Bound">p</a><a id="2193" class="Symbol">)</a> <a id="2195" class="Symbol">(</a><a id="2196" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="2200" href="Relation.Nullary.Reflects.html#2200" class="Bound">¬p′</a><a id="2203" class="Symbol">)</a> <a id="2205" class="Symbol">=</a> <a id="2207" href="Data.Empty.html#1041" class="Function">⊥-elim</a> <a id="2214" class="Symbol">(</a><a id="2215" href="Relation.Nullary.Reflects.html#2200" class="Bound">¬p′</a> <a id="2219" href="Relation.Nullary.Reflects.html#2192" class="Bound">p</a><a id="2220" class="Symbol">)</a>
<a id="2222" href="Relation.Nullary.Reflects.html#2097" class="Function">det</a> <a id="2226" class="Symbol">(</a><a id="2227" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="2231" href="Relation.Nullary.Reflects.html#2231" class="Bound">¬p</a><a id="2233" class="Symbol">)</a> <a id="2235" class="Symbol">(</a><a id="2236" href="Relation.Nullary.Reflects.html#796" class="InductiveConstructor">ofʸ</a>  <a id="2241" href="Relation.Nullary.Reflects.html#2241" class="Bound">p′</a><a id="2243" class="Symbol">)</a> <a id="2245" class="Symbol">=</a> <a id="2247" href="Data.Empty.html#1041" class="Function">⊥-elim</a> <a id="2254" class="Symbol">(</a><a id="2255" href="Relation.Nullary.Reflects.html#2231" class="Bound">¬p</a> <a id="2258" href="Relation.Nullary.Reflects.html#2241" class="Bound">p′</a><a id="2260" class="Symbol">)</a>
<a id="2262" href="Relation.Nullary.Reflects.html#2097" class="Function">det</a> <a id="2266" class="Symbol">(</a><a id="2267" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="2271" href="Relation.Nullary.Reflects.html#2271" class="Bound">¬p</a><a id="2273" class="Symbol">)</a> <a id="2275" class="Symbol">(</a><a id="2276" href="Relation.Nullary.Reflects.html#833" class="InductiveConstructor">ofⁿ</a> <a id="2280" href="Relation.Nullary.Reflects.html#2280" class="Bound">¬p′</a><a id="2283" class="Symbol">)</a> <a id="2285" class="Symbol">=</a> <a id="2287" href="Agda.Builtin.Equality.html#208" class="InductiveConstructor">refl</a>
</pre></body></html>