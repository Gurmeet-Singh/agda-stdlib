<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Tactic.RingSolver.Core.NatSet</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Simple implementation of sets of ℕ.</a>
<a id="145" class="Comment">--</a>
<a id="148" class="Comment">-- Since ℕ is represented as unary numbers, simply having an ordered list of</a>
<a id="225" class="Comment">-- numbers to represent a set is quite inefficient. For instance, to see if</a>
<a id="301" class="Comment">-- 6 is in the set {1, 3, 4}, we have to do a comparison with 1, then 3, and</a>
<a id="378" class="Comment">-- then 4. But 4 is equal to suc 3, so we should be able to share the work</a>
<a id="453" class="Comment">-- accross those two comparisons.</a>
<a id="487" class="Comment">--</a>
<a id="490" class="Comment">-- This module defines a type that represents {1, 3, 4} as:</a>
<a id="550" class="Comment">--</a>
<a id="553" class="Comment">--   1 ∷ 1 ∷ 0 ∷ []</a>
<a id="573" class="Comment">--</a>
<a id="576" class="Comment">-- i.e. we only store the gaps. When checking if a number (the needle) is in the</a>
<a id="657" class="Comment">-- set (the haystack), we subtract each successive member of the haystack from the</a>
<a id="740" class="Comment">-- needle as we go. For example, to check if 6 is in the above set, we do the</a>
<a id="818" class="Comment">-- following:</a>
<a id="832" class="Comment">--</a>
<a id="835" class="Comment">--   start:                  6 ∈? (1 ∷ 1 ∷ 0 ∷ [])</a>
<a id="886" class="Comment">--   test head:              6 ≟ 1</a>
<a id="921" class="Comment">--   not equal, so continue: (6 - 1 - 1) ∈? (1 ∷ 0 ∷ [])</a>
<a id="978" class="Comment">--   compute:                4 ∈? (1 ∷ 0 ∷ [])</a>
<a id="1025" class="Comment">--   test head:              4 ≟ 1</a>
<a id="1060" class="Comment">--   not equal, so continue: (4 - 1 - 1) ∈? (0 ∷ [])</a>
<a id="1113" class="Comment">--   compute:                2 ∈? (0 ∷ [])</a>
<a id="1156" class="Comment">--   test head:              2 ≟ 0</a>
<a id="1191" class="Comment">--   not equal, so continue: (2 - 1 - 1) ∈? []</a>
<a id="1238" class="Comment">--   empty list:             false</a>
<a id="1273" class="Comment">--</a>
<a id="1276" class="Comment">-- In this way, we change the membership test from O(n²) to O(n).</a>
<a id="1342" class="Comment">------------------------------------------------------------------------</a>

<a id="1416" class="Symbol">{-#</a> <a id="1420" class="Keyword">OPTIONS</a> <a id="1428" class="Pragma">--cubical-compatible</a> <a id="1449" class="Pragma">--safe</a> <a id="1456" class="Symbol">#-}</a>

<a id="1461" class="Keyword">module</a> <a id="1468" href="Tactic.RingSolver.Core.NatSet.html" class="Module">Tactic.RingSolver.Core.NatSet</a> <a id="1498" class="Keyword">where</a>

<a id="1505" class="Keyword">open</a> <a id="1510" class="Keyword">import</a> <a id="1517" href="Data.Nat.html" class="Module">Data.Nat</a>        <a id="1533" class="Symbol">as</a> <a id="1536" class="Module">ℕ</a>     <a id="1542" class="Keyword">using</a> <a id="1548" class="Symbol">(</a><a id="1549" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="1550" class="Symbol">;</a> <a id="1552" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a><a id="1555" class="Symbol">;</a> <a id="1557" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1561" class="Symbol">)</a>
<a id="1563" class="Keyword">open</a> <a id="1568" class="Keyword">import</a> <a id="1575" href="Data.List.Base.html" class="Module">Data.List.Base</a>  <a id="1591" class="Symbol">as</a> <a id="1594" class="Module">List</a>  <a id="1600" class="Keyword">using</a> <a id="1606" class="Symbol">(</a><a id="1607" href="Agda.Builtin.List.html#130" class="Datatype">List</a><a id="1611" class="Symbol">;</a> <a id="1613" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">_∷_</a><a id="1616" class="Symbol">;</a> <a id="1618" href="Data.List.Base.html#7375" class="InductiveConstructor">[]</a><a id="1620" class="Symbol">)</a>
<a id="1622" class="Keyword">open</a> <a id="1627" class="Keyword">import</a> <a id="1634" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="1650" class="Symbol">as</a> <a id="1653" class="Module">Maybe</a> <a id="1659" class="Keyword">using</a> <a id="1665" class="Symbol">(</a><a id="1666" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a><a id="1671" class="Symbol">;</a> <a id="1673" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a><a id="1677" class="Symbol">;</a> <a id="1679" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a><a id="1686" class="Symbol">)</a>
<a id="1688" class="Keyword">open</a> <a id="1693" class="Keyword">import</a> <a id="1700" href="Data.Bool.html" class="Module">Data.Bool</a>       <a id="1716" class="Symbol">as</a> <a id="1719" class="Module">Bool</a>  <a id="1725" class="Keyword">using</a> <a id="1731" class="Symbol">(</a><a id="1732" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a><a id="1736" class="Symbol">)</a>
<a id="1738" class="Keyword">open</a> <a id="1743" class="Keyword">import</a> <a id="1750" href="Function.html" class="Module">Function</a>
<a id="1759" class="Keyword">open</a> <a id="1764" class="Keyword">import</a> <a id="1771" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>

<a id="1810" class="Comment">------------------------------------------------------------------------</a>
<a id="1883" class="Comment">-- Helper methods</a>

<a id="para"></a><a id="1902" href="Tactic.RingSolver.Core.NatSet.html#1902" class="Function">para</a> <a id="1907" class="Symbol">:</a> <a id="1909" class="Symbol">∀</a> <a id="1911" class="Symbol">{</a><a id="1912" href="Tactic.RingSolver.Core.NatSet.html#1912" class="Bound">a</a> <a id="1914" href="Tactic.RingSolver.Core.NatSet.html#1914" class="Bound">b</a><a id="1915" class="Symbol">}</a> <a id="1917" class="Symbol">{</a><a id="1918" href="Tactic.RingSolver.Core.NatSet.html#1918" class="Bound">A</a> <a id="1920" class="Symbol">:</a> <a id="1922" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1926" href="Tactic.RingSolver.Core.NatSet.html#1912" class="Bound">a</a><a id="1927" class="Symbol">}</a> <a id="1929" class="Symbol">{</a><a id="1930" href="Tactic.RingSolver.Core.NatSet.html#1930" class="Bound">B</a> <a id="1932" class="Symbol">:</a> <a id="1934" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1938" href="Tactic.RingSolver.Core.NatSet.html#1914" class="Bound">b</a><a id="1939" class="Symbol">}</a> <a id="1941" class="Symbol">→</a>
       <a id="1950" class="Symbol">(</a><a id="1951" href="Tactic.RingSolver.Core.NatSet.html#1918" class="Bound">A</a> <a id="1953" class="Symbol">→</a> <a id="1955" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1960" href="Tactic.RingSolver.Core.NatSet.html#1918" class="Bound">A</a> <a id="1962" class="Symbol">→</a> <a id="1964" href="Tactic.RingSolver.Core.NatSet.html#1930" class="Bound">B</a> <a id="1966" class="Symbol">→</a> <a id="1968" href="Tactic.RingSolver.Core.NatSet.html#1930" class="Bound">B</a><a id="1969" class="Symbol">)</a> <a id="1971" class="Symbol">→</a> <a id="1973" href="Tactic.RingSolver.Core.NatSet.html#1930" class="Bound">B</a> <a id="1975" class="Symbol">→</a> <a id="1977" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="1982" href="Tactic.RingSolver.Core.NatSet.html#1918" class="Bound">A</a> <a id="1984" class="Symbol">→</a> <a id="1986" href="Tactic.RingSolver.Core.NatSet.html#1930" class="Bound">B</a>
<a id="1988" href="Tactic.RingSolver.Core.NatSet.html#1902" class="Function">para</a> <a id="1993" href="Tactic.RingSolver.Core.NatSet.html#1993" class="Bound">f</a> <a id="1995" href="Tactic.RingSolver.Core.NatSet.html#1995" class="Bound">b</a> <a id="1997" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>       <a id="2006" class="Symbol">=</a> <a id="2008" href="Tactic.RingSolver.Core.NatSet.html#1995" class="Bound">b</a>
<a id="2010" href="Tactic.RingSolver.Core.NatSet.html#1902" class="Function">para</a> <a id="2015" href="Tactic.RingSolver.Core.NatSet.html#2015" class="Bound">f</a> <a id="2017" href="Tactic.RingSolver.Core.NatSet.html#2017" class="Bound">b</a> <a id="2019" class="Symbol">(</a><a id="2020" href="Tactic.RingSolver.Core.NatSet.html#2020" class="Bound">x</a> <a id="2022" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2024" href="Tactic.RingSolver.Core.NatSet.html#2024" class="Bound">xs</a><a id="2026" class="Symbol">)</a> <a id="2028" class="Symbol">=</a> <a id="2030" href="Tactic.RingSolver.Core.NatSet.html#2015" class="Bound">f</a> <a id="2032" href="Tactic.RingSolver.Core.NatSet.html#2020" class="Bound">x</a> <a id="2034" href="Tactic.RingSolver.Core.NatSet.html#2024" class="Bound">xs</a> <a id="2037" class="Symbol">(</a><a id="2038" href="Tactic.RingSolver.Core.NatSet.html#1902" class="Function">para</a> <a id="2043" href="Tactic.RingSolver.Core.NatSet.html#2015" class="Bound">f</a> <a id="2045" href="Tactic.RingSolver.Core.NatSet.html#2017" class="Bound">b</a> <a id="2047" href="Tactic.RingSolver.Core.NatSet.html#2024" class="Bound">xs</a><a id="2049" class="Symbol">)</a>

<a id="2052" class="Comment">------------------------------------------------------------------------</a>
<a id="2125" class="Comment">-- Definition</a>

<a id="NatSet"></a><a id="2140" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2147" class="Symbol">:</a> <a id="2149" href="Agda.Primitive.html#320" class="Primitive">Set</a>
<a id="2153" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2160" class="Symbol">=</a> <a id="2162" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="2167" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>

<a id="2170" class="Comment">------------------------------------------------------------------------</a>
<a id="2243" class="Comment">-- Functions</a>

<a id="insert"></a><a id="2257" href="Tactic.RingSolver.Core.NatSet.html#2257" class="Function">insert</a> <a id="2264" class="Symbol">:</a> <a id="2266" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2268" class="Symbol">→</a> <a id="2270" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2277" class="Symbol">→</a> <a id="2279" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a>
<a id="2286" href="Tactic.RingSolver.Core.NatSet.html#2257" class="Function">insert</a> <a id="2293" href="Tactic.RingSolver.Core.NatSet.html#2293" class="Bound">x</a> <a id="2295" href="Tactic.RingSolver.Core.NatSet.html#2295" class="Bound">xs</a> <a id="2298" class="Symbol">=</a> <a id="2300" href="Tactic.RingSolver.Core.NatSet.html#1902" class="Function">para</a> <a id="2305" href="Tactic.RingSolver.Core.NatSet.html#2330" class="Function">f</a> <a id="2307" class="Symbol">(</a><a id="2308" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">_∷</a> <a id="2311" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2313" class="Symbol">)</a> <a id="2315" href="Tactic.RingSolver.Core.NatSet.html#2295" class="Bound">xs</a> <a id="2318" href="Tactic.RingSolver.Core.NatSet.html#2293" class="Bound">x</a>
  <a id="2322" class="Keyword">where</a>
  <a id="2330" href="Tactic.RingSolver.Core.NatSet.html#2330" class="Function">f</a> <a id="2332" class="Symbol">:</a> <a id="2334" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2336" class="Symbol">→</a> <a id="2338" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2345" class="Symbol">→</a> <a id="2347" class="Symbol">(</a><a id="2348" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2350" class="Symbol">→</a> <a id="2352" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a><a id="2358" class="Symbol">)</a> <a id="2360" class="Symbol">→</a> <a id="2362" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2364" class="Symbol">→</a> <a id="2366" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a>
  <a id="2375" href="Tactic.RingSolver.Core.NatSet.html#2330" class="Function">f</a> <a id="2377" href="Tactic.RingSolver.Core.NatSet.html#2377" class="Bound">y</a> <a id="2379" href="Tactic.RingSolver.Core.NatSet.html#2379" class="Bound">ys</a> <a id="2382" href="Tactic.RingSolver.Core.NatSet.html#2382" class="Bound">c</a> <a id="2384" href="Tactic.RingSolver.Core.NatSet.html#2384" class="Bound">x</a> <a id="2386" class="Keyword">with</a> <a id="2391" href="Data.Nat.Base.html#7112" class="Function">ℕ.compare</a> <a id="2401" href="Tactic.RingSolver.Core.NatSet.html#2384" class="Bound">x</a> <a id="2403" href="Tactic.RingSolver.Core.NatSet.html#2377" class="Bound">y</a>
  <a id="2407" class="Symbol">...</a> <a id="2411" class="Symbol">|</a> <a id="2413" href="Data.Nat.Base.html#6990" class="InductiveConstructor">ℕ.less</a> <a id="2420" href="Tactic.RingSolver.Core.NatSet.html#2420" class="Bound">x</a> <a id="2422" href="Tactic.RingSolver.Core.NatSet.html#2422" class="Bound">k</a>    <a id="2427" class="Symbol">=</a> <a id="2429" href="Tactic.RingSolver.Core.NatSet.html#2420" class="Bound">x</a> <a id="2431" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2433" href="Tactic.RingSolver.Core.NatSet.html#2422" class="Bound">k</a> <a id="2435" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2437" class="Bound">ys</a>
  <a id="2442" class="Symbol">...</a> <a id="2446" class="Symbol">|</a> <a id="2448" href="Data.Nat.Base.html#7035" class="InductiveConstructor">ℕ.equal</a> <a id="2456" href="Tactic.RingSolver.Core.NatSet.html#2456" class="Bound">x</a>     <a id="2462" class="Symbol">=</a> <a id="2464" href="Tactic.RingSolver.Core.NatSet.html#2456" class="Bound">x</a> <a id="2466" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2468" class="Bound">ys</a>
  <a id="2473" class="Symbol">...</a> <a id="2477" class="Symbol">|</a> <a id="2479" href="Data.Nat.Base.html#7068" class="InductiveConstructor">ℕ.greater</a> <a id="2489" href="Tactic.RingSolver.Core.NatSet.html#2489" class="Bound">y</a> <a id="2491" href="Tactic.RingSolver.Core.NatSet.html#2491" class="Bound">k</a> <a id="2493" class="Symbol">=</a> <a id="2495" href="Tactic.RingSolver.Core.NatSet.html#2489" class="Bound">y</a> <a id="2497" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2499" class="Bound">c</a> <a id="2501" href="Tactic.RingSolver.Core.NatSet.html#2491" class="Bound">k</a>

<a id="delete"></a><a id="2504" href="Tactic.RingSolver.Core.NatSet.html#2504" class="Function">delete</a> <a id="2511" class="Symbol">:</a> <a id="2513" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2515" class="Symbol">→</a> <a id="2517" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2524" class="Symbol">→</a> <a id="2526" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a>
<a id="2533" href="Tactic.RingSolver.Core.NatSet.html#2504" class="Function">delete</a> <a id="2540" href="Tactic.RingSolver.Core.NatSet.html#2540" class="Bound">x</a> <a id="2542" href="Tactic.RingSolver.Core.NatSet.html#2542" class="Bound">xs</a> <a id="2545" class="Symbol">=</a> <a id="2547" href="Tactic.RingSolver.Core.NatSet.html#1902" class="Function">para</a> <a id="2552" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2554" class="Symbol">(</a><a id="2555" href="Function.Base.html#725" class="Function">const</a> <a id="2561" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a><a id="2563" class="Symbol">)</a> <a id="2565" href="Tactic.RingSolver.Core.NatSet.html#2542" class="Bound">xs</a> <a id="2568" href="Tactic.RingSolver.Core.NatSet.html#2540" class="Bound">x</a>
  <a id="2572" class="Keyword">where</a>
  <a id="2580" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2582" class="Symbol">:</a> <a id="2584" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2586" class="Symbol">→</a> <a id="2588" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2595" class="Symbol">→</a> <a id="2597" class="Symbol">(</a><a id="2598" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2600" class="Symbol">→</a> <a id="2602" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a><a id="2608" class="Symbol">)</a> <a id="2610" class="Symbol">→</a> <a id="2612" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2614" class="Symbol">→</a> <a id="2616" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a>
  <a id="2625" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2627" href="Tactic.RingSolver.Core.NatSet.html#2627" class="Bound">y</a> <a id="2629" href="Tactic.RingSolver.Core.NatSet.html#2629" class="Bound">ys</a> <a id="2632" href="Tactic.RingSolver.Core.NatSet.html#2632" class="Bound">c</a> <a id="2634" href="Tactic.RingSolver.Core.NatSet.html#2634" class="Bound">x</a> <a id="2636" class="Keyword">with</a> <a id="2641" href="Data.Nat.Base.html#7112" class="Function">ℕ.compare</a> <a id="2651" href="Tactic.RingSolver.Core.NatSet.html#2634" class="Bound">x</a> <a id="2653" href="Tactic.RingSolver.Core.NatSet.html#2627" class="Bound">y</a>
  <a id="2657" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2659" href="Tactic.RingSolver.Core.NatSet.html#2659" class="Bound">y</a> <a id="2661" href="Tactic.RingSolver.Core.NatSet.html#2661" class="Bound">ys</a> <a id="2664" href="Tactic.RingSolver.Core.NatSet.html#2664" class="Bound">c</a> <a id="2666" href="Tactic.RingSolver.Core.NatSet.html#2666" class="Bound">x</a>         <a id="2676" class="Symbol">|</a> <a id="2678" href="Data.Nat.Base.html#6990" class="InductiveConstructor">ℕ.less</a>    <a id="2688" href="Tactic.RingSolver.Core.NatSet.html#2666" class="Bound">x</a> <a id="2690" href="Tactic.RingSolver.Core.NatSet.html#2690" class="Bound">k</a> <a id="2692" class="Symbol">=</a> <a id="2694" href="Tactic.RingSolver.Core.NatSet.html#2659" class="Bound">y</a> <a id="2696" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2698" href="Tactic.RingSolver.Core.NatSet.html#2661" class="Bound">ys</a>
  <a id="2703" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2705" href="Tactic.RingSolver.Core.NatSet.html#2705" class="Bound">y</a> <a id="2707" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a> <a id="2710" href="Tactic.RingSolver.Core.NatSet.html#2710" class="Bound">c</a> <a id="2712" href="Tactic.RingSolver.Core.NatSet.html#2712" class="Bound">x</a>         <a id="2722" class="Symbol">|</a> <a id="2724" href="Data.Nat.Base.html#7035" class="InductiveConstructor">ℕ.equal</a>   <a id="2734" href="Tactic.RingSolver.Core.NatSet.html#2712" class="Bound">x</a>   <a id="2738" class="Symbol">=</a> <a id="2740" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>
  <a id="2745" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2747" href="Tactic.RingSolver.Core.NatSet.html#2747" class="Bound">y₁</a> <a id="2750" class="Symbol">(</a><a id="2751" href="Tactic.RingSolver.Core.NatSet.html#2751" class="Bound">y₂</a> <a id="2754" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2756" href="Tactic.RingSolver.Core.NatSet.html#2756" class="Bound">ys</a><a id="2758" class="Symbol">)</a> <a id="2760" href="Tactic.RingSolver.Core.NatSet.html#2760" class="Bound">c</a> <a id="2762" href="Tactic.RingSolver.Core.NatSet.html#2762" class="Bound">x</a> <a id="2764" class="Symbol">|</a> <a id="2766" href="Data.Nat.Base.html#7035" class="InductiveConstructor">ℕ.equal</a>   <a id="2776" href="Tactic.RingSolver.Core.NatSet.html#2762" class="Bound">x</a>   <a id="2780" class="Symbol">=</a> <a id="2782" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2786" href="Tactic.RingSolver.Core.NatSet.html#2762" class="Bound">x</a> <a id="2788" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">ℕ.+</a> <a id="2792" href="Tactic.RingSolver.Core.NatSet.html#2751" class="Bound">y₂</a> <a id="2795" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2797" href="Tactic.RingSolver.Core.NatSet.html#2756" class="Bound">ys</a>
  <a id="2802" href="Tactic.RingSolver.Core.NatSet.html#2580" class="Function">f</a> <a id="2804" href="Tactic.RingSolver.Core.NatSet.html#2804" class="Bound">y</a> <a id="2806" href="Tactic.RingSolver.Core.NatSet.html#2806" class="Bound">ys</a> <a id="2809" href="Tactic.RingSolver.Core.NatSet.html#2809" class="Bound">c</a> <a id="2811" href="Tactic.RingSolver.Core.NatSet.html#2811" class="Bound">x</a>         <a id="2821" class="Symbol">|</a> <a id="2823" href="Data.Nat.Base.html#7068" class="InductiveConstructor">ℕ.greater</a> <a id="2833" href="Tactic.RingSolver.Core.NatSet.html#2804" class="Bound">y</a> <a id="2835" href="Tactic.RingSolver.Core.NatSet.html#2835" class="Bound">k</a> <a id="2837" class="Symbol">=</a> <a id="2839" href="Tactic.RingSolver.Core.NatSet.html#2804" class="Bound">y</a> <a id="2841" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="2843" href="Tactic.RingSolver.Core.NatSet.html#2809" class="Bound">c</a> <a id="2845" href="Tactic.RingSolver.Core.NatSet.html#2835" class="Bound">k</a>

<a id="2848" class="Comment">-- Returns the position of the element, if it&#39;s present.</a>
<a id="lookup"></a><a id="2905" href="Tactic.RingSolver.Core.NatSet.html#2905" class="Function">lookup</a> <a id="2912" class="Symbol">:</a> <a id="2914" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="2921" class="Symbol">→</a> <a id="2923" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="2925" class="Symbol">→</a> <a id="2927" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="2933" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="2935" href="Tactic.RingSolver.Core.NatSet.html#2905" class="Function">lookup</a> <a id="2942" href="Tactic.RingSolver.Core.NatSet.html#2942" class="Bound">xs</a> <a id="2945" href="Tactic.RingSolver.Core.NatSet.html#2945" class="Bound">x</a> <a id="2947" class="Symbol">=</a> <a id="2949" href="Data.List.Base.html#4325" class="Function">List.foldr</a> <a id="2960" href="Tactic.RingSolver.Core.NatSet.html#3003" class="Function">f</a> <a id="2962" class="Symbol">(</a><a id="2963" href="Function.Base.html#725" class="Function">const</a> <a id="2969" class="Symbol">(</a><a id="2970" href="Function.Base.html#725" class="Function">const</a> <a id="2976" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a><a id="2983" class="Symbol">))</a> <a id="2986" href="Tactic.RingSolver.Core.NatSet.html#2942" class="Bound">xs</a> <a id="2989" href="Tactic.RingSolver.Core.NatSet.html#2945" class="Bound">x</a> <a id="2991" class="Number">0</a>
  <a id="2995" class="Keyword">where</a>
  <a id="3003" href="Tactic.RingSolver.Core.NatSet.html#3003" class="Function">f</a> <a id="3005" class="Symbol">:</a> <a id="3007" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3009" class="Symbol">→</a> <a id="3011" class="Symbol">(</a><a id="3012" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3014" class="Symbol">→</a> <a id="3016" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3018" class="Symbol">→</a> <a id="3020" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3026" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="3027" class="Symbol">)</a> <a id="3029" class="Symbol">→</a> <a id="3031" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3033" class="Symbol">→</a> <a id="3035" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3037" class="Symbol">→</a> <a id="3039" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="3045" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
  <a id="3049" href="Tactic.RingSolver.Core.NatSet.html#3003" class="Function">f</a> <a id="3051" href="Tactic.RingSolver.Core.NatSet.html#3051" class="Bound">y</a> <a id="3053" href="Tactic.RingSolver.Core.NatSet.html#3053" class="Bound">ys</a> <a id="3056" href="Tactic.RingSolver.Core.NatSet.html#3056" class="Bound">x</a> <a id="3058" href="Tactic.RingSolver.Core.NatSet.html#3058" class="Bound">i</a> <a id="3060" class="Keyword">with</a> <a id="3065" href="Data.Nat.Base.html#7112" class="Function">ℕ.compare</a> <a id="3075" href="Tactic.RingSolver.Core.NatSet.html#3056" class="Bound">x</a> <a id="3077" href="Tactic.RingSolver.Core.NatSet.html#3051" class="Bound">y</a>
  <a id="3081" class="Symbol">...</a> <a id="3085" class="Symbol">|</a> <a id="3087" href="Data.Nat.Base.html#6990" class="InductiveConstructor">ℕ.less</a>     <a id="3098" href="Tactic.RingSolver.Core.NatSet.html#3098" class="Bound">x</a> <a id="3100" href="Tactic.RingSolver.Core.NatSet.html#3100" class="Bound">k</a> <a id="3102" class="Symbol">=</a> <a id="3104" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a>
  <a id="3114" class="Symbol">...</a> <a id="3118" class="Symbol">|</a> <a id="3120" href="Data.Nat.Base.html#7035" class="InductiveConstructor">ℕ.equal</a>    <a id="3131" href="Tactic.RingSolver.Core.NatSet.html#3131" class="Bound">y</a>   <a id="3135" class="Symbol">=</a> <a id="3137" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3142" class="Bound">i</a>
  <a id="3146" class="Symbol">...</a> <a id="3150" class="Symbol">|</a> <a id="3152" href="Data.Nat.Base.html#7068" class="InductiveConstructor">ℕ.greater</a>  <a id="3163" href="Tactic.RingSolver.Core.NatSet.html#3163" class="Bound">y</a> <a id="3165" href="Tactic.RingSolver.Core.NatSet.html#3165" class="Bound">k</a> <a id="3167" class="Symbol">=</a> <a id="3169" class="Bound">ys</a> <a id="3172" href="Tactic.RingSolver.Core.NatSet.html#3165" class="Bound">k</a> <a id="3174" class="Symbol">(</a><a id="3175" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3179" class="Bound">i</a><a id="3180" class="Symbol">)</a>


<a id="member"></a><a id="3184" href="Tactic.RingSolver.Core.NatSet.html#3184" class="Function">member</a> <a id="3191" class="Symbol">:</a> <a id="3193" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3195" class="Symbol">→</a> <a id="3197" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="3204" class="Symbol">→</a> <a id="3206" href="Agda.Builtin.Bool.html#156" class="Datatype">Bool</a>
<a id="3211" href="Tactic.RingSolver.Core.NatSet.html#3184" class="Function">member</a> <a id="3218" href="Tactic.RingSolver.Core.NatSet.html#3218" class="Bound">x</a> <a id="3220" href="Tactic.RingSolver.Core.NatSet.html#3220" class="Bound">xs</a> <a id="3223" class="Symbol">=</a> <a id="3225" href="Data.Maybe.Base.html#1110" class="Function">Maybe.is-just</a> <a id="3239" class="Symbol">(</a><a id="3240" href="Tactic.RingSolver.Core.NatSet.html#2905" class="Function">lookup</a> <a id="3247" href="Tactic.RingSolver.Core.NatSet.html#3220" class="Bound">xs</a> <a id="3250" href="Tactic.RingSolver.Core.NatSet.html#3218" class="Bound">x</a><a id="3251" class="Symbol">)</a>

<a id="fromList"></a><a id="3254" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3263" class="Symbol">:</a> <a id="3265" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3270" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="3272" class="Symbol">→</a> <a id="3274" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a>
<a id="3281" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3290" class="Symbol">=</a> <a id="3292" href="Data.List.Base.html#4325" class="Function">List.foldr</a> <a id="3303" href="Tactic.RingSolver.Core.NatSet.html#2257" class="Function">insert</a> <a id="3310" href="Agda.Builtin.List.html#167" class="InductiveConstructor">[]</a>

<a id="toList"></a><a id="3314" href="Tactic.RingSolver.Core.NatSet.html#3314" class="Function">toList</a> <a id="3321" class="Symbol">:</a> <a id="3323" href="Tactic.RingSolver.Core.NatSet.html#2140" class="Function">NatSet</a> <a id="3330" class="Symbol">→</a> <a id="3332" href="Agda.Builtin.List.html#130" class="Datatype">List</a> <a id="3337" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="3339" href="Tactic.RingSolver.Core.NatSet.html#3314" class="Function">toList</a> <a id="3346" class="Symbol">=</a> <a id="3348" href="Data.List.Base.html#8583" class="Function">List.drop</a> <a id="3358" class="Number">1</a> <a id="3360" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3362" href="Data.List.Base.html#1620" class="Function">List.map</a> <a id="3371" href="Data.Nat.Base.html#3280" class="Function">ℕ.pred</a> <a id="3378" href="Function.Base.html#1115" class="Function Operator">∘</a> <a id="3380" href="Data.List.Base.html#5831" class="Function">List.scanl</a> <a id="3391" class="Symbol">(λ</a> <a id="3394" href="Tactic.RingSolver.Core.NatSet.html#3394" class="Bound">x</a> <a id="3396" href="Tactic.RingSolver.Core.NatSet.html#3396" class="Bound">y</a> <a id="3398" class="Symbol">→</a> <a id="3400" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3404" class="Symbol">(</a><a id="3405" href="Tactic.RingSolver.Core.NatSet.html#3396" class="Bound">y</a> <a id="3407" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">ℕ.+</a> <a id="3411" href="Tactic.RingSolver.Core.NatSet.html#3394" class="Bound">x</a><a id="3412" class="Symbol">))</a> <a id="3415" class="Number">0</a>

<a id="3418" class="Comment">------------------------------------------------------------------------</a>
<a id="3491" class="Comment">-- Tests</a>

<a id="3501" class="Keyword">private</a>
  <a id="example₁"></a><a id="3511" href="Tactic.RingSolver.Core.NatSet.html#3511" class="Function">example₁</a> <a id="3520" class="Symbol">:</a> <a id="3522" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3531" class="Symbol">(</a><a id="3532" class="Number">4</a> <a id="3534" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3536" class="Number">3</a> <a id="3538" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3540" class="Number">1</a> <a id="3542" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3544" class="Number">0</a> <a id="3546" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3548" class="Number">2</a> <a id="3550" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3552" class="InductiveConstructor">[]</a><a id="3554" class="Symbol">)</a> <a id="3556" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3558" class="Symbol">(</a><a id="3559" class="Number">0</a> <a id="3561" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3563" class="Number">0</a> <a id="3565" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3567" class="Number">0</a> <a id="3569" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3571" class="Number">0</a> <a id="3573" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3575" class="Number">0</a> <a id="3577" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3579" class="InductiveConstructor">[]</a><a id="3581" class="Symbol">)</a>
  <a id="3585" href="Tactic.RingSolver.Core.NatSet.html#3511" class="Function">example₁</a> <a id="3594" class="Symbol">=</a> <a id="3596" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="example₂"></a><a id="3604" href="Tactic.RingSolver.Core.NatSet.html#3604" class="Function">example₂</a> <a id="3613" class="Symbol">:</a> <a id="3615" href="Tactic.RingSolver.Core.NatSet.html#2905" class="Function">lookup</a> <a id="3622" class="Symbol">(</a><a id="3623" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3632" class="Symbol">(</a><a id="3633" class="Number">4</a> <a id="3635" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3637" class="Number">3</a> <a id="3639" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3641" class="Number">1</a> <a id="3643" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3645" class="Number">0</a> <a id="3647" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3649" class="Number">2</a> <a id="3651" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3653" class="InductiveConstructor">[]</a><a id="3655" class="Symbol">))</a> <a id="3658" class="Number">3</a> <a id="3660" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3662" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a> <a id="3667" class="Number">3</a>
  <a id="3671" href="Tactic.RingSolver.Core.NatSet.html#3604" class="Function">example₂</a> <a id="3680" class="Symbol">=</a> <a id="3682" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="example₃"></a><a id="3690" href="Tactic.RingSolver.Core.NatSet.html#3690" class="Function">example₃</a> <a id="3699" class="Symbol">:</a> <a id="3701" href="Tactic.RingSolver.Core.NatSet.html#3314" class="Function">toList</a> <a id="3708" class="Symbol">(</a><a id="3709" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3718" class="Symbol">(</a><a id="3719" class="Number">4</a> <a id="3721" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3723" class="Number">3</a> <a id="3725" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3727" class="Number">1</a> <a id="3729" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3731" class="Number">0</a> <a id="3733" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3735" class="Number">2</a> <a id="3737" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3739" class="InductiveConstructor">[]</a><a id="3741" class="Symbol">))</a> <a id="3744" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3746" class="Symbol">(</a><a id="3747" class="Number">0</a> <a id="3749" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3751" class="Number">1</a> <a id="3753" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3755" class="Number">2</a> <a id="3757" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3759" class="Number">3</a> <a id="3761" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3763" class="Number">4</a> <a id="3765" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3767" class="InductiveConstructor">[]</a><a id="3769" class="Symbol">)</a>
  <a id="3773" href="Tactic.RingSolver.Core.NatSet.html#3690" class="Function">example₃</a> <a id="3782" class="Symbol">=</a> <a id="3784" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="example₄"></a><a id="3792" href="Tactic.RingSolver.Core.NatSet.html#3792" class="Function">example₄</a> <a id="3801" class="Symbol">:</a> <a id="3803" href="Tactic.RingSolver.Core.NatSet.html#2504" class="Function">delete</a> <a id="3810" class="Number">3</a> <a id="3812" class="Symbol">(</a><a id="3813" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3822" class="Symbol">(</a><a id="3823" class="Number">4</a> <a id="3825" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3827" class="Number">3</a> <a id="3829" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3831" class="Number">1</a> <a id="3833" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3835" class="Number">2</a> <a id="3837" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3839" class="InductiveConstructor">[]</a><a id="3841" class="Symbol">))</a> <a id="3844" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3846" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3855" class="Symbol">(</a><a id="3856" class="Number">4</a> <a id="3858" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3860" class="Number">1</a> <a id="3862" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3864" class="Number">2</a> <a id="3866" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3868" class="InductiveConstructor">[]</a><a id="3870" class="Symbol">)</a>
  <a id="3874" href="Tactic.RingSolver.Core.NatSet.html#3792" class="Function">example₄</a> <a id="3883" class="Symbol">=</a> <a id="3885" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="example₅"></a><a id="3893" href="Tactic.RingSolver.Core.NatSet.html#3893" class="Function">example₅</a> <a id="3902" class="Symbol">:</a> <a id="3904" href="Tactic.RingSolver.Core.NatSet.html#2504" class="Function">delete</a> <a id="3911" class="Number">3</a> <a id="3913" class="Symbol">(</a><a id="3914" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3923" class="Symbol">(</a><a id="3924" class="Number">4</a> <a id="3926" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3928" class="Number">1</a> <a id="3930" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3932" class="Number">2</a> <a id="3934" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3936" class="InductiveConstructor">[]</a><a id="3938" class="Symbol">))</a> <a id="3941" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3943" href="Tactic.RingSolver.Core.NatSet.html#3254" class="Function">fromList</a> <a id="3952" class="Symbol">(</a><a id="3953" class="Number">4</a> <a id="3955" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3957" class="Number">1</a> <a id="3959" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3961" class="Number">2</a> <a id="3963" href="Agda.Builtin.List.html#182" class="InductiveConstructor Operator">∷</a> <a id="3965" class="InductiveConstructor">[]</a><a id="3967" class="Symbol">)</a>
  <a id="3971" href="Tactic.RingSolver.Core.NatSet.html#3893" class="Function">example₅</a> <a id="3980" class="Symbol">=</a> <a id="3982" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
</pre></body></html>