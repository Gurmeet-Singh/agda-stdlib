<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Container.Indexed</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed containers aka interaction structures aka polynomial</a>
<a id="170" class="Comment">-- functors. The notation and presentation here is closest to that of</a>
<a id="240" class="Comment">-- Hancock and Hyvernat in &quot;Programming interfaces and basic topology&quot;</a>
<a id="311" class="Comment">-- (2006/9).</a>
<a id="324" class="Comment">------------------------------------------------------------------------</a>

<a id="398" class="Symbol">{-#</a> <a id="402" class="Keyword">OPTIONS</a> <a id="410" class="Pragma">--cubical-compatible</a> <a id="431" class="Pragma">--safe</a> <a id="438" class="Symbol">#-}</a>

<a id="443" class="Keyword">module</a> <a id="450" href="Data.Container.Indexed.html" class="Module">Data.Container.Indexed</a> <a id="473" class="Keyword">where</a>

<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Level.html" class="Module">Level</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="528" class="Symbol">as</a> <a id="531" class="Module">Prod</a> <a id="536" class="Keyword">hiding</a> <a id="543" class="Symbol">(</a><a id="544" href="Data.Product.Base.html#2173" class="Function">map</a><a id="547" class="Symbol">)</a>
<a id="549" class="Keyword">open</a> <a id="554" class="Keyword">import</a> <a id="561" href="Data.W.Indexed.html" class="Module">Data.W.Indexed</a>
<a id="576" class="Keyword">open</a> <a id="581" class="Keyword">import</a> <a id="588" href="Function.Base.html" class="Module">Function.Base</a> <a id="602" class="Keyword">renaming</a> <a id="611" class="Symbol">(</a><a id="612" href="Function.Base.html#704" class="Function">id</a> <a id="615" class="Symbol">to</a> <a id="618" class="Function">⟨id⟩</a><a id="622" class="Symbol">;</a> <a id="624" href="Function.Base.html#1115" class="Function Operator">_∘_</a> <a id="628" class="Symbol">to</a> <a id="631" class="Function Operator">_⟨∘⟩_</a><a id="636" class="Symbol">)</a>
<a id="638" class="Keyword">open</a> <a id="643" class="Keyword">import</a> <a id="650" href="Function.Equality.html" class="Module">Function.Equality</a> <a id="668" class="Keyword">using</a> <a id="674" class="Symbol">(</a><a id="675" href="Function.Equality.html#1092" class="Field Operator">_⟨$⟩_</a><a id="680" class="Symbol">)</a>
<a id="682" class="Keyword">open</a> <a id="687" class="Keyword">import</a> <a id="694" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="711" class="Keyword">using</a> <a id="717" class="Symbol">(</a><a id="718" href="Function.Inverse.html#2466" class="Function Operator">_↔_</a><a id="721" class="Symbol">;</a> <a id="723" class="Keyword">module</a> <a id="730" href="Function.Inverse.html#1394" class="Module">Inverse</a><a id="737" class="Symbol">)</a>
<a id="739" class="Keyword">open</a> <a id="744" class="Keyword">import</a> <a id="751" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="766" class="Keyword">using</a> <a id="772" class="Symbol">(</a><a id="773" href="Relation.Unary.html#1232" class="Function">Pred</a><a id="777" class="Symbol">;</a> <a id="779" href="Relation.Unary.html#1882" class="Function Operator">_⊆_</a><a id="782" class="Symbol">)</a>
<a id="784" class="Keyword">import</a> <a id="791" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="807" class="Symbol">as</a> <a id="810" class="Module">B</a>
<a id="812" class="Keyword">open</a> <a id="817" class="Keyword">import</a> <a id="824" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="862" class="Symbol">as</a> <a id="865" class="Module">P</a> <a id="867" class="Keyword">using</a> <a id="873" class="Symbol">(</a><a id="874" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="877" class="Symbol">;</a> <a id="879" href="Relation.Binary.PropositionalEquality.html#1471" class="Function Operator">_≗_</a><a id="882" class="Symbol">;</a> <a id="884" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="888" class="Symbol">)</a>

<a id="891" class="Comment">------------------------------------------------------------------------</a>

<a id="965" class="Comment">-- The type and its semantics (&quot;extension&quot;).</a>

<a id="1011" class="Keyword">open</a> <a id="1016" class="Keyword">import</a> <a id="1023" href="Data.Container.Indexed.Core.html" class="Module">Data.Container.Indexed.Core</a> <a id="1051" class="Keyword">public</a>
<a id="1058" class="Keyword">open</a> <a id="1063" href="Data.Container.Indexed.Core.html#420" class="Module">Container</a> <a id="1073" class="Keyword">public</a>

<a id="1081" class="Comment">-- Abbreviation for the commonly used level one version of indexed</a>
<a id="1148" class="Comment">-- containers.</a>

<a id="1164" class="Keyword">infix</a> <a id="1170" class="Number">5</a> <a id="1172" href="Data.Container.Indexed.html#1177" class="Function Operator">_▷_</a>

<a id="_▷_"></a><a id="1177" href="Data.Container.Indexed.html#1177" class="Function Operator">_▷_</a> <a id="1181" class="Symbol">:</a> <a id="1183" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1187" class="Symbol">→</a> <a id="1189" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1193" class="Symbol">→</a> <a id="1195" href="Agda.Primitive.html#320" class="Primitive">Set₁</a>
<a id="1200" href="Data.Container.Indexed.html#1200" class="Bound">I</a> <a id="1202" href="Data.Container.Indexed.html#1177" class="Function Operator">▷</a> <a id="1204" href="Data.Container.Indexed.html#1204" class="Bound">O</a> <a id="1206" class="Symbol">=</a> <a id="1208" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="1218" href="Data.Container.Indexed.html#1200" class="Bound">I</a> <a id="1220" href="Data.Container.Indexed.html#1204" class="Bound">O</a> <a id="1222" href="Agda.Primitive.html#758" class="Primitive">zero</a> <a id="1227" href="Agda.Primitive.html#758" class="Primitive">zero</a>

<a id="1233" class="Comment">-- The least and greatest fixpoint.</a>

<a id="μ"></a><a id="1270" href="Data.Container.Indexed.html#1270" class="Function">μ</a> <a id="1272" class="Symbol">:</a> <a id="1274" class="Symbol">∀</a> <a id="1276" class="Symbol">{</a><a id="1277" href="Data.Container.Indexed.html#1277" class="Bound">o</a> <a id="1279" href="Data.Container.Indexed.html#1279" class="Bound">c</a> <a id="1281" href="Data.Container.Indexed.html#1281" class="Bound">r</a><a id="1282" class="Symbol">}</a> <a id="1284" class="Symbol">{</a><a id="1285" href="Data.Container.Indexed.html#1285" class="Bound">O</a> <a id="1287" class="Symbol">:</a> <a id="1289" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1293" href="Data.Container.Indexed.html#1277" class="Bound">o</a><a id="1294" class="Symbol">}</a> <a id="1296" class="Symbol">→</a> <a id="1298" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="1308" href="Data.Container.Indexed.html#1285" class="Bound">O</a> <a id="1310" href="Data.Container.Indexed.html#1285" class="Bound">O</a> <a id="1312" href="Data.Container.Indexed.html#1279" class="Bound">c</a> <a id="1314" href="Data.Container.Indexed.html#1281" class="Bound">r</a> <a id="1316" class="Symbol">→</a> <a id="1318" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1323" href="Data.Container.Indexed.html#1285" class="Bound">O</a> <a id="1325" class="Symbol">_</a>
<a id="1327" href="Data.Container.Indexed.html#1270" class="Function">μ</a> <a id="1329" class="Symbol">=</a> <a id="1331" href="Data.W.Indexed.html#552" class="Datatype">W</a>

<a id="1334" class="Comment">-- An equivalence relation is defined in Data.Container.Indexed.WithK.</a>

<a id="1406" class="Comment">------------------------------------------------------------------------</a>
<a id="1479" class="Comment">-- Functoriality</a>

<a id="1497" class="Comment">-- Indexed containers are functors.</a>

<a id="map"></a><a id="1534" href="Data.Container.Indexed.html#1534" class="Function">map</a> <a id="1538" class="Symbol">:</a> <a id="1540" class="Symbol">∀</a> <a id="1542" class="Symbol">{</a><a id="1543" href="Data.Container.Indexed.html#1543" class="Bound">i</a> <a id="1545" href="Data.Container.Indexed.html#1545" class="Bound">o</a> <a id="1547" href="Data.Container.Indexed.html#1547" class="Bound">c</a> <a id="1549" href="Data.Container.Indexed.html#1549" class="Bound">r</a> <a id="1551" href="Data.Container.Indexed.html#1551" class="Bound">ℓ₁</a> <a id="1554" href="Data.Container.Indexed.html#1554" class="Bound">ℓ₂</a><a id="1556" class="Symbol">}</a> <a id="1558" class="Symbol">{</a><a id="1559" href="Data.Container.Indexed.html#1559" class="Bound">I</a> <a id="1561" class="Symbol">:</a> <a id="1563" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1567" href="Data.Container.Indexed.html#1543" class="Bound">i</a><a id="1568" class="Symbol">}</a> <a id="1570" class="Symbol">{</a><a id="1571" href="Data.Container.Indexed.html#1571" class="Bound">O</a> <a id="1573" class="Symbol">:</a> <a id="1575" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1579" href="Data.Container.Indexed.html#1545" class="Bound">o</a><a id="1580" class="Symbol">}</a>
      <a id="1588" class="Symbol">(</a><a id="1589" href="Data.Container.Indexed.html#1589" class="Bound">C</a> <a id="1591" class="Symbol">:</a> <a id="1593" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="1603" href="Data.Container.Indexed.html#1559" class="Bound">I</a> <a id="1605" href="Data.Container.Indexed.html#1571" class="Bound">O</a> <a id="1607" href="Data.Container.Indexed.html#1547" class="Bound">c</a> <a id="1609" href="Data.Container.Indexed.html#1549" class="Bound">r</a><a id="1610" class="Symbol">)</a> <a id="1612" class="Symbol">{</a><a id="1613" href="Data.Container.Indexed.html#1613" class="Bound">X</a> <a id="1615" class="Symbol">:</a> <a id="1617" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1622" href="Data.Container.Indexed.html#1559" class="Bound">I</a> <a id="1624" href="Data.Container.Indexed.html#1551" class="Bound">ℓ₁</a><a id="1626" class="Symbol">}</a> <a id="1628" class="Symbol">{</a><a id="1629" href="Data.Container.Indexed.html#1629" class="Bound">Y</a> <a id="1631" class="Symbol">:</a> <a id="1633" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="1638" href="Data.Container.Indexed.html#1559" class="Bound">I</a> <a id="1640" href="Data.Container.Indexed.html#1554" class="Bound">ℓ₂</a><a id="1642" class="Symbol">}</a> <a id="1644" class="Symbol">→</a>
      <a id="1652" href="Data.Container.Indexed.html#1613" class="Bound">X</a> <a id="1654" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="1656" href="Data.Container.Indexed.html#1629" class="Bound">Y</a> <a id="1658" class="Symbol">→</a> <a id="1660" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="1662" href="Data.Container.Indexed.html#1589" class="Bound">C</a> <a id="1664" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="1666" href="Data.Container.Indexed.html#1613" class="Bound">X</a> <a id="1668" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="1670" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="1672" href="Data.Container.Indexed.html#1589" class="Bound">C</a> <a id="1674" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="1676" href="Data.Container.Indexed.html#1629" class="Bound">Y</a>
<a id="1678" href="Data.Container.Indexed.html#1534" class="Function">map</a> <a id="1682" class="Symbol">_</a> <a id="1684" href="Data.Container.Indexed.html#1684" class="Bound">f</a> <a id="1686" class="Symbol">=</a> <a id="1688" href="Data.Product.Base.html#2173" class="Function">Prod.map</a> <a id="1697" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="1702" class="Symbol">(λ</a> <a id="1705" href="Data.Container.Indexed.html#1705" class="Bound">g</a> <a id="1707" class="Symbol">→</a> <a id="1709" href="Data.Container.Indexed.html#1684" class="Bound">f</a> <a id="1711" href="Data.Container.Indexed.html#631" class="Function Operator">⟨∘⟩</a> <a id="1715" href="Data.Container.Indexed.html#1705" class="Bound">g</a><a id="1716" class="Symbol">)</a>

<a id="1719" class="Comment">-- Some properties are proved in Data.Container.Indexed.WithK.</a>

<a id="1783" class="Comment">------------------------------------------------------------------------</a>
<a id="1856" class="Comment">-- Container morphisms</a>

<a id="1880" class="Keyword">module</a> <a id="1887" href="Data.Container.Indexed.html#1887" class="Module">_</a> <a id="1889" class="Symbol">{</a><a id="1890" href="Data.Container.Indexed.html#1890" class="Bound">i₁</a> <a id="1893" href="Data.Container.Indexed.html#1893" class="Bound">i₂</a> <a id="1896" href="Data.Container.Indexed.html#1896" class="Bound">o₁</a> <a id="1899" href="Data.Container.Indexed.html#1899" class="Bound">o₂</a><a id="1901" class="Symbol">}</a>
         <a id="1912" class="Symbol">{</a><a id="1913" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="1916" class="Symbol">:</a> <a id="1918" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1922" href="Data.Container.Indexed.html#1890" class="Bound">i₁</a><a id="1924" class="Symbol">}</a> <a id="1926" class="Symbol">{</a><a id="1927" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a> <a id="1930" class="Symbol">:</a> <a id="1932" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1936" href="Data.Container.Indexed.html#1893" class="Bound">i₂</a><a id="1938" class="Symbol">}</a> <a id="1940" class="Symbol">{</a><a id="1941" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="1944" class="Symbol">:</a> <a id="1946" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1950" href="Data.Container.Indexed.html#1896" class="Bound">o₁</a><a id="1952" class="Symbol">}</a> <a id="1954" class="Symbol">{</a><a id="1955" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a> <a id="1958" class="Symbol">:</a> <a id="1960" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1964" href="Data.Container.Indexed.html#1899" class="Bound">o₂</a><a id="1966" class="Symbol">}</a> <a id="1968" class="Keyword">where</a>

  <a id="1977" class="Comment">-- General container morphism.</a>

  <a id="2011" class="Keyword">record</a> <a id="2018" href="Data.Container.Indexed.html#2018" class="Record">ContainerMorphism</a> <a id="2036" class="Symbol">{</a><a id="2037" href="Data.Container.Indexed.html#2037" class="Bound">c₁</a> <a id="2040" href="Data.Container.Indexed.html#2040" class="Bound">c₂</a> <a id="2043" href="Data.Container.Indexed.html#2043" class="Bound">r₁</a> <a id="2046" href="Data.Container.Indexed.html#2046" class="Bound">r₂</a> <a id="2049" href="Data.Container.Indexed.html#2049" class="Bound">ℓ₁</a> <a id="2052" href="Data.Container.Indexed.html#2052" class="Bound">ℓ₂</a><a id="2054" class="Symbol">}</a>
         <a id="2065" class="Symbol">(</a><a id="2066" href="Data.Container.Indexed.html#2066" class="Bound">C₁</a> <a id="2069" class="Symbol">:</a> <a id="2071" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="2081" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="2084" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="2087" href="Data.Container.Indexed.html#2037" class="Bound">c₁</a> <a id="2090" href="Data.Container.Indexed.html#2043" class="Bound">r₁</a><a id="2092" class="Symbol">)</a> <a id="2094" class="Symbol">(</a><a id="2095" href="Data.Container.Indexed.html#2095" class="Bound">C₂</a> <a id="2098" class="Symbol">:</a> <a id="2100" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="2110" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a> <a id="2113" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a> <a id="2116" href="Data.Container.Indexed.html#2040" class="Bound">c₂</a> <a id="2119" href="Data.Container.Indexed.html#2046" class="Bound">r₂</a><a id="2121" class="Symbol">)</a>
         <a id="2132" class="Symbol">(</a><a id="2133" href="Data.Container.Indexed.html#2133" class="Bound">f</a> <a id="2135" class="Symbol">:</a> <a id="2137" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="2140" class="Symbol">→</a> <a id="2142" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a><a id="2144" class="Symbol">)</a> <a id="2146" class="Symbol">(</a><a id="2147" href="Data.Container.Indexed.html#2147" class="Bound">g</a> <a id="2149" class="Symbol">:</a> <a id="2151" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="2154" class="Symbol">→</a> <a id="2156" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a><a id="2158" class="Symbol">)</a>
         <a id="2169" class="Symbol">(</a><a id="2170" href="Data.Container.Indexed.html#2170" class="Bound Operator">_∼_</a> <a id="2174" class="Symbol">:</a> <a id="2176" href="Relation.Binary.Core.html#896" class="Function">B.Rel</a> <a id="2182" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a> <a id="2185" href="Data.Container.Indexed.html#2049" class="Bound">ℓ₁</a><a id="2187" class="Symbol">)</a> <a id="2189" class="Symbol">(</a><a id="2190" href="Data.Container.Indexed.html#2190" class="Bound Operator">_≈_</a> <a id="2194" class="Symbol">:</a> <a id="2196" href="Relation.Binary.Core.html#780" class="Function">B.REL</a> <a id="2202" class="Symbol">(</a><a id="2203" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2207" href="Data.Container.Indexed.html#2046" class="Bound">r₂</a><a id="2209" class="Symbol">)</a> <a id="2211" class="Symbol">(</a><a id="2212" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2216" href="Data.Container.Indexed.html#2043" class="Bound">r₁</a><a id="2218" class="Symbol">)</a> <a id="2220" href="Data.Container.Indexed.html#2052" class="Bound">ℓ₂</a><a id="2222" class="Symbol">)</a>
         <a id="2233" class="Symbol">(</a><a id="2234" href="Data.Container.Indexed.html#2234" class="Bound Operator">_·_</a> <a id="2238" class="Symbol">:</a> <a id="2240" class="Symbol">∀</a> <a id="2242" class="Symbol">{</a><a id="2243" href="Data.Container.Indexed.html#2243" class="Bound">A</a> <a id="2245" href="Data.Container.Indexed.html#2245" class="Bound">B</a><a id="2246" class="Symbol">}</a> <a id="2248" class="Symbol">→</a> <a id="2250" href="Data.Container.Indexed.html#2243" class="Bound">A</a> <a id="2252" href="Data.Container.Indexed.html#2190" class="Bound Operator">≈</a> <a id="2254" href="Data.Container.Indexed.html#2245" class="Bound">B</a> <a id="2256" class="Symbol">→</a> <a id="2258" href="Data.Container.Indexed.html#2243" class="Bound">A</a> <a id="2260" class="Symbol">→</a> <a id="2262" href="Data.Container.Indexed.html#2245" class="Bound">B</a><a id="2263" class="Symbol">)</a> <a id="2265" class="Symbol">:</a>
         <a id="2276" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2280" class="Symbol">(</a><a id="2281" href="Data.Container.Indexed.html#1890" class="Bound">i₁</a> <a id="2284" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2286" href="Data.Container.Indexed.html#1893" class="Bound">i₂</a> <a id="2289" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2291" href="Data.Container.Indexed.html#1896" class="Bound">o₁</a> <a id="2294" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2296" href="Data.Container.Indexed.html#1899" class="Bound">o₂</a> <a id="2299" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2301" href="Data.Container.Indexed.html#2037" class="Bound">c₁</a> <a id="2304" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2306" href="Data.Container.Indexed.html#2040" class="Bound">c₂</a> <a id="2309" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2311" href="Data.Container.Indexed.html#2043" class="Bound">r₁</a> <a id="2314" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2316" href="Data.Container.Indexed.html#2046" class="Bound">r₂</a> <a id="2319" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2321" href="Data.Container.Indexed.html#2049" class="Bound">ℓ₁</a> <a id="2324" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2326" href="Data.Container.Indexed.html#2052" class="Bound">ℓ₂</a><a id="2328" class="Symbol">)</a> <a id="2330" class="Keyword">where</a>
    <a id="2340" class="Keyword">field</a>
      <a id="2352" href="Data.Container.Indexed.html#2352" class="Field">command</a>   <a id="2362" class="Symbol">:</a> <a id="2364" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a> <a id="2372" href="Data.Container.Indexed.html#2066" class="Bound">C₁</a> <a id="2375" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="2377" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a> <a id="2385" href="Data.Container.Indexed.html#2095" class="Bound">C₂</a> <a id="2388" href="Data.Container.Indexed.html#631" class="Function Operator">⟨∘⟩</a> <a id="2392" href="Data.Container.Indexed.html#2147" class="Bound">g</a>
      <a id="2400" href="Data.Container.Indexed.html#2400" class="Field">response</a>  <a id="2410" class="Symbol">:</a> <a id="2412" class="Symbol">∀</a> <a id="2414" class="Symbol">{</a><a id="2415" href="Data.Container.Indexed.html#2415" class="Bound">o</a><a id="2416" class="Symbol">}</a> <a id="2418" class="Symbol">{</a><a id="2419" href="Data.Container.Indexed.html#2419" class="Bound">c₁</a> <a id="2422" class="Symbol">:</a> <a id="2424" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a> <a id="2432" href="Data.Container.Indexed.html#2066" class="Bound">C₁</a> <a id="2435" href="Data.Container.Indexed.html#2415" class="Bound">o</a><a id="2436" class="Symbol">}</a> <a id="2438" class="Symbol">→</a>
                  <a id="2458" href="Data.Container.Indexed.Core.html#590" class="Field">Response</a> <a id="2467" href="Data.Container.Indexed.html#2095" class="Bound">C₂</a> <a id="2470" class="Symbol">(</a><a id="2471" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="2479" href="Data.Container.Indexed.html#2419" class="Bound">c₁</a><a id="2481" class="Symbol">)</a> <a id="2483" href="Data.Container.Indexed.html#2190" class="Bound Operator">≈</a> <a id="2485" href="Data.Container.Indexed.Core.html#590" class="Field">Response</a> <a id="2494" href="Data.Container.Indexed.html#2066" class="Bound">C₁</a> <a id="2497" href="Data.Container.Indexed.html#2419" class="Bound">c₁</a>
      <a id="2506" href="Data.Container.Indexed.html#2506" class="Field">coherent</a>  <a id="2516" class="Symbol">:</a> <a id="2518" class="Symbol">∀</a> <a id="2520" class="Symbol">{</a><a id="2521" href="Data.Container.Indexed.html#2521" class="Bound">o</a><a id="2522" class="Symbol">}</a> <a id="2524" class="Symbol">{</a><a id="2525" href="Data.Container.Indexed.html#2525" class="Bound">c₁</a> <a id="2528" class="Symbol">:</a> <a id="2530" href="Data.Container.Indexed.Core.html#559" class="Field">Command</a> <a id="2538" href="Data.Container.Indexed.html#2066" class="Bound">C₁</a> <a id="2541" href="Data.Container.Indexed.html#2521" class="Bound">o</a><a id="2542" class="Symbol">}</a> <a id="2544" class="Symbol">{</a><a id="2545" href="Data.Container.Indexed.html#2545" class="Bound">r₂</a> <a id="2548" class="Symbol">:</a> <a id="2550" href="Data.Container.Indexed.Core.html#590" class="Field">Response</a> <a id="2559" href="Data.Container.Indexed.html#2095" class="Bound">C₂</a> <a id="2562" class="Symbol">(</a><a id="2563" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="2571" href="Data.Container.Indexed.html#2525" class="Bound">c₁</a><a id="2573" class="Symbol">)}</a> <a id="2576" class="Symbol">→</a>
                  <a id="2596" href="Data.Container.Indexed.html#2133" class="Bound">f</a> <a id="2598" class="Symbol">(</a><a id="2599" href="Data.Container.Indexed.Core.html#631" class="Field">next</a> <a id="2604" href="Data.Container.Indexed.html#2066" class="Bound">C₁</a> <a id="2607" href="Data.Container.Indexed.html#2525" class="Bound">c₁</a> <a id="2610" class="Symbol">(</a><a id="2611" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="2620" href="Data.Container.Indexed.html#2234" class="Bound Operator">·</a> <a id="2622" href="Data.Container.Indexed.html#2545" class="Bound">r₂</a><a id="2624" class="Symbol">))</a> <a id="2627" href="Data.Container.Indexed.html#2170" class="Bound Operator">∼</a> <a id="2629" href="Data.Container.Indexed.Core.html#631" class="Field">next</a> <a id="2634" href="Data.Container.Indexed.html#2095" class="Bound">C₂</a> <a id="2637" class="Symbol">(</a><a id="2638" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="2646" href="Data.Container.Indexed.html#2525" class="Bound">c₁</a><a id="2648" class="Symbol">)</a> <a id="2650" href="Data.Container.Indexed.html#2545" class="Bound">r₂</a>

  <a id="2656" class="Keyword">open</a> <a id="2661" href="Data.Container.Indexed.html#2018" class="Module">ContainerMorphism</a> <a id="2679" class="Keyword">public</a>

  <a id="2689" class="Comment">-- Plain container morphism.</a>

  <a id="2721" href="Data.Container.Indexed.html#2721" class="Function Operator">_⇒[_/_]_</a> <a id="2730" class="Symbol">:</a> <a id="2732" class="Symbol">∀</a> <a id="2734" class="Symbol">{</a><a id="2735" href="Data.Container.Indexed.html#2735" class="Bound">c₁</a> <a id="2738" href="Data.Container.Indexed.html#2738" class="Bound">c₂</a> <a id="2741" href="Data.Container.Indexed.html#2741" class="Bound">r₁</a> <a id="2744" href="Data.Container.Indexed.html#2744" class="Bound">r₂</a><a id="2746" class="Symbol">}</a> <a id="2748" class="Symbol">→</a>
             <a id="2763" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="2773" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="2776" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="2779" href="Data.Container.Indexed.html#2735" class="Bound">c₁</a> <a id="2782" href="Data.Container.Indexed.html#2741" class="Bound">r₁</a> <a id="2785" class="Symbol">→</a> <a id="2787" class="Symbol">(</a><a id="2788" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="2791" class="Symbol">→</a> <a id="2793" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a><a id="2795" class="Symbol">)</a> <a id="2797" class="Symbol">→</a> <a id="2799" class="Symbol">(</a><a id="2800" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="2803" class="Symbol">→</a> <a id="2805" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a><a id="2807" class="Symbol">)</a> <a id="2809" class="Symbol">→</a>
             <a id="2824" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="2834" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a> <a id="2837" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a> <a id="2840" href="Data.Container.Indexed.html#2738" class="Bound">c₂</a> <a id="2843" href="Data.Container.Indexed.html#2744" class="Bound">r₂</a> <a id="2846" class="Symbol">→</a> <a id="2848" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2852" class="Symbol">_</a>
  <a id="2856" href="Data.Container.Indexed.html#2856" class="Bound">C₁</a> <a id="2859" href="Data.Container.Indexed.html#2721" class="Function Operator">⇒[</a> <a id="2862" href="Data.Container.Indexed.html#2862" class="Bound">f</a> <a id="2864" href="Data.Container.Indexed.html#2721" class="Function Operator">/</a> <a id="2866" href="Data.Container.Indexed.html#2866" class="Bound">g</a> <a id="2868" href="Data.Container.Indexed.html#2721" class="Function Operator">]</a> <a id="2870" href="Data.Container.Indexed.html#2870" class="Bound">C₂</a> <a id="2873" class="Symbol">=</a> <a id="2875" href="Data.Container.Indexed.html#2018" class="Record">ContainerMorphism</a> <a id="2893" href="Data.Container.Indexed.html#2856" class="Bound">C₁</a> <a id="2896" href="Data.Container.Indexed.html#2870" class="Bound">C₂</a> <a id="2899" href="Data.Container.Indexed.html#2862" class="Bound">f</a> <a id="2901" href="Data.Container.Indexed.html#2866" class="Bound">g</a> <a id="2903" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="2907" class="Symbol">(λ</a> <a id="2910" href="Data.Container.Indexed.html#2910" class="Bound">R₂</a> <a id="2913" href="Data.Container.Indexed.html#2913" class="Bound">R₁</a> <a id="2916" class="Symbol">→</a> <a id="2918" href="Data.Container.Indexed.html#2910" class="Bound">R₂</a> <a id="2921" class="Symbol">→</a> <a id="2923" href="Data.Container.Indexed.html#2913" class="Bound">R₁</a><a id="2925" class="Symbol">)</a> <a id="2927" href="Function.Base.html#2003" class="Function Operator">_$_</a>

  <a id="2934" class="Comment">-- Linear container morphism.</a>

  <a id="2967" href="Data.Container.Indexed.html#2967" class="Function Operator">_⊸[_/_]_</a> <a id="2976" class="Symbol">:</a> <a id="2978" class="Symbol">∀</a> <a id="2980" class="Symbol">{</a><a id="2981" href="Data.Container.Indexed.html#2981" class="Bound">c₁</a> <a id="2984" href="Data.Container.Indexed.html#2984" class="Bound">c₂</a> <a id="2987" href="Data.Container.Indexed.html#2987" class="Bound">r₁</a> <a id="2990" href="Data.Container.Indexed.html#2990" class="Bound">r₂</a><a id="2992" class="Symbol">}</a> <a id="2994" class="Symbol">→</a>
             <a id="3009" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3019" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="3022" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="3025" href="Data.Container.Indexed.html#2981" class="Bound">c₁</a> <a id="3028" href="Data.Container.Indexed.html#2987" class="Bound">r₁</a> <a id="3031" class="Symbol">→</a> <a id="3033" class="Symbol">(</a><a id="3034" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="3037" class="Symbol">→</a> <a id="3039" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a><a id="3041" class="Symbol">)</a> <a id="3043" class="Symbol">→</a> <a id="3045" class="Symbol">(</a><a id="3046" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="3049" class="Symbol">→</a> <a id="3051" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a><a id="3053" class="Symbol">)</a> <a id="3055" class="Symbol">→</a>
             <a id="3070" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3080" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a> <a id="3083" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a> <a id="3086" href="Data.Container.Indexed.html#2984" class="Bound">c₂</a> <a id="3089" href="Data.Container.Indexed.html#2990" class="Bound">r₂</a> <a id="3092" class="Symbol">→</a> <a id="3094" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3098" class="Symbol">_</a>
  <a id="3102" href="Data.Container.Indexed.html#3102" class="Bound">C₁</a> <a id="3105" href="Data.Container.Indexed.html#2967" class="Function Operator">⊸[</a> <a id="3108" href="Data.Container.Indexed.html#3108" class="Bound">f</a> <a id="3110" href="Data.Container.Indexed.html#2967" class="Function Operator">/</a> <a id="3112" href="Data.Container.Indexed.html#3112" class="Bound">g</a> <a id="3114" href="Data.Container.Indexed.html#2967" class="Function Operator">]</a> <a id="3116" href="Data.Container.Indexed.html#3116" class="Bound">C₂</a> <a id="3119" class="Symbol">=</a> <a id="3121" href="Data.Container.Indexed.html#2018" class="Record">ContainerMorphism</a> <a id="3139" href="Data.Container.Indexed.html#3102" class="Bound">C₁</a> <a id="3142" href="Data.Container.Indexed.html#3116" class="Bound">C₂</a> <a id="3145" href="Data.Container.Indexed.html#3108" class="Bound">f</a> <a id="3147" href="Data.Container.Indexed.html#3112" class="Bound">g</a> <a id="3149" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="3153" href="Function.Inverse.html#2466" class="Function Operator">_↔_</a>
                                       <a id="3196" class="Symbol">(λ</a> <a id="3199" href="Data.Container.Indexed.html#3199" class="Bound">r₂↔r₁</a> <a id="3205" href="Data.Container.Indexed.html#3205" class="Bound">r₂</a> <a id="3208" class="Symbol">→</a> <a id="3210" href="Function.Inverse.html#1532" class="Field">Inverse.to</a> <a id="3221" href="Data.Container.Indexed.html#3199" class="Bound">r₂↔r₁</a> <a id="3227" href="Function.Equality.html#1092" class="Field Operator">⟨$⟩</a> <a id="3231" href="Data.Container.Indexed.html#3205" class="Bound">r₂</a><a id="3233" class="Symbol">)</a>

  <a id="3238" class="Comment">-- Cartesian container morphism.</a>

  <a id="3274" href="Data.Container.Indexed.html#3274" class="Function Operator">_⇒C[_/_]_</a> <a id="3284" class="Symbol">:</a> <a id="3286" class="Symbol">∀</a> <a id="3288" class="Symbol">{</a><a id="3289" href="Data.Container.Indexed.html#3289" class="Bound">c₁</a> <a id="3292" href="Data.Container.Indexed.html#3292" class="Bound">c₂</a> <a id="3295" href="Data.Container.Indexed.html#3295" class="Bound">r</a><a id="3296" class="Symbol">}</a> <a id="3298" class="Symbol">→</a>
              <a id="3314" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3324" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="3327" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="3330" href="Data.Container.Indexed.html#3289" class="Bound">c₁</a> <a id="3333" href="Data.Container.Indexed.html#3295" class="Bound">r</a> <a id="3335" class="Symbol">→</a> <a id="3337" class="Symbol">(</a><a id="3338" href="Data.Container.Indexed.html#1913" class="Bound">I₁</a> <a id="3341" class="Symbol">→</a> <a id="3343" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a><a id="3345" class="Symbol">)</a> <a id="3347" class="Symbol">→</a> <a id="3349" class="Symbol">(</a><a id="3350" href="Data.Container.Indexed.html#1941" class="Bound">O₁</a> <a id="3353" class="Symbol">→</a> <a id="3355" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a><a id="3357" class="Symbol">)</a> <a id="3359" class="Symbol">→</a>
              <a id="3375" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3385" href="Data.Container.Indexed.html#1927" class="Bound">I₂</a> <a id="3388" href="Data.Container.Indexed.html#1955" class="Bound">O₂</a> <a id="3391" href="Data.Container.Indexed.html#3292" class="Bound">c₂</a> <a id="3394" href="Data.Container.Indexed.html#3295" class="Bound">r</a> <a id="3396" class="Symbol">→</a> <a id="3398" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3402" class="Symbol">_</a>
  <a id="3406" href="Data.Container.Indexed.html#3406" class="Bound">C₁</a> <a id="3409" href="Data.Container.Indexed.html#3274" class="Function Operator">⇒C[</a> <a id="3413" href="Data.Container.Indexed.html#3413" class="Bound">f</a> <a id="3415" href="Data.Container.Indexed.html#3274" class="Function Operator">/</a> <a id="3417" href="Data.Container.Indexed.html#3417" class="Bound">g</a> <a id="3419" href="Data.Container.Indexed.html#3274" class="Function Operator">]</a> <a id="3421" href="Data.Container.Indexed.html#3421" class="Bound">C₂</a> <a id="3424" class="Symbol">=</a> <a id="3426" href="Data.Container.Indexed.html#2018" class="Record">ContainerMorphism</a> <a id="3444" href="Data.Container.Indexed.html#3406" class="Bound">C₁</a> <a id="3447" href="Data.Container.Indexed.html#3421" class="Bound">C₂</a> <a id="3450" href="Data.Container.Indexed.html#3413" class="Bound">f</a> <a id="3452" href="Data.Container.Indexed.html#3417" class="Bound">g</a> <a id="3454" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="3458" class="Symbol">(λ</a> <a id="3461" href="Data.Container.Indexed.html#3461" class="Bound">R₂</a> <a id="3464" href="Data.Container.Indexed.html#3464" class="Bound">R₁</a> <a id="3467" class="Symbol">→</a> <a id="3469" href="Data.Container.Indexed.html#3461" class="Bound">R₂</a> <a id="3472" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3474" href="Data.Container.Indexed.html#3464" class="Bound">R₁</a><a id="3476" class="Symbol">)</a>
                                        <a id="3518" class="Symbol">(λ</a> <a id="3521" href="Data.Container.Indexed.html#3521" class="Bound">r₂≡r₁</a> <a id="3527" href="Data.Container.Indexed.html#3527" class="Bound">r₂</a> <a id="3530" class="Symbol">→</a> <a id="3532" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">P.subst</a> <a id="3540" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3545" href="Data.Container.Indexed.html#3521" class="Bound">r₂≡r₁</a> <a id="3551" href="Data.Container.Indexed.html#3527" class="Bound">r₂</a><a id="3553" class="Symbol">)</a>

<a id="3556" class="Comment">-- Degenerate cases where no reindexing is performed.</a>

<a id="3611" class="Keyword">module</a> <a id="3618" href="Data.Container.Indexed.html#3618" class="Module">_</a> <a id="3620" class="Symbol">{</a><a id="3621" href="Data.Container.Indexed.html#3621" class="Bound">i</a> <a id="3623" href="Data.Container.Indexed.html#3623" class="Bound">o</a> <a id="3625" href="Data.Container.Indexed.html#3625" class="Bound">c</a> <a id="3627" href="Data.Container.Indexed.html#3627" class="Bound">r</a><a id="3628" class="Symbol">}</a> <a id="3630" class="Symbol">{</a><a id="3631" href="Data.Container.Indexed.html#3631" class="Bound">I</a> <a id="3633" class="Symbol">:</a> <a id="3635" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3639" href="Data.Container.Indexed.html#3621" class="Bound">i</a><a id="3640" class="Symbol">}</a> <a id="3642" class="Symbol">{</a><a id="3643" href="Data.Container.Indexed.html#3643" class="Bound">O</a> <a id="3645" class="Symbol">:</a> <a id="3647" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3651" href="Data.Container.Indexed.html#3623" class="Bound">o</a><a id="3652" class="Symbol">}</a> <a id="3654" class="Keyword">where</a>

  <a id="3663" class="Keyword">infixr</a> <a id="3670" class="Number">8</a> <a id="3672" href="Data.Container.Indexed.html#3688" class="Function Operator">_⇒_</a> <a id="3676" href="Data.Container.Indexed.html#3760" class="Function Operator">_⊸_</a> <a id="3680" href="Data.Container.Indexed.html#3832" class="Function Operator">_⇒C_</a>

  <a id="3688" href="Data.Container.Indexed.html#3688" class="Function Operator">_⇒_</a> <a id="3692" class="Symbol">:</a> <a id="3694" href="Relation.Binary.Core.html#896" class="Function">B.Rel</a> <a id="3700" class="Symbol">(</a><a id="3701" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3711" href="Data.Container.Indexed.html#3631" class="Bound">I</a> <a id="3713" href="Data.Container.Indexed.html#3643" class="Bound">O</a> <a id="3715" href="Data.Container.Indexed.html#3625" class="Bound">c</a> <a id="3717" href="Data.Container.Indexed.html#3627" class="Bound">r</a><a id="3718" class="Symbol">)</a> <a id="3720" class="Symbol">_</a>
  <a id="3724" href="Data.Container.Indexed.html#3724" class="Bound">C₁</a> <a id="3727" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="3729" href="Data.Container.Indexed.html#3729" class="Bound">C₂</a> <a id="3732" class="Symbol">=</a> <a id="3734" href="Data.Container.Indexed.html#3724" class="Bound">C₁</a> <a id="3737" href="Data.Container.Indexed.html#2721" class="Function Operator">⇒[</a> <a id="3740" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3745" href="Data.Container.Indexed.html#2721" class="Function Operator">/</a> <a id="3747" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3752" href="Data.Container.Indexed.html#2721" class="Function Operator">]</a> <a id="3754" href="Data.Container.Indexed.html#3729" class="Bound">C₂</a>

  <a id="3760" href="Data.Container.Indexed.html#3760" class="Function Operator">_⊸_</a> <a id="3764" class="Symbol">:</a> <a id="3766" href="Relation.Binary.Core.html#896" class="Function">B.Rel</a> <a id="3772" class="Symbol">(</a><a id="3773" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3783" href="Data.Container.Indexed.html#3631" class="Bound">I</a> <a id="3785" href="Data.Container.Indexed.html#3643" class="Bound">O</a> <a id="3787" href="Data.Container.Indexed.html#3625" class="Bound">c</a> <a id="3789" href="Data.Container.Indexed.html#3627" class="Bound">r</a><a id="3790" class="Symbol">)</a> <a id="3792" class="Symbol">_</a>
  <a id="3796" href="Data.Container.Indexed.html#3796" class="Bound">C₁</a> <a id="3799" href="Data.Container.Indexed.html#3760" class="Function Operator">⊸</a> <a id="3801" href="Data.Container.Indexed.html#3801" class="Bound">C₂</a> <a id="3804" class="Symbol">=</a> <a id="3806" href="Data.Container.Indexed.html#3796" class="Bound">C₁</a> <a id="3809" href="Data.Container.Indexed.html#2967" class="Function Operator">⊸[</a> <a id="3812" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3817" href="Data.Container.Indexed.html#2967" class="Function Operator">/</a> <a id="3819" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3824" href="Data.Container.Indexed.html#2967" class="Function Operator">]</a> <a id="3826" href="Data.Container.Indexed.html#3801" class="Bound">C₂</a>

  <a id="3832" href="Data.Container.Indexed.html#3832" class="Function Operator">_⇒C_</a> <a id="3837" class="Symbol">:</a> <a id="3839" href="Relation.Binary.Core.html#896" class="Function">B.Rel</a> <a id="3845" class="Symbol">(</a><a id="3846" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="3856" href="Data.Container.Indexed.html#3631" class="Bound">I</a> <a id="3858" href="Data.Container.Indexed.html#3643" class="Bound">O</a> <a id="3860" href="Data.Container.Indexed.html#3625" class="Bound">c</a> <a id="3862" href="Data.Container.Indexed.html#3627" class="Bound">r</a><a id="3863" class="Symbol">)</a> <a id="3865" class="Symbol">_</a>
  <a id="3869" href="Data.Container.Indexed.html#3869" class="Bound">C₁</a> <a id="3872" href="Data.Container.Indexed.html#3832" class="Function Operator">⇒C</a> <a id="3875" href="Data.Container.Indexed.html#3875" class="Bound">C₂</a> <a id="3878" class="Symbol">=</a> <a id="3880" href="Data.Container.Indexed.html#3869" class="Bound">C₁</a> <a id="3883" href="Data.Container.Indexed.html#3274" class="Function Operator">⇒C[</a> <a id="3887" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3892" href="Data.Container.Indexed.html#3274" class="Function Operator">/</a> <a id="3894" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="3899" href="Data.Container.Indexed.html#3274" class="Function Operator">]</a> <a id="3901" href="Data.Container.Indexed.html#3875" class="Bound">C₂</a>

<a id="3905" class="Comment">------------------------------------------------------------------------</a>
<a id="3978" class="Comment">-- Plain morphisms</a>

<a id="3998" class="Comment">-- Interpretation of _⇒_.</a>

<a id="⟪_⟫"></a><a id="4025" href="Data.Container.Indexed.html#4025" class="Function Operator">⟪_⟫</a> <a id="4029" class="Symbol">:</a> <a id="4031" class="Symbol">∀</a> <a id="4033" class="Symbol">{</a><a id="4034" href="Data.Container.Indexed.html#4034" class="Bound">i</a> <a id="4036" href="Data.Container.Indexed.html#4036" class="Bound">o</a> <a id="4038" href="Data.Container.Indexed.html#4038" class="Bound">c</a> <a id="4040" href="Data.Container.Indexed.html#4040" class="Bound">r</a> <a id="4042" href="Data.Container.Indexed.html#4042" class="Bound">ℓ</a><a id="4043" class="Symbol">}</a> <a id="4045" class="Symbol">{</a><a id="4046" href="Data.Container.Indexed.html#4046" class="Bound">I</a> <a id="4048" class="Symbol">:</a> <a id="4050" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4054" href="Data.Container.Indexed.html#4034" class="Bound">i</a><a id="4055" class="Symbol">}</a> <a id="4057" class="Symbol">{</a><a id="4058" href="Data.Container.Indexed.html#4058" class="Bound">O</a> <a id="4060" class="Symbol">:</a> <a id="4062" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4066" href="Data.Container.Indexed.html#4036" class="Bound">o</a><a id="4067" class="Symbol">}</a> <a id="4069" class="Symbol">{</a><a id="4070" href="Data.Container.Indexed.html#4070" class="Bound">C₁</a> <a id="4073" href="Data.Container.Indexed.html#4073" class="Bound">C₂</a> <a id="4076" class="Symbol">:</a> <a id="4078" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="4088" href="Data.Container.Indexed.html#4046" class="Bound">I</a> <a id="4090" href="Data.Container.Indexed.html#4058" class="Bound">O</a> <a id="4092" href="Data.Container.Indexed.html#4038" class="Bound">c</a> <a id="4094" href="Data.Container.Indexed.html#4040" class="Bound">r</a><a id="4095" class="Symbol">}</a> <a id="4097" class="Symbol">→</a>
      <a id="4105" href="Data.Container.Indexed.html#4070" class="Bound">C₁</a> <a id="4108" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="4110" href="Data.Container.Indexed.html#4073" class="Bound">C₂</a> <a id="4113" class="Symbol">→</a> <a id="4115" class="Symbol">(</a><a id="4116" href="Data.Container.Indexed.html#4116" class="Bound">X</a> <a id="4118" class="Symbol">:</a> <a id="4120" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4125" href="Data.Container.Indexed.html#4046" class="Bound">I</a> <a id="4127" href="Data.Container.Indexed.html#4042" class="Bound">ℓ</a><a id="4128" class="Symbol">)</a> <a id="4130" class="Symbol">→</a> <a id="4132" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="4134" href="Data.Container.Indexed.html#4070" class="Bound">C₁</a> <a id="4137" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="4139" href="Data.Container.Indexed.html#4116" class="Bound">X</a> <a id="4141" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="4143" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="4145" href="Data.Container.Indexed.html#4073" class="Bound">C₂</a> <a id="4148" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="4150" href="Data.Container.Indexed.html#4116" class="Bound">X</a>
<a id="4152" href="Data.Container.Indexed.html#4025" class="Function Operator">⟪</a> <a id="4154" href="Data.Container.Indexed.html#4154" class="Bound">m</a> <a id="4156" href="Data.Container.Indexed.html#4025" class="Function Operator">⟫</a> <a id="4158" href="Data.Container.Indexed.html#4158" class="Bound">X</a> <a id="4160" class="Symbol">(</a><a id="4161" href="Data.Container.Indexed.html#4161" class="Bound">c</a> <a id="4163" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4165" href="Data.Container.Indexed.html#4165" class="Bound">k</a><a id="4166" class="Symbol">)</a> <a id="4168" class="Symbol">=</a> <a id="4170" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="4178" href="Data.Container.Indexed.html#4154" class="Bound">m</a> <a id="4180" href="Data.Container.Indexed.html#4161" class="Bound">c</a> <a id="4182" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4184" class="Symbol">λ</a> <a id="4186" href="Data.Container.Indexed.html#4186" class="Bound">r₂</a> <a id="4189" class="Symbol">→</a>
  <a id="4193" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">P.subst</a> <a id="4201" href="Data.Container.Indexed.html#4158" class="Bound">X</a> <a id="4203" class="Symbol">(</a><a id="4204" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="4213" href="Data.Container.Indexed.html#4154" class="Bound">m</a><a id="4214" class="Symbol">)</a> <a id="4216" class="Symbol">(</a><a id="4217" href="Data.Container.Indexed.html#4165" class="Bound">k</a> <a id="4219" class="Symbol">(</a><a id="4220" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="4229" href="Data.Container.Indexed.html#4154" class="Bound">m</a> <a id="4231" href="Data.Container.Indexed.html#4186" class="Bound">r₂</a><a id="4233" class="Symbol">))</a>

<a id="4237" class="Keyword">module</a> <a id="PlainMorphism"></a><a id="4244" href="Data.Container.Indexed.html#4244" class="Module">PlainMorphism</a> <a id="4258" class="Symbol">{</a><a id="4259" href="Data.Container.Indexed.html#4259" class="Bound">i</a> <a id="4261" href="Data.Container.Indexed.html#4261" class="Bound">o</a> <a id="4263" href="Data.Container.Indexed.html#4263" class="Bound">c</a> <a id="4265" href="Data.Container.Indexed.html#4265" class="Bound">r</a><a id="4266" class="Symbol">}</a> <a id="4268" class="Symbol">{</a><a id="4269" href="Data.Container.Indexed.html#4269" class="Bound">I</a> <a id="4271" class="Symbol">:</a> <a id="4273" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4277" href="Data.Container.Indexed.html#4259" class="Bound">i</a><a id="4278" class="Symbol">}</a> <a id="4280" class="Symbol">{</a><a id="4281" href="Data.Container.Indexed.html#4281" class="Bound">O</a> <a id="4283" class="Symbol">:</a> <a id="4285" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4289" href="Data.Container.Indexed.html#4261" class="Bound">o</a><a id="4290" class="Symbol">}</a> <a id="4292" class="Keyword">where</a>

  <a id="4301" class="Comment">-- Identity.</a>

  <a id="PlainMorphism.id"></a><a id="4317" href="Data.Container.Indexed.html#4317" class="Function">id</a> <a id="4320" class="Symbol">:</a> <a id="4322" class="Symbol">(</a><a id="4323" href="Data.Container.Indexed.html#4323" class="Bound">C</a> <a id="4325" class="Symbol">:</a> <a id="4327" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="4337" href="Data.Container.Indexed.html#4269" class="Bound">I</a> <a id="4339" href="Data.Container.Indexed.html#4281" class="Bound">O</a> <a id="4341" href="Data.Container.Indexed.html#4263" class="Bound">c</a> <a id="4343" href="Data.Container.Indexed.html#4265" class="Bound">r</a><a id="4344" class="Symbol">)</a> <a id="4346" class="Symbol">→</a> <a id="4348" href="Data.Container.Indexed.html#4323" class="Bound">C</a> <a id="4350" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="4352" href="Data.Container.Indexed.html#4323" class="Bound">C</a>
  <a id="4356" href="Data.Container.Indexed.html#4317" class="Function">id</a> <a id="4359" class="Symbol">_</a> <a id="4361" class="Symbol">=</a> <a id="4363" class="Keyword">record</a>
    <a id="4374" class="Symbol">{</a> <a id="4376" href="Data.Container.Indexed.html#2352" class="Field">command</a>  <a id="4385" class="Symbol">=</a> <a id="4387" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a>
    <a id="4396" class="Symbol">;</a> <a id="4398" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="4407" class="Symbol">=</a> <a id="4409" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a>
    <a id="4418" class="Symbol">;</a> <a id="4420" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="4429" class="Symbol">=</a> <a id="4431" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="4440" class="Symbol">}</a>

  <a id="4445" class="Comment">-- Composition.</a>

  <a id="4464" class="Keyword">infixr</a> <a id="4471" class="Number">9</a> <a id="4473" href="Data.Container.Indexed.html#4480" class="Function Operator">_∘_</a>

  <a id="PlainMorphism._∘_"></a><a id="4480" href="Data.Container.Indexed.html#4480" class="Function Operator">_∘_</a> <a id="4484" class="Symbol">:</a> <a id="4486" class="Symbol">{</a><a id="4487" href="Data.Container.Indexed.html#4487" class="Bound">C₁</a> <a id="4490" href="Data.Container.Indexed.html#4490" class="Bound">C₂</a> <a id="4493" href="Data.Container.Indexed.html#4493" class="Bound">C₃</a> <a id="4496" class="Symbol">:</a> <a id="4498" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="4508" href="Data.Container.Indexed.html#4269" class="Bound">I</a> <a id="4510" href="Data.Container.Indexed.html#4281" class="Bound">O</a> <a id="4512" href="Data.Container.Indexed.html#4263" class="Bound">c</a> <a id="4514" href="Data.Container.Indexed.html#4265" class="Bound">r</a><a id="4515" class="Symbol">}</a> <a id="4517" class="Symbol">→</a>
        <a id="4527" href="Data.Container.Indexed.html#4490" class="Bound">C₂</a> <a id="4530" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="4532" href="Data.Container.Indexed.html#4493" class="Bound">C₃</a> <a id="4535" class="Symbol">→</a> <a id="4537" href="Data.Container.Indexed.html#4487" class="Bound">C₁</a> <a id="4540" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="4542" href="Data.Container.Indexed.html#4490" class="Bound">C₂</a> <a id="4545" class="Symbol">→</a> <a id="4547" href="Data.Container.Indexed.html#4487" class="Bound">C₁</a> <a id="4550" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="4552" href="Data.Container.Indexed.html#4493" class="Bound">C₃</a>
  <a id="4557" href="Data.Container.Indexed.html#4557" class="Bound">f</a> <a id="4559" href="Data.Container.Indexed.html#4480" class="Function Operator">∘</a> <a id="4561" href="Data.Container.Indexed.html#4561" class="Bound">g</a> <a id="4563" class="Symbol">=</a> <a id="4565" class="Keyword">record</a>
    <a id="4576" class="Symbol">{</a> <a id="4578" href="Data.Container.Indexed.html#2352" class="Field">command</a>  <a id="4587" class="Symbol">=</a> <a id="4589" href="Data.Container.Indexed.html#2352" class="Field">command</a>  <a id="4598" href="Data.Container.Indexed.html#4557" class="Bound">f</a> <a id="4600" href="Data.Container.Indexed.html#631" class="Function Operator">⟨∘⟩</a> <a id="4604" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="4612" href="Data.Container.Indexed.html#4561" class="Bound">g</a>
    <a id="4618" class="Symbol">;</a> <a id="4620" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="4629" class="Symbol">=</a> <a id="4631" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="4640" href="Data.Container.Indexed.html#4561" class="Bound">g</a> <a id="4642" href="Data.Container.Indexed.html#631" class="Function Operator">⟨∘⟩</a> <a id="4646" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="4655" href="Data.Container.Indexed.html#4557" class="Bound">f</a>
    <a id="4661" class="Symbol">;</a> <a id="4663" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="4672" class="Symbol">=</a> <a id="4674" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="4683" href="Data.Container.Indexed.html#4561" class="Bound">g</a> <a id="4685" href="Function.Base.html#4339" class="Function Operator">⟨</a> <a id="4687" href="Relation.Binary.PropositionalEquality.Core.html#1757" class="Function">P.trans</a> <a id="4695" href="Function.Base.html#4339" class="Function Operator">⟩</a> <a id="4697" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="4706" href="Data.Container.Indexed.html#4557" class="Bound">f</a>
    <a id="4712" class="Symbol">}</a>

  <a id="4717" class="Comment">-- Identity commutes with ⟪_⟫.</a>

  <a id="PlainMorphism.id-correct"></a><a id="4751" href="Data.Container.Indexed.html#4751" class="Function">id-correct</a> <a id="4762" class="Symbol">:</a> <a id="4764" class="Symbol">∀</a> <a id="4766" class="Symbol">{</a><a id="4767" href="Data.Container.Indexed.html#4767" class="Bound">ℓ</a><a id="4768" class="Symbol">}</a> <a id="4770" class="Symbol">{</a><a id="4771" href="Data.Container.Indexed.html#4771" class="Bound">C</a> <a id="4773" class="Symbol">:</a> <a id="4775" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="4785" href="Data.Container.Indexed.html#4269" class="Bound">I</a> <a id="4787" href="Data.Container.Indexed.html#4281" class="Bound">O</a> <a id="4789" href="Data.Container.Indexed.html#4263" class="Bound">c</a> <a id="4791" href="Data.Container.Indexed.html#4265" class="Bound">r</a><a id="4792" class="Symbol">}</a> <a id="4794" class="Symbol">→</a> <a id="4796" class="Symbol">∀</a> <a id="4798" class="Symbol">{</a><a id="4799" href="Data.Container.Indexed.html#4799" class="Bound">X</a> <a id="4801" class="Symbol">:</a> <a id="4803" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="4808" href="Data.Container.Indexed.html#4269" class="Bound">I</a> <a id="4810" href="Data.Container.Indexed.html#4767" class="Bound">ℓ</a><a id="4811" class="Symbol">}</a> <a id="4813" class="Symbol">{</a><a id="4814" href="Data.Container.Indexed.html#4814" class="Bound">o</a><a id="4815" class="Symbol">}</a> <a id="4817" class="Symbol">→</a>
               <a id="4834" href="Data.Container.Indexed.html#4025" class="Function Operator">⟪</a> <a id="4836" href="Data.Container.Indexed.html#4317" class="Function">id</a> <a id="4839" href="Data.Container.Indexed.html#4771" class="Bound">C</a> <a id="4841" href="Data.Container.Indexed.html#4025" class="Function Operator">⟫</a> <a id="4843" href="Data.Container.Indexed.html#4799" class="Bound">X</a> <a id="4845" class="Symbol">{</a><a id="4846" href="Data.Container.Indexed.html#4814" class="Bound">o</a><a id="4847" class="Symbol">}</a> <a id="4849" href="Relation.Binary.PropositionalEquality.html#1471" class="Function Operator">≗</a> <a id="4851" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a>
  <a id="4858" href="Data.Container.Indexed.html#4751" class="Function">id-correct</a> <a id="4869" class="Symbol">_</a> <a id="4871" class="Symbol">=</a> <a id="4873" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="4881" class="Comment">-- More properties are proved in Data.Container.Indexed.WithK.</a>

<a id="4945" class="Comment">------------------------------------------------------------------------</a>
<a id="5018" class="Comment">-- Linear container morphisms</a>

<a id="5049" class="Keyword">module</a> <a id="LinearMorphism"></a><a id="5056" href="Data.Container.Indexed.html#5056" class="Module">LinearMorphism</a>
  <a id="5073" class="Symbol">{</a><a id="5074" href="Data.Container.Indexed.html#5074" class="Bound">i</a> <a id="5076" href="Data.Container.Indexed.html#5076" class="Bound">o</a> <a id="5078" href="Data.Container.Indexed.html#5078" class="Bound">c</a> <a id="5080" href="Data.Container.Indexed.html#5080" class="Bound">r</a><a id="5081" class="Symbol">}</a> <a id="5083" class="Symbol">{</a><a id="5084" href="Data.Container.Indexed.html#5084" class="Bound">I</a> <a id="5086" class="Symbol">:</a> <a id="5088" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5092" href="Data.Container.Indexed.html#5074" class="Bound">i</a><a id="5093" class="Symbol">}</a> <a id="5095" class="Symbol">{</a><a id="5096" href="Data.Container.Indexed.html#5096" class="Bound">O</a> <a id="5098" class="Symbol">:</a> <a id="5100" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5104" href="Data.Container.Indexed.html#5076" class="Bound">o</a><a id="5105" class="Symbol">}</a> <a id="5107" class="Symbol">{</a><a id="5108" href="Data.Container.Indexed.html#5108" class="Bound">C₁</a> <a id="5111" href="Data.Container.Indexed.html#5111" class="Bound">C₂</a> <a id="5114" class="Symbol">:</a> <a id="5116" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="5126" href="Data.Container.Indexed.html#5084" class="Bound">I</a> <a id="5128" href="Data.Container.Indexed.html#5096" class="Bound">O</a> <a id="5130" href="Data.Container.Indexed.html#5078" class="Bound">c</a> <a id="5132" href="Data.Container.Indexed.html#5080" class="Bound">r</a><a id="5133" class="Symbol">}</a>
  <a id="5137" class="Symbol">(</a><a id="5138" href="Data.Container.Indexed.html#5138" class="Bound">m</a> <a id="5140" class="Symbol">:</a> <a id="5142" href="Data.Container.Indexed.html#5108" class="Bound">C₁</a> <a id="5145" href="Data.Container.Indexed.html#3760" class="Function Operator">⊸</a> <a id="5147" href="Data.Container.Indexed.html#5111" class="Bound">C₂</a><a id="5149" class="Symbol">)</a>
  <a id="5153" class="Keyword">where</a>

  <a id="LinearMorphism.morphism"></a><a id="5162" href="Data.Container.Indexed.html#5162" class="Function">morphism</a> <a id="5171" class="Symbol">:</a> <a id="5173" href="Data.Container.Indexed.html#5108" class="Bound">C₁</a> <a id="5176" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="5178" href="Data.Container.Indexed.html#5111" class="Bound">C₂</a>
  <a id="5183" href="Data.Container.Indexed.html#5162" class="Function">morphism</a> <a id="5192" class="Symbol">=</a> <a id="5194" class="Keyword">record</a>
    <a id="5205" class="Symbol">{</a> <a id="5207" href="Data.Container.Indexed.html#2352" class="Field">command</a>  <a id="5216" class="Symbol">=</a> <a id="5218" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="5226" href="Data.Container.Indexed.html#5138" class="Bound">m</a>
    <a id="5232" class="Symbol">;</a> <a id="5234" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="5243" class="Symbol">=</a> <a id="5245" href="Function.Equality.html#1092" class="Field Operator">_⟨$⟩_</a> <a id="5251" class="Symbol">(</a><a id="5252" href="Function.Inverse.html#1532" class="Field">Inverse.to</a> <a id="5263" class="Symbol">(</a><a id="5264" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="5273" href="Data.Container.Indexed.html#5138" class="Bound">m</a><a id="5274" class="Symbol">))</a>
    <a id="5281" class="Symbol">;</a> <a id="5283" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="5292" class="Symbol">=</a> <a id="5294" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="5303" href="Data.Container.Indexed.html#5138" class="Bound">m</a>
    <a id="5309" class="Symbol">}</a>

  <a id="LinearMorphism.⟪_⟫⊸"></a><a id="5314" href="Data.Container.Indexed.html#5314" class="Function Operator">⟪_⟫⊸</a> <a id="5319" class="Symbol">:</a> <a id="5321" class="Symbol">∀</a> <a id="5323" class="Symbol">{</a><a id="5324" href="Data.Container.Indexed.html#5324" class="Bound">ℓ</a><a id="5325" class="Symbol">}</a> <a id="5327" class="Symbol">(</a><a id="5328" href="Data.Container.Indexed.html#5328" class="Bound">X</a> <a id="5330" class="Symbol">:</a> <a id="5332" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="5337" href="Data.Container.Indexed.html#5084" class="Bound">I</a> <a id="5339" href="Data.Container.Indexed.html#5324" class="Bound">ℓ</a><a id="5340" class="Symbol">)</a> <a id="5342" class="Symbol">→</a> <a id="5344" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="5346" href="Data.Container.Indexed.html#5108" class="Bound">C₁</a> <a id="5349" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="5351" href="Data.Container.Indexed.html#5328" class="Bound">X</a> <a id="5353" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="5355" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="5357" href="Data.Container.Indexed.html#5111" class="Bound">C₂</a> <a id="5360" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="5362" href="Data.Container.Indexed.html#5328" class="Bound">X</a>
  <a id="5366" href="Data.Container.Indexed.html#5314" class="Function Operator">⟪_⟫⊸</a> <a id="5371" class="Symbol">=</a> <a id="5373" href="Data.Container.Indexed.html#4025" class="Function Operator">⟪</a> <a id="5375" href="Data.Container.Indexed.html#5162" class="Function">morphism</a> <a id="5384" href="Data.Container.Indexed.html#4025" class="Function Operator">⟫</a>

<a id="5387" class="Keyword">open</a> <a id="5392" href="Data.Container.Indexed.html#5056" class="Module">LinearMorphism</a> <a id="5407" class="Keyword">public</a> <a id="5414" class="Keyword">using</a> <a id="5420" class="Symbol">(</a><a id="5421" href="Data.Container.Indexed.html#5314" class="Function Operator">⟪_⟫⊸</a><a id="5425" class="Symbol">)</a>

<a id="5428" class="Comment">------------------------------------------------------------------------</a>
<a id="5501" class="Comment">-- Cartesian morphisms</a>

<a id="5525" class="Keyword">module</a> <a id="CartesianMorphism"></a><a id="5532" href="Data.Container.Indexed.html#5532" class="Module">CartesianMorphism</a>
  <a id="5552" class="Symbol">{</a><a id="5553" href="Data.Container.Indexed.html#5553" class="Bound">i</a> <a id="5555" href="Data.Container.Indexed.html#5555" class="Bound">o</a> <a id="5557" href="Data.Container.Indexed.html#5557" class="Bound">c</a> <a id="5559" href="Data.Container.Indexed.html#5559" class="Bound">r</a><a id="5560" class="Symbol">}</a> <a id="5562" class="Symbol">{</a><a id="5563" href="Data.Container.Indexed.html#5563" class="Bound">I</a> <a id="5565" class="Symbol">:</a> <a id="5567" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5571" href="Data.Container.Indexed.html#5553" class="Bound">i</a><a id="5572" class="Symbol">}</a> <a id="5574" class="Symbol">{</a><a id="5575" href="Data.Container.Indexed.html#5575" class="Bound">O</a> <a id="5577" class="Symbol">:</a> <a id="5579" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5583" href="Data.Container.Indexed.html#5555" class="Bound">o</a><a id="5584" class="Symbol">}</a> <a id="5586" class="Symbol">{</a><a id="5587" href="Data.Container.Indexed.html#5587" class="Bound">C₁</a> <a id="5590" href="Data.Container.Indexed.html#5590" class="Bound">C₂</a> <a id="5593" class="Symbol">:</a> <a id="5595" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="5605" href="Data.Container.Indexed.html#5563" class="Bound">I</a> <a id="5607" href="Data.Container.Indexed.html#5575" class="Bound">O</a> <a id="5609" href="Data.Container.Indexed.html#5557" class="Bound">c</a> <a id="5611" href="Data.Container.Indexed.html#5559" class="Bound">r</a><a id="5612" class="Symbol">}</a>
  <a id="5616" class="Symbol">(</a><a id="5617" href="Data.Container.Indexed.html#5617" class="Bound">m</a> <a id="5619" class="Symbol">:</a> <a id="5621" href="Data.Container.Indexed.html#5587" class="Bound">C₁</a> <a id="5624" href="Data.Container.Indexed.html#3832" class="Function Operator">⇒C</a> <a id="5627" href="Data.Container.Indexed.html#5590" class="Bound">C₂</a><a id="5629" class="Symbol">)</a>
  <a id="5633" class="Keyword">where</a>

  <a id="CartesianMorphism.morphism"></a><a id="5642" href="Data.Container.Indexed.html#5642" class="Function">morphism</a> <a id="5651" class="Symbol">:</a> <a id="5653" href="Data.Container.Indexed.html#5587" class="Bound">C₁</a> <a id="5656" href="Data.Container.Indexed.html#3688" class="Function Operator">⇒</a> <a id="5658" href="Data.Container.Indexed.html#5590" class="Bound">C₂</a>
  <a id="5663" href="Data.Container.Indexed.html#5642" class="Function">morphism</a> <a id="5672" class="Symbol">=</a> <a id="5674" class="Keyword">record</a>
    <a id="5685" class="Symbol">{</a> <a id="5687" href="Data.Container.Indexed.html#2352" class="Field">command</a>  <a id="5696" class="Symbol">=</a> <a id="5698" href="Data.Container.Indexed.html#2352" class="Field">command</a> <a id="5706" href="Data.Container.Indexed.html#5617" class="Bound">m</a>
    <a id="5712" class="Symbol">;</a> <a id="5714" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="5723" class="Symbol">=</a> <a id="5725" href="Relation.Binary.PropositionalEquality.Core.html#1808" class="Function">P.subst</a> <a id="5733" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="5738" class="Symbol">(</a><a id="5739" href="Data.Container.Indexed.html#2400" class="Field">response</a> <a id="5748" href="Data.Container.Indexed.html#5617" class="Bound">m</a><a id="5749" class="Symbol">)</a>
    <a id="5755" class="Symbol">;</a> <a id="5757" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="5766" class="Symbol">=</a> <a id="5768" href="Data.Container.Indexed.html#2506" class="Field">coherent</a> <a id="5777" href="Data.Container.Indexed.html#5617" class="Bound">m</a>
    <a id="5783" class="Symbol">}</a>

  <a id="CartesianMorphism.⟪_⟫C"></a><a id="5788" href="Data.Container.Indexed.html#5788" class="Function Operator">⟪_⟫C</a> <a id="5793" class="Symbol">:</a> <a id="5795" class="Symbol">∀</a> <a id="5797" class="Symbol">{</a><a id="5798" href="Data.Container.Indexed.html#5798" class="Bound">ℓ</a><a id="5799" class="Symbol">}</a> <a id="5801" class="Symbol">(</a><a id="5802" href="Data.Container.Indexed.html#5802" class="Bound">X</a> <a id="5804" class="Symbol">:</a> <a id="5806" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="5811" href="Data.Container.Indexed.html#5563" class="Bound">I</a> <a id="5813" href="Data.Container.Indexed.html#5798" class="Bound">ℓ</a><a id="5814" class="Symbol">)</a> <a id="5816" class="Symbol">→</a> <a id="5818" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="5820" href="Data.Container.Indexed.html#5587" class="Bound">C₁</a> <a id="5823" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="5825" href="Data.Container.Indexed.html#5802" class="Bound">X</a> <a id="5827" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="5829" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟦</a> <a id="5831" href="Data.Container.Indexed.html#5590" class="Bound">C₂</a> <a id="5834" href="Data.Container.Indexed.Core.html#739" class="Function Operator">⟧</a> <a id="5836" href="Data.Container.Indexed.html#5802" class="Bound">X</a>
  <a id="5840" href="Data.Container.Indexed.html#5788" class="Function Operator">⟪_⟫C</a> <a id="5845" class="Symbol">=</a> <a id="5847" href="Data.Container.Indexed.html#4025" class="Function Operator">⟪</a> <a id="5849" href="Data.Container.Indexed.html#5642" class="Function">morphism</a> <a id="5858" href="Data.Container.Indexed.html#4025" class="Function Operator">⟫</a>

<a id="5861" class="Keyword">open</a> <a id="5866" href="Data.Container.Indexed.html#5532" class="Module">CartesianMorphism</a> <a id="5884" class="Keyword">public</a> <a id="5891" class="Keyword">using</a> <a id="5897" class="Symbol">(</a><a id="5898" href="Data.Container.Indexed.html#5788" class="Function Operator">⟪_⟫C</a><a id="5902" class="Symbol">)</a>

<a id="5905" class="Comment">------------------------------------------------------------------------</a>
<a id="5978" class="Comment">-- All and any</a>

<a id="5994" class="Comment">-- □ and ◇ are defined in the core module.</a>

<a id="6038" class="Keyword">module</a> <a id="6045" href="Data.Container.Indexed.html#6045" class="Module">_</a> <a id="6047" class="Symbol">{</a><a id="6048" href="Data.Container.Indexed.html#6048" class="Bound">i</a> <a id="6050" href="Data.Container.Indexed.html#6050" class="Bound">o</a> <a id="6052" href="Data.Container.Indexed.html#6052" class="Bound">c</a> <a id="6054" href="Data.Container.Indexed.html#6054" class="Bound">r</a> <a id="6056" href="Data.Container.Indexed.html#6056" class="Bound">ℓ₁</a> <a id="6059" href="Data.Container.Indexed.html#6059" class="Bound">ℓ₂</a><a id="6061" class="Symbol">}</a> <a id="6063" class="Symbol">{</a><a id="6064" href="Data.Container.Indexed.html#6064" class="Bound">I</a> <a id="6066" class="Symbol">:</a> <a id="6068" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="6072" href="Data.Container.Indexed.html#6048" class="Bound">i</a><a id="6073" class="Symbol">}</a> <a id="6075" class="Symbol">{</a><a id="6076" href="Data.Container.Indexed.html#6076" class="Bound">O</a> <a id="6078" class="Symbol">:</a> <a id="6080" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="6084" href="Data.Container.Indexed.html#6050" class="Bound">o</a><a id="6085" class="Symbol">}</a> <a id="6087" class="Symbol">(</a><a id="6088" href="Data.Container.Indexed.html#6088" class="Bound">C</a> <a id="6090" class="Symbol">:</a> <a id="6092" href="Data.Container.Indexed.Core.html#420" class="Record">Container</a> <a id="6102" href="Data.Container.Indexed.html#6064" class="Bound">I</a> <a id="6104" href="Data.Container.Indexed.html#6076" class="Bound">O</a> <a id="6106" href="Data.Container.Indexed.html#6052" class="Bound">c</a> <a id="6108" href="Data.Container.Indexed.html#6054" class="Bound">r</a><a id="6109" class="Symbol">)</a>
         <a id="6120" class="Symbol">{</a><a id="6121" href="Data.Container.Indexed.html#6121" class="Bound">X</a> <a id="6123" class="Symbol">:</a> <a id="6125" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="6130" href="Data.Container.Indexed.html#6064" class="Bound">I</a> <a id="6132" href="Data.Container.Indexed.html#6056" class="Bound">ℓ₁</a><a id="6134" class="Symbol">}</a> <a id="6136" class="Symbol">{</a><a id="6137" href="Data.Container.Indexed.html#6137" class="Bound">P</a> <a id="6139" href="Data.Container.Indexed.html#6139" class="Bound">Q</a> <a id="6141" class="Symbol">:</a> <a id="6143" href="Relation.Unary.html#1232" class="Function">Pred</a> <a id="6148" class="Symbol">(</a><a id="6149" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="6151" href="Data.Container.Indexed.html#6064" class="Bound">I</a> <a id="6153" href="Data.Container.Indexed.html#6121" class="Bound">X</a><a id="6154" class="Symbol">)</a> <a id="6156" href="Data.Container.Indexed.html#6059" class="Bound">ℓ₂</a><a id="6158" class="Symbol">}</a> <a id="6160" class="Keyword">where</a>

  <a id="6169" class="Comment">-- All.</a>

  <a id="6180" href="Data.Container.Indexed.html#6180" class="Function">□-map</a> <a id="6186" class="Symbol">:</a> <a id="6188" href="Data.Container.Indexed.html#6137" class="Bound">P</a> <a id="6190" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="6192" href="Data.Container.Indexed.html#6139" class="Bound">Q</a> <a id="6194" class="Symbol">→</a> <a id="6196" href="Data.Container.Indexed.Core.html#1091" class="Function">□</a> <a id="6198" href="Data.Container.Indexed.html#6088" class="Bound">C</a> <a id="6200" href="Data.Container.Indexed.html#6137" class="Bound">P</a> <a id="6202" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="6204" href="Data.Container.Indexed.Core.html#1091" class="Function">□</a> <a id="6206" href="Data.Container.Indexed.html#6088" class="Bound">C</a> <a id="6208" href="Data.Container.Indexed.html#6139" class="Bound">Q</a>
  <a id="6212" href="Data.Container.Indexed.html#6180" class="Function">□-map</a> <a id="6218" href="Data.Container.Indexed.html#6218" class="Bound">P⊆Q</a> <a id="6222" class="Symbol">=</a> <a id="6224" href="Data.Container.Indexed.html#631" class="Function Operator">_⟨∘⟩_</a> <a id="6230" href="Data.Container.Indexed.html#6218" class="Bound">P⊆Q</a>

  <a id="6237" class="Comment">-- Any.</a>

  <a id="6248" href="Data.Container.Indexed.html#6248" class="Function">◇-map</a> <a id="6254" class="Symbol">:</a> <a id="6256" href="Data.Container.Indexed.html#6137" class="Bound">P</a> <a id="6258" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="6260" href="Data.Container.Indexed.html#6139" class="Bound">Q</a> <a id="6262" class="Symbol">→</a> <a id="6264" href="Data.Container.Indexed.Core.html#1197" class="Function">◇</a> <a id="6266" href="Data.Container.Indexed.html#6088" class="Bound">C</a> <a id="6268" href="Data.Container.Indexed.html#6137" class="Bound">P</a> <a id="6270" href="Relation.Unary.html#1882" class="Function Operator">⊆</a> <a id="6272" href="Data.Container.Indexed.Core.html#1197" class="Function">◇</a> <a id="6274" href="Data.Container.Indexed.html#6088" class="Bound">C</a> <a id="6276" href="Data.Container.Indexed.html#6139" class="Bound">Q</a>
  <a id="6280" href="Data.Container.Indexed.html#6248" class="Function">◇-map</a> <a id="6286" href="Data.Container.Indexed.html#6286" class="Bound">P⊆Q</a> <a id="6290" class="Symbol">=</a> <a id="6292" href="Data.Product.Base.html#2173" class="Function">Prod.map</a> <a id="6301" href="Data.Container.Indexed.html#618" class="Function">⟨id⟩</a> <a id="6306" href="Data.Container.Indexed.html#6286" class="Bound">P⊆Q</a>

<a id="6311" class="Comment">-- Membership is defined in Data.Container.Indexed.WithK.</a>
</pre></body></html>