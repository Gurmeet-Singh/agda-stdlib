<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Container.Indexed</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Indexed containers aka interaction structures aka polynomial</a>
<a id="170" class="Comment">-- functors. The notation and presentation here is closest to that of</a>
<a id="240" class="Comment">-- Hancock and Hyvernat in &quot;Programming interfaces and basic topology&quot;</a>
<a id="311" class="Comment">-- (2006/9).</a>
<a id="324" class="Comment">------------------------------------------------------------------------</a>

<a id="398" class="Symbol">{-#</a> <a id="402" class="Keyword">OPTIONS</a> <a id="410" class="Pragma">--cubical-compatible</a> <a id="431" class="Pragma">--safe</a> <a id="438" class="Symbol">#-}</a>

<a id="443" class="Keyword">module</a> <a id="450" href="Data.Container.Indexed.html" class="Module">Data.Container.Indexed</a> <a id="473" class="Keyword">where</a>

<a id="480" class="Keyword">open</a> <a id="485" class="Keyword">import</a> <a id="492" href="Level.html" class="Module">Level</a>
<a id="498" class="Keyword">open</a> <a id="503" class="Keyword">import</a> <a id="510" href="Data.Product.html" class="Module">Data.Product</a> <a id="523" class="Symbol">as</a> <a id="526" class="Module">Prod</a> <a id="531" class="Keyword">hiding</a> <a id="538" class="Symbol">(</a><a id="539" href="Data.Product.Base.html#1673" class="Function">map</a><a id="542" class="Symbol">)</a>
<a id="544" class="Keyword">open</a> <a id="549" class="Keyword">import</a> <a id="556" href="Data.W.Indexed.html" class="Module">Data.W.Indexed</a>
<a id="571" class="Keyword">open</a> <a id="576" class="Keyword">import</a> <a id="583" href="Function.Base.html" class="Module">Function.Base</a> <a id="597" class="Keyword">renaming</a> <a id="606" class="Symbol">(</a><a id="607" href="Function.Base.html#704" class="Function">id</a> <a id="610" class="Symbol">to</a> <a id="613" class="Function">⟨id⟩</a><a id="617" class="Symbol">;</a> <a id="619" href="Function.Base.html#1115" class="Function Operator">_∘_</a> <a id="623" class="Symbol">to</a> <a id="626" class="Function Operator">_⟨∘⟩_</a><a id="631" class="Symbol">)</a>
<a id="633" class="Keyword">open</a> <a id="638" class="Keyword">import</a> <a id="645" href="Function.Equality.html" class="Module">Function.Equality</a> <a id="663" class="Keyword">using</a> <a id="669" class="Symbol">(</a><a id="670" href="Function.Equality.html#1073" class="Field Operator">_⟨$⟩_</a><a id="675" class="Symbol">)</a>
<a id="677" class="Keyword">open</a> <a id="682" class="Keyword">import</a> <a id="689" href="Function.Inverse.html" class="Module">Function.Inverse</a> <a id="706" class="Keyword">using</a> <a id="712" class="Symbol">(</a><a id="713" href="Function.Inverse.html#2466" class="Function Operator">_↔_</a><a id="716" class="Symbol">;</a> <a id="718" class="Keyword">module</a> <a id="725" href="Function.Inverse.html#1394" class="Module">Inverse</a><a id="732" class="Symbol">)</a>
<a id="734" class="Keyword">open</a> <a id="739" class="Keyword">import</a> <a id="746" href="Relation.Unary.html" class="Module">Relation.Unary</a> <a id="761" class="Keyword">using</a> <a id="767" class="Symbol">(</a><a id="768" href="Relation.Unary.html#1120" class="Function">Pred</a><a id="772" class="Symbol">;</a> <a id="774" href="Relation.Unary.html#1770" class="Function Operator">_⊆_</a><a id="777" class="Symbol">)</a>
<a id="779" class="Keyword">import</a> <a id="786" href="Relation.Binary.html" class="Module">Relation.Binary</a> <a id="802" class="Symbol">as</a> <a id="805" class="Module">B</a>
<a id="807" class="Keyword">open</a> <a id="812" class="Keyword">import</a> <a id="819" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="857" class="Symbol">as</a> <a id="860" class="Module">P</a> <a id="862" class="Keyword">using</a> <a id="868" class="Symbol">(</a><a id="869" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="872" class="Symbol">;</a> <a id="874" href="Relation.Binary.PropositionalEquality.html#1484" class="Function Operator">_≗_</a><a id="877" class="Symbol">;</a> <a id="879" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="883" class="Symbol">)</a>

<a id="886" class="Comment">------------------------------------------------------------------------</a>

<a id="960" class="Comment">-- The type and its semantics (&quot;extension&quot;).</a>

<a id="1006" class="Keyword">open</a> <a id="1011" class="Keyword">import</a> <a id="1018" href="Data.Container.Indexed.Core.html" class="Module">Data.Container.Indexed.Core</a> <a id="1046" class="Keyword">public</a>
<a id="1053" class="Keyword">open</a> <a id="1058" href="Data.Container.Indexed.Core.html#387" class="Module">Container</a> <a id="1068" class="Keyword">public</a>

<a id="1076" class="Comment">-- Abbreviation for the commonly used level one version of indexed</a>
<a id="1143" class="Comment">-- containers.</a>

<a id="1159" class="Keyword">infix</a> <a id="1165" class="Number">5</a> <a id="1167" href="Data.Container.Indexed.html#1172" class="Function Operator">_▷_</a>

<a id="_▷_"></a><a id="1172" href="Data.Container.Indexed.html#1172" class="Function Operator">_▷_</a> <a id="1176" class="Symbol">:</a> <a id="1178" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1182" class="Symbol">→</a> <a id="1184" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1188" class="Symbol">→</a> <a id="1190" href="Agda.Primitive.html#320" class="Primitive">Set₁</a>
<a id="1195" href="Data.Container.Indexed.html#1195" class="Bound">I</a> <a id="1197" href="Data.Container.Indexed.html#1172" class="Function Operator">▷</a> <a id="1199" href="Data.Container.Indexed.html#1199" class="Bound">O</a> <a id="1201" class="Symbol">=</a> <a id="1203" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="1213" href="Data.Container.Indexed.html#1195" class="Bound">I</a> <a id="1215" href="Data.Container.Indexed.html#1199" class="Bound">O</a> <a id="1217" href="Agda.Primitive.html#758" class="Primitive">zero</a> <a id="1222" href="Agda.Primitive.html#758" class="Primitive">zero</a>

<a id="1228" class="Comment">-- The least and greatest fixpoint.</a>

<a id="μ"></a><a id="1265" href="Data.Container.Indexed.html#1265" class="Function">μ</a> <a id="1267" class="Symbol">:</a> <a id="1269" class="Symbol">∀</a> <a id="1271" class="Symbol">{</a><a id="1272" href="Data.Container.Indexed.html#1272" class="Bound">o</a> <a id="1274" href="Data.Container.Indexed.html#1274" class="Bound">c</a> <a id="1276" href="Data.Container.Indexed.html#1276" class="Bound">r</a><a id="1277" class="Symbol">}</a> <a id="1279" class="Symbol">{</a><a id="1280" href="Data.Container.Indexed.html#1280" class="Bound">O</a> <a id="1282" class="Symbol">:</a> <a id="1284" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1288" href="Data.Container.Indexed.html#1272" class="Bound">o</a><a id="1289" class="Symbol">}</a> <a id="1291" class="Symbol">→</a> <a id="1293" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="1303" href="Data.Container.Indexed.html#1280" class="Bound">O</a> <a id="1305" href="Data.Container.Indexed.html#1280" class="Bound">O</a> <a id="1307" href="Data.Container.Indexed.html#1274" class="Bound">c</a> <a id="1309" href="Data.Container.Indexed.html#1276" class="Bound">r</a> <a id="1311" class="Symbol">→</a> <a id="1313" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="1318" href="Data.Container.Indexed.html#1280" class="Bound">O</a> <a id="1320" class="Symbol">_</a>
<a id="1322" href="Data.Container.Indexed.html#1265" class="Function">μ</a> <a id="1324" class="Symbol">=</a> <a id="1326" href="Data.W.Indexed.html#532" class="Datatype">W</a>

<a id="1329" class="Comment">-- An equivalence relation is defined in Data.Container.Indexed.WithK.</a>

<a id="1401" class="Comment">------------------------------------------------------------------------</a>
<a id="1474" class="Comment">-- Functoriality</a>

<a id="1492" class="Comment">-- Indexed containers are functors.</a>

<a id="map"></a><a id="1529" href="Data.Container.Indexed.html#1529" class="Function">map</a> <a id="1533" class="Symbol">:</a> <a id="1535" class="Symbol">∀</a> <a id="1537" class="Symbol">{</a><a id="1538" href="Data.Container.Indexed.html#1538" class="Bound">i</a> <a id="1540" href="Data.Container.Indexed.html#1540" class="Bound">o</a> <a id="1542" href="Data.Container.Indexed.html#1542" class="Bound">c</a> <a id="1544" href="Data.Container.Indexed.html#1544" class="Bound">r</a> <a id="1546" href="Data.Container.Indexed.html#1546" class="Bound">ℓ₁</a> <a id="1549" href="Data.Container.Indexed.html#1549" class="Bound">ℓ₂</a><a id="1551" class="Symbol">}</a> <a id="1553" class="Symbol">{</a><a id="1554" href="Data.Container.Indexed.html#1554" class="Bound">I</a> <a id="1556" class="Symbol">:</a> <a id="1558" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1562" href="Data.Container.Indexed.html#1538" class="Bound">i</a><a id="1563" class="Symbol">}</a> <a id="1565" class="Symbol">{</a><a id="1566" href="Data.Container.Indexed.html#1566" class="Bound">O</a> <a id="1568" class="Symbol">:</a> <a id="1570" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1574" href="Data.Container.Indexed.html#1540" class="Bound">o</a><a id="1575" class="Symbol">}</a>
      <a id="1583" class="Symbol">(</a><a id="1584" href="Data.Container.Indexed.html#1584" class="Bound">C</a> <a id="1586" class="Symbol">:</a> <a id="1588" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="1598" href="Data.Container.Indexed.html#1554" class="Bound">I</a> <a id="1600" href="Data.Container.Indexed.html#1566" class="Bound">O</a> <a id="1602" href="Data.Container.Indexed.html#1542" class="Bound">c</a> <a id="1604" href="Data.Container.Indexed.html#1544" class="Bound">r</a><a id="1605" class="Symbol">)</a> <a id="1607" class="Symbol">{</a><a id="1608" href="Data.Container.Indexed.html#1608" class="Bound">X</a> <a id="1610" class="Symbol">:</a> <a id="1612" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="1617" href="Data.Container.Indexed.html#1554" class="Bound">I</a> <a id="1619" href="Data.Container.Indexed.html#1546" class="Bound">ℓ₁</a><a id="1621" class="Symbol">}</a> <a id="1623" class="Symbol">{</a><a id="1624" href="Data.Container.Indexed.html#1624" class="Bound">Y</a> <a id="1626" class="Symbol">:</a> <a id="1628" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="1633" href="Data.Container.Indexed.html#1554" class="Bound">I</a> <a id="1635" href="Data.Container.Indexed.html#1549" class="Bound">ℓ₂</a><a id="1637" class="Symbol">}</a> <a id="1639" class="Symbol">→</a>
      <a id="1647" href="Data.Container.Indexed.html#1608" class="Bound">X</a> <a id="1649" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="1651" href="Data.Container.Indexed.html#1624" class="Bound">Y</a> <a id="1653" class="Symbol">→</a> <a id="1655" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="1657" href="Data.Container.Indexed.html#1584" class="Bound">C</a> <a id="1659" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="1661" href="Data.Container.Indexed.html#1608" class="Bound">X</a> <a id="1663" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="1665" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="1667" href="Data.Container.Indexed.html#1584" class="Bound">C</a> <a id="1669" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="1671" href="Data.Container.Indexed.html#1624" class="Bound">Y</a>
<a id="1673" href="Data.Container.Indexed.html#1529" class="Function">map</a> <a id="1677" class="Symbol">_</a> <a id="1679" href="Data.Container.Indexed.html#1679" class="Bound">f</a> <a id="1681" class="Symbol">=</a> <a id="1683" href="Data.Product.Base.html#1673" class="Function">Prod.map</a> <a id="1692" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="1697" class="Symbol">(λ</a> <a id="1700" href="Data.Container.Indexed.html#1700" class="Bound">g</a> <a id="1702" class="Symbol">→</a> <a id="1704" href="Data.Container.Indexed.html#1679" class="Bound">f</a> <a id="1706" href="Data.Container.Indexed.html#626" class="Function Operator">⟨∘⟩</a> <a id="1710" href="Data.Container.Indexed.html#1700" class="Bound">g</a><a id="1711" class="Symbol">)</a>

<a id="1714" class="Comment">-- Some properties are proved in Data.Container.Indexed.WithK.</a>

<a id="1778" class="Comment">------------------------------------------------------------------------</a>
<a id="1851" class="Comment">-- Container morphisms</a>

<a id="1875" class="Keyword">module</a> <a id="1882" href="Data.Container.Indexed.html#1882" class="Module">_</a> <a id="1884" class="Symbol">{</a><a id="1885" href="Data.Container.Indexed.html#1885" class="Bound">i₁</a> <a id="1888" href="Data.Container.Indexed.html#1888" class="Bound">i₂</a> <a id="1891" href="Data.Container.Indexed.html#1891" class="Bound">o₁</a> <a id="1894" href="Data.Container.Indexed.html#1894" class="Bound">o₂</a><a id="1896" class="Symbol">}</a>
         <a id="1907" class="Symbol">{</a><a id="1908" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="1911" class="Symbol">:</a> <a id="1913" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1917" href="Data.Container.Indexed.html#1885" class="Bound">i₁</a><a id="1919" class="Symbol">}</a> <a id="1921" class="Symbol">{</a><a id="1922" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a> <a id="1925" class="Symbol">:</a> <a id="1927" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1931" href="Data.Container.Indexed.html#1888" class="Bound">i₂</a><a id="1933" class="Symbol">}</a> <a id="1935" class="Symbol">{</a><a id="1936" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="1939" class="Symbol">:</a> <a id="1941" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1945" href="Data.Container.Indexed.html#1891" class="Bound">o₁</a><a id="1947" class="Symbol">}</a> <a id="1949" class="Symbol">{</a><a id="1950" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a> <a id="1953" class="Symbol">:</a> <a id="1955" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="1959" href="Data.Container.Indexed.html#1894" class="Bound">o₂</a><a id="1961" class="Symbol">}</a> <a id="1963" class="Keyword">where</a>

  <a id="1972" class="Comment">-- General container morphism.</a>

  <a id="2006" class="Keyword">record</a> <a id="2013" href="Data.Container.Indexed.html#2013" class="Record">ContainerMorphism</a> <a id="2031" class="Symbol">{</a><a id="2032" href="Data.Container.Indexed.html#2032" class="Bound">c₁</a> <a id="2035" href="Data.Container.Indexed.html#2035" class="Bound">c₂</a> <a id="2038" href="Data.Container.Indexed.html#2038" class="Bound">r₁</a> <a id="2041" href="Data.Container.Indexed.html#2041" class="Bound">r₂</a> <a id="2044" href="Data.Container.Indexed.html#2044" class="Bound">ℓ₁</a> <a id="2047" href="Data.Container.Indexed.html#2047" class="Bound">ℓ₂</a><a id="2049" class="Symbol">}</a>
         <a id="2060" class="Symbol">(</a><a id="2061" href="Data.Container.Indexed.html#2061" class="Bound">C₁</a> <a id="2064" class="Symbol">:</a> <a id="2066" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="2076" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="2079" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="2082" href="Data.Container.Indexed.html#2032" class="Bound">c₁</a> <a id="2085" href="Data.Container.Indexed.html#2038" class="Bound">r₁</a><a id="2087" class="Symbol">)</a> <a id="2089" class="Symbol">(</a><a id="2090" href="Data.Container.Indexed.html#2090" class="Bound">C₂</a> <a id="2093" class="Symbol">:</a> <a id="2095" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="2105" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a> <a id="2108" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a> <a id="2111" href="Data.Container.Indexed.html#2035" class="Bound">c₂</a> <a id="2114" href="Data.Container.Indexed.html#2041" class="Bound">r₂</a><a id="2116" class="Symbol">)</a>
         <a id="2127" class="Symbol">(</a><a id="2128" href="Data.Container.Indexed.html#2128" class="Bound">f</a> <a id="2130" class="Symbol">:</a> <a id="2132" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="2135" class="Symbol">→</a> <a id="2137" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a><a id="2139" class="Symbol">)</a> <a id="2141" class="Symbol">(</a><a id="2142" href="Data.Container.Indexed.html#2142" class="Bound">g</a> <a id="2144" class="Symbol">:</a> <a id="2146" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="2149" class="Symbol">→</a> <a id="2151" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a><a id="2153" class="Symbol">)</a>
         <a id="2164" class="Symbol">(</a><a id="2165" href="Data.Container.Indexed.html#2165" class="Bound Operator">_∼_</a> <a id="2169" class="Symbol">:</a> <a id="2171" href="Relation.Binary.Core.html#891" class="Function">B.Rel</a> <a id="2177" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a> <a id="2180" href="Data.Container.Indexed.html#2044" class="Bound">ℓ₁</a><a id="2182" class="Symbol">)</a> <a id="2184" class="Symbol">(</a><a id="2185" href="Data.Container.Indexed.html#2185" class="Bound Operator">_≈_</a> <a id="2189" class="Symbol">:</a> <a id="2191" href="Relation.Binary.Core.html#775" class="Function">B.REL</a> <a id="2197" class="Symbol">(</a><a id="2198" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2202" href="Data.Container.Indexed.html#2041" class="Bound">r₂</a><a id="2204" class="Symbol">)</a> <a id="2206" class="Symbol">(</a><a id="2207" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2211" href="Data.Container.Indexed.html#2038" class="Bound">r₁</a><a id="2213" class="Symbol">)</a> <a id="2215" href="Data.Container.Indexed.html#2047" class="Bound">ℓ₂</a><a id="2217" class="Symbol">)</a>
         <a id="2228" class="Symbol">(</a><a id="2229" href="Data.Container.Indexed.html#2229" class="Bound Operator">_·_</a> <a id="2233" class="Symbol">:</a> <a id="2235" class="Symbol">∀</a> <a id="2237" class="Symbol">{</a><a id="2238" href="Data.Container.Indexed.html#2238" class="Bound">A</a> <a id="2240" href="Data.Container.Indexed.html#2240" class="Bound">B</a><a id="2241" class="Symbol">}</a> <a id="2243" class="Symbol">→</a> <a id="2245" href="Data.Container.Indexed.html#2238" class="Bound">A</a> <a id="2247" href="Data.Container.Indexed.html#2185" class="Bound Operator">≈</a> <a id="2249" href="Data.Container.Indexed.html#2240" class="Bound">B</a> <a id="2251" class="Symbol">→</a> <a id="2253" href="Data.Container.Indexed.html#2238" class="Bound">A</a> <a id="2255" class="Symbol">→</a> <a id="2257" href="Data.Container.Indexed.html#2240" class="Bound">B</a><a id="2258" class="Symbol">)</a> <a id="2260" class="Symbol">:</a>
         <a id="2271" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2275" class="Symbol">(</a><a id="2276" href="Data.Container.Indexed.html#1885" class="Bound">i₁</a> <a id="2279" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2281" href="Data.Container.Indexed.html#1888" class="Bound">i₂</a> <a id="2284" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2286" href="Data.Container.Indexed.html#1891" class="Bound">o₁</a> <a id="2289" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2291" href="Data.Container.Indexed.html#1894" class="Bound">o₂</a> <a id="2294" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2296" href="Data.Container.Indexed.html#2032" class="Bound">c₁</a> <a id="2299" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2301" href="Data.Container.Indexed.html#2035" class="Bound">c₂</a> <a id="2304" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2306" href="Data.Container.Indexed.html#2038" class="Bound">r₁</a> <a id="2309" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2311" href="Data.Container.Indexed.html#2041" class="Bound">r₂</a> <a id="2314" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2316" href="Data.Container.Indexed.html#2044" class="Bound">ℓ₁</a> <a id="2319" href="Agda.Primitive.html#804" class="Primitive Operator">⊔</a> <a id="2321" href="Data.Container.Indexed.html#2047" class="Bound">ℓ₂</a><a id="2323" class="Symbol">)</a> <a id="2325" class="Keyword">where</a>
    <a id="2335" class="Keyword">field</a>
      <a id="2347" href="Data.Container.Indexed.html#2347" class="Field">command</a>   <a id="2357" class="Symbol">:</a> <a id="2359" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a> <a id="2367" href="Data.Container.Indexed.html#2061" class="Bound">C₁</a> <a id="2370" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="2372" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a> <a id="2380" href="Data.Container.Indexed.html#2090" class="Bound">C₂</a> <a id="2383" href="Data.Container.Indexed.html#626" class="Function Operator">⟨∘⟩</a> <a id="2387" href="Data.Container.Indexed.html#2142" class="Bound">g</a>
      <a id="2395" href="Data.Container.Indexed.html#2395" class="Field">response</a>  <a id="2405" class="Symbol">:</a> <a id="2407" class="Symbol">∀</a> <a id="2409" class="Symbol">{</a><a id="2410" href="Data.Container.Indexed.html#2410" class="Bound">o</a><a id="2411" class="Symbol">}</a> <a id="2413" class="Symbol">{</a><a id="2414" href="Data.Container.Indexed.html#2414" class="Bound">c₁</a> <a id="2417" class="Symbol">:</a> <a id="2419" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a> <a id="2427" href="Data.Container.Indexed.html#2061" class="Bound">C₁</a> <a id="2430" href="Data.Container.Indexed.html#2410" class="Bound">o</a><a id="2431" class="Symbol">}</a> <a id="2433" class="Symbol">→</a>
                  <a id="2453" href="Data.Container.Indexed.Core.html#557" class="Field">Response</a> <a id="2462" href="Data.Container.Indexed.html#2090" class="Bound">C₂</a> <a id="2465" class="Symbol">(</a><a id="2466" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="2474" href="Data.Container.Indexed.html#2414" class="Bound">c₁</a><a id="2476" class="Symbol">)</a> <a id="2478" href="Data.Container.Indexed.html#2185" class="Bound Operator">≈</a> <a id="2480" href="Data.Container.Indexed.Core.html#557" class="Field">Response</a> <a id="2489" href="Data.Container.Indexed.html#2061" class="Bound">C₁</a> <a id="2492" href="Data.Container.Indexed.html#2414" class="Bound">c₁</a>
      <a id="2501" href="Data.Container.Indexed.html#2501" class="Field">coherent</a>  <a id="2511" class="Symbol">:</a> <a id="2513" class="Symbol">∀</a> <a id="2515" class="Symbol">{</a><a id="2516" href="Data.Container.Indexed.html#2516" class="Bound">o</a><a id="2517" class="Symbol">}</a> <a id="2519" class="Symbol">{</a><a id="2520" href="Data.Container.Indexed.html#2520" class="Bound">c₁</a> <a id="2523" class="Symbol">:</a> <a id="2525" href="Data.Container.Indexed.Core.html#526" class="Field">Command</a> <a id="2533" href="Data.Container.Indexed.html#2061" class="Bound">C₁</a> <a id="2536" href="Data.Container.Indexed.html#2516" class="Bound">o</a><a id="2537" class="Symbol">}</a> <a id="2539" class="Symbol">{</a><a id="2540" href="Data.Container.Indexed.html#2540" class="Bound">r₂</a> <a id="2543" class="Symbol">:</a> <a id="2545" href="Data.Container.Indexed.Core.html#557" class="Field">Response</a> <a id="2554" href="Data.Container.Indexed.html#2090" class="Bound">C₂</a> <a id="2557" class="Symbol">(</a><a id="2558" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="2566" href="Data.Container.Indexed.html#2520" class="Bound">c₁</a><a id="2568" class="Symbol">)}</a> <a id="2571" class="Symbol">→</a>
                  <a id="2591" href="Data.Container.Indexed.html#2128" class="Bound">f</a> <a id="2593" class="Symbol">(</a><a id="2594" href="Data.Container.Indexed.Core.html#598" class="Field">next</a> <a id="2599" href="Data.Container.Indexed.html#2061" class="Bound">C₁</a> <a id="2602" href="Data.Container.Indexed.html#2520" class="Bound">c₁</a> <a id="2605" class="Symbol">(</a><a id="2606" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="2615" href="Data.Container.Indexed.html#2229" class="Bound Operator">·</a> <a id="2617" href="Data.Container.Indexed.html#2540" class="Bound">r₂</a><a id="2619" class="Symbol">))</a> <a id="2622" href="Data.Container.Indexed.html#2165" class="Bound Operator">∼</a> <a id="2624" href="Data.Container.Indexed.Core.html#598" class="Field">next</a> <a id="2629" href="Data.Container.Indexed.html#2090" class="Bound">C₂</a> <a id="2632" class="Symbol">(</a><a id="2633" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="2641" href="Data.Container.Indexed.html#2520" class="Bound">c₁</a><a id="2643" class="Symbol">)</a> <a id="2645" href="Data.Container.Indexed.html#2540" class="Bound">r₂</a>

  <a id="2651" class="Keyword">open</a> <a id="2656" href="Data.Container.Indexed.html#2013" class="Module">ContainerMorphism</a> <a id="2674" class="Keyword">public</a>

  <a id="2684" class="Comment">-- Plain container morphism.</a>

  <a id="2716" href="Data.Container.Indexed.html#2716" class="Function Operator">_⇒[_/_]_</a> <a id="2725" class="Symbol">:</a> <a id="2727" class="Symbol">∀</a> <a id="2729" class="Symbol">{</a><a id="2730" href="Data.Container.Indexed.html#2730" class="Bound">c₁</a> <a id="2733" href="Data.Container.Indexed.html#2733" class="Bound">c₂</a> <a id="2736" href="Data.Container.Indexed.html#2736" class="Bound">r₁</a> <a id="2739" href="Data.Container.Indexed.html#2739" class="Bound">r₂</a><a id="2741" class="Symbol">}</a> <a id="2743" class="Symbol">→</a>
             <a id="2758" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="2768" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="2771" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="2774" href="Data.Container.Indexed.html#2730" class="Bound">c₁</a> <a id="2777" href="Data.Container.Indexed.html#2736" class="Bound">r₁</a> <a id="2780" class="Symbol">→</a> <a id="2782" class="Symbol">(</a><a id="2783" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="2786" class="Symbol">→</a> <a id="2788" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a><a id="2790" class="Symbol">)</a> <a id="2792" class="Symbol">→</a> <a id="2794" class="Symbol">(</a><a id="2795" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="2798" class="Symbol">→</a> <a id="2800" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a><a id="2802" class="Symbol">)</a> <a id="2804" class="Symbol">→</a>
             <a id="2819" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="2829" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a> <a id="2832" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a> <a id="2835" href="Data.Container.Indexed.html#2733" class="Bound">c₂</a> <a id="2838" href="Data.Container.Indexed.html#2739" class="Bound">r₂</a> <a id="2841" class="Symbol">→</a> <a id="2843" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="2847" class="Symbol">_</a>
  <a id="2851" href="Data.Container.Indexed.html#2851" class="Bound">C₁</a> <a id="2854" href="Data.Container.Indexed.html#2716" class="Function Operator">⇒[</a> <a id="2857" href="Data.Container.Indexed.html#2857" class="Bound">f</a> <a id="2859" href="Data.Container.Indexed.html#2716" class="Function Operator">/</a> <a id="2861" href="Data.Container.Indexed.html#2861" class="Bound">g</a> <a id="2863" href="Data.Container.Indexed.html#2716" class="Function Operator">]</a> <a id="2865" href="Data.Container.Indexed.html#2865" class="Bound">C₂</a> <a id="2868" class="Symbol">=</a> <a id="2870" href="Data.Container.Indexed.html#2013" class="Record">ContainerMorphism</a> <a id="2888" href="Data.Container.Indexed.html#2851" class="Bound">C₁</a> <a id="2891" href="Data.Container.Indexed.html#2865" class="Bound">C₂</a> <a id="2894" href="Data.Container.Indexed.html#2857" class="Bound">f</a> <a id="2896" href="Data.Container.Indexed.html#2861" class="Bound">g</a> <a id="2898" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="2902" class="Symbol">(λ</a> <a id="2905" href="Data.Container.Indexed.html#2905" class="Bound">R₂</a> <a id="2908" href="Data.Container.Indexed.html#2908" class="Bound">R₁</a> <a id="2911" class="Symbol">→</a> <a id="2913" href="Data.Container.Indexed.html#2905" class="Bound">R₂</a> <a id="2916" class="Symbol">→</a> <a id="2918" href="Data.Container.Indexed.html#2908" class="Bound">R₁</a><a id="2920" class="Symbol">)</a> <a id="2922" href="Function.Base.html#2003" class="Function Operator">_$_</a>

  <a id="2929" class="Comment">-- Linear container morphism.</a>

  <a id="2962" href="Data.Container.Indexed.html#2962" class="Function Operator">_⊸[_/_]_</a> <a id="2971" class="Symbol">:</a> <a id="2973" class="Symbol">∀</a> <a id="2975" class="Symbol">{</a><a id="2976" href="Data.Container.Indexed.html#2976" class="Bound">c₁</a> <a id="2979" href="Data.Container.Indexed.html#2979" class="Bound">c₂</a> <a id="2982" href="Data.Container.Indexed.html#2982" class="Bound">r₁</a> <a id="2985" href="Data.Container.Indexed.html#2985" class="Bound">r₂</a><a id="2987" class="Symbol">}</a> <a id="2989" class="Symbol">→</a>
             <a id="3004" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3014" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="3017" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="3020" href="Data.Container.Indexed.html#2976" class="Bound">c₁</a> <a id="3023" href="Data.Container.Indexed.html#2982" class="Bound">r₁</a> <a id="3026" class="Symbol">→</a> <a id="3028" class="Symbol">(</a><a id="3029" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="3032" class="Symbol">→</a> <a id="3034" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a><a id="3036" class="Symbol">)</a> <a id="3038" class="Symbol">→</a> <a id="3040" class="Symbol">(</a><a id="3041" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="3044" class="Symbol">→</a> <a id="3046" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a><a id="3048" class="Symbol">)</a> <a id="3050" class="Symbol">→</a>
             <a id="3065" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3075" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a> <a id="3078" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a> <a id="3081" href="Data.Container.Indexed.html#2979" class="Bound">c₂</a> <a id="3084" href="Data.Container.Indexed.html#2985" class="Bound">r₂</a> <a id="3087" class="Symbol">→</a> <a id="3089" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3093" class="Symbol">_</a>
  <a id="3097" href="Data.Container.Indexed.html#3097" class="Bound">C₁</a> <a id="3100" href="Data.Container.Indexed.html#2962" class="Function Operator">⊸[</a> <a id="3103" href="Data.Container.Indexed.html#3103" class="Bound">f</a> <a id="3105" href="Data.Container.Indexed.html#2962" class="Function Operator">/</a> <a id="3107" href="Data.Container.Indexed.html#3107" class="Bound">g</a> <a id="3109" href="Data.Container.Indexed.html#2962" class="Function Operator">]</a> <a id="3111" href="Data.Container.Indexed.html#3111" class="Bound">C₂</a> <a id="3114" class="Symbol">=</a> <a id="3116" href="Data.Container.Indexed.html#2013" class="Record">ContainerMorphism</a> <a id="3134" href="Data.Container.Indexed.html#3097" class="Bound">C₁</a> <a id="3137" href="Data.Container.Indexed.html#3111" class="Bound">C₂</a> <a id="3140" href="Data.Container.Indexed.html#3103" class="Bound">f</a> <a id="3142" href="Data.Container.Indexed.html#3107" class="Bound">g</a> <a id="3144" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="3148" href="Function.Inverse.html#2466" class="Function Operator">_↔_</a>
                                       <a id="3191" class="Symbol">(λ</a> <a id="3194" href="Data.Container.Indexed.html#3194" class="Bound">r₂↔r₁</a> <a id="3200" href="Data.Container.Indexed.html#3200" class="Bound">r₂</a> <a id="3203" class="Symbol">→</a> <a id="3205" href="Function.Inverse.html#1532" class="Field">Inverse.to</a> <a id="3216" href="Data.Container.Indexed.html#3194" class="Bound">r₂↔r₁</a> <a id="3222" href="Function.Equality.html#1073" class="Field Operator">⟨$⟩</a> <a id="3226" href="Data.Container.Indexed.html#3200" class="Bound">r₂</a><a id="3228" class="Symbol">)</a>

  <a id="3233" class="Comment">-- Cartesian container morphism.</a>

  <a id="3269" href="Data.Container.Indexed.html#3269" class="Function Operator">_⇒C[_/_]_</a> <a id="3279" class="Symbol">:</a> <a id="3281" class="Symbol">∀</a> <a id="3283" class="Symbol">{</a><a id="3284" href="Data.Container.Indexed.html#3284" class="Bound">c₁</a> <a id="3287" href="Data.Container.Indexed.html#3287" class="Bound">c₂</a> <a id="3290" href="Data.Container.Indexed.html#3290" class="Bound">r</a><a id="3291" class="Symbol">}</a> <a id="3293" class="Symbol">→</a>
              <a id="3309" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3319" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="3322" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="3325" href="Data.Container.Indexed.html#3284" class="Bound">c₁</a> <a id="3328" href="Data.Container.Indexed.html#3290" class="Bound">r</a> <a id="3330" class="Symbol">→</a> <a id="3332" class="Symbol">(</a><a id="3333" href="Data.Container.Indexed.html#1908" class="Bound">I₁</a> <a id="3336" class="Symbol">→</a> <a id="3338" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a><a id="3340" class="Symbol">)</a> <a id="3342" class="Symbol">→</a> <a id="3344" class="Symbol">(</a><a id="3345" href="Data.Container.Indexed.html#1936" class="Bound">O₁</a> <a id="3348" class="Symbol">→</a> <a id="3350" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a><a id="3352" class="Symbol">)</a> <a id="3354" class="Symbol">→</a>
              <a id="3370" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3380" href="Data.Container.Indexed.html#1922" class="Bound">I₂</a> <a id="3383" href="Data.Container.Indexed.html#1950" class="Bound">O₂</a> <a id="3386" href="Data.Container.Indexed.html#3287" class="Bound">c₂</a> <a id="3389" href="Data.Container.Indexed.html#3290" class="Bound">r</a> <a id="3391" class="Symbol">→</a> <a id="3393" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3397" class="Symbol">_</a>
  <a id="3401" href="Data.Container.Indexed.html#3401" class="Bound">C₁</a> <a id="3404" href="Data.Container.Indexed.html#3269" class="Function Operator">⇒C[</a> <a id="3408" href="Data.Container.Indexed.html#3408" class="Bound">f</a> <a id="3410" href="Data.Container.Indexed.html#3269" class="Function Operator">/</a> <a id="3412" href="Data.Container.Indexed.html#3412" class="Bound">g</a> <a id="3414" href="Data.Container.Indexed.html#3269" class="Function Operator">]</a> <a id="3416" href="Data.Container.Indexed.html#3416" class="Bound">C₂</a> <a id="3419" class="Symbol">=</a> <a id="3421" href="Data.Container.Indexed.html#2013" class="Record">ContainerMorphism</a> <a id="3439" href="Data.Container.Indexed.html#3401" class="Bound">C₁</a> <a id="3442" href="Data.Container.Indexed.html#3416" class="Bound">C₂</a> <a id="3445" href="Data.Container.Indexed.html#3408" class="Bound">f</a> <a id="3447" href="Data.Container.Indexed.html#3412" class="Bound">g</a> <a id="3449" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a> <a id="3453" class="Symbol">(λ</a> <a id="3456" href="Data.Container.Indexed.html#3456" class="Bound">R₂</a> <a id="3459" href="Data.Container.Indexed.html#3459" class="Bound">R₁</a> <a id="3462" class="Symbol">→</a> <a id="3464" href="Data.Container.Indexed.html#3456" class="Bound">R₂</a> <a id="3467" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3469" href="Data.Container.Indexed.html#3459" class="Bound">R₁</a><a id="3471" class="Symbol">)</a>
                                        <a id="3513" class="Symbol">(λ</a> <a id="3516" href="Data.Container.Indexed.html#3516" class="Bound">r₂≡r₁</a> <a id="3522" href="Data.Container.Indexed.html#3522" class="Bound">r₂</a> <a id="3525" class="Symbol">→</a> <a id="3527" href="Relation.Binary.PropositionalEquality.Core.html#1803" class="Function">P.subst</a> <a id="3535" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3540" href="Data.Container.Indexed.html#3516" class="Bound">r₂≡r₁</a> <a id="3546" href="Data.Container.Indexed.html#3522" class="Bound">r₂</a><a id="3548" class="Symbol">)</a>

<a id="3551" class="Comment">-- Degenerate cases where no reindexing is performed.</a>

<a id="3606" class="Keyword">module</a> <a id="3613" href="Data.Container.Indexed.html#3613" class="Module">_</a> <a id="3615" class="Symbol">{</a><a id="3616" href="Data.Container.Indexed.html#3616" class="Bound">i</a> <a id="3618" href="Data.Container.Indexed.html#3618" class="Bound">o</a> <a id="3620" href="Data.Container.Indexed.html#3620" class="Bound">c</a> <a id="3622" href="Data.Container.Indexed.html#3622" class="Bound">r</a><a id="3623" class="Symbol">}</a> <a id="3625" class="Symbol">{</a><a id="3626" href="Data.Container.Indexed.html#3626" class="Bound">I</a> <a id="3628" class="Symbol">:</a> <a id="3630" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3634" href="Data.Container.Indexed.html#3616" class="Bound">i</a><a id="3635" class="Symbol">}</a> <a id="3637" class="Symbol">{</a><a id="3638" href="Data.Container.Indexed.html#3638" class="Bound">O</a> <a id="3640" class="Symbol">:</a> <a id="3642" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="3646" href="Data.Container.Indexed.html#3618" class="Bound">o</a><a id="3647" class="Symbol">}</a> <a id="3649" class="Keyword">where</a>

  <a id="3658" class="Keyword">infixr</a> <a id="3665" class="Number">8</a> <a id="3667" href="Data.Container.Indexed.html#3683" class="Function Operator">_⇒_</a> <a id="3671" href="Data.Container.Indexed.html#3755" class="Function Operator">_⊸_</a> <a id="3675" href="Data.Container.Indexed.html#3827" class="Function Operator">_⇒C_</a>

  <a id="3683" href="Data.Container.Indexed.html#3683" class="Function Operator">_⇒_</a> <a id="3687" class="Symbol">:</a> <a id="3689" href="Relation.Binary.Core.html#891" class="Function">B.Rel</a> <a id="3695" class="Symbol">(</a><a id="3696" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3706" href="Data.Container.Indexed.html#3626" class="Bound">I</a> <a id="3708" href="Data.Container.Indexed.html#3638" class="Bound">O</a> <a id="3710" href="Data.Container.Indexed.html#3620" class="Bound">c</a> <a id="3712" href="Data.Container.Indexed.html#3622" class="Bound">r</a><a id="3713" class="Symbol">)</a> <a id="3715" class="Symbol">_</a>
  <a id="3719" href="Data.Container.Indexed.html#3719" class="Bound">C₁</a> <a id="3722" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="3724" href="Data.Container.Indexed.html#3724" class="Bound">C₂</a> <a id="3727" class="Symbol">=</a> <a id="3729" href="Data.Container.Indexed.html#3719" class="Bound">C₁</a> <a id="3732" href="Data.Container.Indexed.html#2716" class="Function Operator">⇒[</a> <a id="3735" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3740" href="Data.Container.Indexed.html#2716" class="Function Operator">/</a> <a id="3742" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3747" href="Data.Container.Indexed.html#2716" class="Function Operator">]</a> <a id="3749" href="Data.Container.Indexed.html#3724" class="Bound">C₂</a>

  <a id="3755" href="Data.Container.Indexed.html#3755" class="Function Operator">_⊸_</a> <a id="3759" class="Symbol">:</a> <a id="3761" href="Relation.Binary.Core.html#891" class="Function">B.Rel</a> <a id="3767" class="Symbol">(</a><a id="3768" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3778" href="Data.Container.Indexed.html#3626" class="Bound">I</a> <a id="3780" href="Data.Container.Indexed.html#3638" class="Bound">O</a> <a id="3782" href="Data.Container.Indexed.html#3620" class="Bound">c</a> <a id="3784" href="Data.Container.Indexed.html#3622" class="Bound">r</a><a id="3785" class="Symbol">)</a> <a id="3787" class="Symbol">_</a>
  <a id="3791" href="Data.Container.Indexed.html#3791" class="Bound">C₁</a> <a id="3794" href="Data.Container.Indexed.html#3755" class="Function Operator">⊸</a> <a id="3796" href="Data.Container.Indexed.html#3796" class="Bound">C₂</a> <a id="3799" class="Symbol">=</a> <a id="3801" href="Data.Container.Indexed.html#3791" class="Bound">C₁</a> <a id="3804" href="Data.Container.Indexed.html#2962" class="Function Operator">⊸[</a> <a id="3807" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3812" href="Data.Container.Indexed.html#2962" class="Function Operator">/</a> <a id="3814" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3819" href="Data.Container.Indexed.html#2962" class="Function Operator">]</a> <a id="3821" href="Data.Container.Indexed.html#3796" class="Bound">C₂</a>

  <a id="3827" href="Data.Container.Indexed.html#3827" class="Function Operator">_⇒C_</a> <a id="3832" class="Symbol">:</a> <a id="3834" href="Relation.Binary.Core.html#891" class="Function">B.Rel</a> <a id="3840" class="Symbol">(</a><a id="3841" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="3851" href="Data.Container.Indexed.html#3626" class="Bound">I</a> <a id="3853" href="Data.Container.Indexed.html#3638" class="Bound">O</a> <a id="3855" href="Data.Container.Indexed.html#3620" class="Bound">c</a> <a id="3857" href="Data.Container.Indexed.html#3622" class="Bound">r</a><a id="3858" class="Symbol">)</a> <a id="3860" class="Symbol">_</a>
  <a id="3864" href="Data.Container.Indexed.html#3864" class="Bound">C₁</a> <a id="3867" href="Data.Container.Indexed.html#3827" class="Function Operator">⇒C</a> <a id="3870" href="Data.Container.Indexed.html#3870" class="Bound">C₂</a> <a id="3873" class="Symbol">=</a> <a id="3875" href="Data.Container.Indexed.html#3864" class="Bound">C₁</a> <a id="3878" href="Data.Container.Indexed.html#3269" class="Function Operator">⇒C[</a> <a id="3882" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3887" href="Data.Container.Indexed.html#3269" class="Function Operator">/</a> <a id="3889" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="3894" href="Data.Container.Indexed.html#3269" class="Function Operator">]</a> <a id="3896" href="Data.Container.Indexed.html#3870" class="Bound">C₂</a>

<a id="3900" class="Comment">------------------------------------------------------------------------</a>
<a id="3973" class="Comment">-- Plain morphisms</a>

<a id="3993" class="Comment">-- Interpretation of _⇒_.</a>

<a id="⟪_⟫"></a><a id="4020" href="Data.Container.Indexed.html#4020" class="Function Operator">⟪_⟫</a> <a id="4024" class="Symbol">:</a> <a id="4026" class="Symbol">∀</a> <a id="4028" class="Symbol">{</a><a id="4029" href="Data.Container.Indexed.html#4029" class="Bound">i</a> <a id="4031" href="Data.Container.Indexed.html#4031" class="Bound">o</a> <a id="4033" href="Data.Container.Indexed.html#4033" class="Bound">c</a> <a id="4035" href="Data.Container.Indexed.html#4035" class="Bound">r</a> <a id="4037" href="Data.Container.Indexed.html#4037" class="Bound">ℓ</a><a id="4038" class="Symbol">}</a> <a id="4040" class="Symbol">{</a><a id="4041" href="Data.Container.Indexed.html#4041" class="Bound">I</a> <a id="4043" class="Symbol">:</a> <a id="4045" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4049" href="Data.Container.Indexed.html#4029" class="Bound">i</a><a id="4050" class="Symbol">}</a> <a id="4052" class="Symbol">{</a><a id="4053" href="Data.Container.Indexed.html#4053" class="Bound">O</a> <a id="4055" class="Symbol">:</a> <a id="4057" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4061" href="Data.Container.Indexed.html#4031" class="Bound">o</a><a id="4062" class="Symbol">}</a> <a id="4064" class="Symbol">{</a><a id="4065" href="Data.Container.Indexed.html#4065" class="Bound">C₁</a> <a id="4068" href="Data.Container.Indexed.html#4068" class="Bound">C₂</a> <a id="4071" class="Symbol">:</a> <a id="4073" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="4083" href="Data.Container.Indexed.html#4041" class="Bound">I</a> <a id="4085" href="Data.Container.Indexed.html#4053" class="Bound">O</a> <a id="4087" href="Data.Container.Indexed.html#4033" class="Bound">c</a> <a id="4089" href="Data.Container.Indexed.html#4035" class="Bound">r</a><a id="4090" class="Symbol">}</a> <a id="4092" class="Symbol">→</a>
      <a id="4100" href="Data.Container.Indexed.html#4065" class="Bound">C₁</a> <a id="4103" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="4105" href="Data.Container.Indexed.html#4068" class="Bound">C₂</a> <a id="4108" class="Symbol">→</a> <a id="4110" class="Symbol">(</a><a id="4111" href="Data.Container.Indexed.html#4111" class="Bound">X</a> <a id="4113" class="Symbol">:</a> <a id="4115" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="4120" href="Data.Container.Indexed.html#4041" class="Bound">I</a> <a id="4122" href="Data.Container.Indexed.html#4037" class="Bound">ℓ</a><a id="4123" class="Symbol">)</a> <a id="4125" class="Symbol">→</a> <a id="4127" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="4129" href="Data.Container.Indexed.html#4065" class="Bound">C₁</a> <a id="4132" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="4134" href="Data.Container.Indexed.html#4111" class="Bound">X</a> <a id="4136" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="4138" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="4140" href="Data.Container.Indexed.html#4068" class="Bound">C₂</a> <a id="4143" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="4145" href="Data.Container.Indexed.html#4111" class="Bound">X</a>
<a id="4147" href="Data.Container.Indexed.html#4020" class="Function Operator">⟪</a> <a id="4149" href="Data.Container.Indexed.html#4149" class="Bound">m</a> <a id="4151" href="Data.Container.Indexed.html#4020" class="Function Operator">⟫</a> <a id="4153" href="Data.Container.Indexed.html#4153" class="Bound">X</a> <a id="4155" class="Symbol">(</a><a id="4156" href="Data.Container.Indexed.html#4156" class="Bound">c</a> <a id="4158" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4160" href="Data.Container.Indexed.html#4160" class="Bound">k</a><a id="4161" class="Symbol">)</a> <a id="4163" class="Symbol">=</a> <a id="4165" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="4173" href="Data.Container.Indexed.html#4149" class="Bound">m</a> <a id="4175" href="Data.Container.Indexed.html#4156" class="Bound">c</a> <a id="4177" href="Agda.Builtin.Sigma.html#218" class="InductiveConstructor Operator">,</a> <a id="4179" class="Symbol">λ</a> <a id="4181" href="Data.Container.Indexed.html#4181" class="Bound">r₂</a> <a id="4184" class="Symbol">→</a>
  <a id="4188" href="Relation.Binary.PropositionalEquality.Core.html#1803" class="Function">P.subst</a> <a id="4196" href="Data.Container.Indexed.html#4153" class="Bound">X</a> <a id="4198" class="Symbol">(</a><a id="4199" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="4208" href="Data.Container.Indexed.html#4149" class="Bound">m</a><a id="4209" class="Symbol">)</a> <a id="4211" class="Symbol">(</a><a id="4212" href="Data.Container.Indexed.html#4160" class="Bound">k</a> <a id="4214" class="Symbol">(</a><a id="4215" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="4224" href="Data.Container.Indexed.html#4149" class="Bound">m</a> <a id="4226" href="Data.Container.Indexed.html#4181" class="Bound">r₂</a><a id="4228" class="Symbol">))</a>

<a id="4232" class="Keyword">module</a> <a id="PlainMorphism"></a><a id="4239" href="Data.Container.Indexed.html#4239" class="Module">PlainMorphism</a> <a id="4253" class="Symbol">{</a><a id="4254" href="Data.Container.Indexed.html#4254" class="Bound">i</a> <a id="4256" href="Data.Container.Indexed.html#4256" class="Bound">o</a> <a id="4258" href="Data.Container.Indexed.html#4258" class="Bound">c</a> <a id="4260" href="Data.Container.Indexed.html#4260" class="Bound">r</a><a id="4261" class="Symbol">}</a> <a id="4263" class="Symbol">{</a><a id="4264" href="Data.Container.Indexed.html#4264" class="Bound">I</a> <a id="4266" class="Symbol">:</a> <a id="4268" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4272" href="Data.Container.Indexed.html#4254" class="Bound">i</a><a id="4273" class="Symbol">}</a> <a id="4275" class="Symbol">{</a><a id="4276" href="Data.Container.Indexed.html#4276" class="Bound">O</a> <a id="4278" class="Symbol">:</a> <a id="4280" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="4284" href="Data.Container.Indexed.html#4256" class="Bound">o</a><a id="4285" class="Symbol">}</a> <a id="4287" class="Keyword">where</a>

  <a id="4296" class="Comment">-- Identity.</a>

  <a id="PlainMorphism.id"></a><a id="4312" href="Data.Container.Indexed.html#4312" class="Function">id</a> <a id="4315" class="Symbol">:</a> <a id="4317" class="Symbol">(</a><a id="4318" href="Data.Container.Indexed.html#4318" class="Bound">C</a> <a id="4320" class="Symbol">:</a> <a id="4322" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="4332" href="Data.Container.Indexed.html#4264" class="Bound">I</a> <a id="4334" href="Data.Container.Indexed.html#4276" class="Bound">O</a> <a id="4336" href="Data.Container.Indexed.html#4258" class="Bound">c</a> <a id="4338" href="Data.Container.Indexed.html#4260" class="Bound">r</a><a id="4339" class="Symbol">)</a> <a id="4341" class="Symbol">→</a> <a id="4343" href="Data.Container.Indexed.html#4318" class="Bound">C</a> <a id="4345" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="4347" href="Data.Container.Indexed.html#4318" class="Bound">C</a>
  <a id="4351" href="Data.Container.Indexed.html#4312" class="Function">id</a> <a id="4354" class="Symbol">_</a> <a id="4356" class="Symbol">=</a> <a id="4358" class="Keyword">record</a>
    <a id="4369" class="Symbol">{</a> <a id="4371" href="Data.Container.Indexed.html#2347" class="Field">command</a>  <a id="4380" class="Symbol">=</a> <a id="4382" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a>
    <a id="4391" class="Symbol">;</a> <a id="4393" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="4402" class="Symbol">=</a> <a id="4404" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a>
    <a id="4413" class="Symbol">;</a> <a id="4415" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="4424" class="Symbol">=</a> <a id="4426" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
    <a id="4435" class="Symbol">}</a>

  <a id="4440" class="Comment">-- Composition.</a>

  <a id="4459" class="Keyword">infixr</a> <a id="4466" class="Number">9</a> <a id="4468" href="Data.Container.Indexed.html#4475" class="Function Operator">_∘_</a>

  <a id="PlainMorphism._∘_"></a><a id="4475" href="Data.Container.Indexed.html#4475" class="Function Operator">_∘_</a> <a id="4479" class="Symbol">:</a> <a id="4481" class="Symbol">{</a><a id="4482" href="Data.Container.Indexed.html#4482" class="Bound">C₁</a> <a id="4485" href="Data.Container.Indexed.html#4485" class="Bound">C₂</a> <a id="4488" href="Data.Container.Indexed.html#4488" class="Bound">C₃</a> <a id="4491" class="Symbol">:</a> <a id="4493" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="4503" href="Data.Container.Indexed.html#4264" class="Bound">I</a> <a id="4505" href="Data.Container.Indexed.html#4276" class="Bound">O</a> <a id="4507" href="Data.Container.Indexed.html#4258" class="Bound">c</a> <a id="4509" href="Data.Container.Indexed.html#4260" class="Bound">r</a><a id="4510" class="Symbol">}</a> <a id="4512" class="Symbol">→</a>
        <a id="4522" href="Data.Container.Indexed.html#4485" class="Bound">C₂</a> <a id="4525" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="4527" href="Data.Container.Indexed.html#4488" class="Bound">C₃</a> <a id="4530" class="Symbol">→</a> <a id="4532" href="Data.Container.Indexed.html#4482" class="Bound">C₁</a> <a id="4535" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="4537" href="Data.Container.Indexed.html#4485" class="Bound">C₂</a> <a id="4540" class="Symbol">→</a> <a id="4542" href="Data.Container.Indexed.html#4482" class="Bound">C₁</a> <a id="4545" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="4547" href="Data.Container.Indexed.html#4488" class="Bound">C₃</a>
  <a id="4552" href="Data.Container.Indexed.html#4552" class="Bound">f</a> <a id="4554" href="Data.Container.Indexed.html#4475" class="Function Operator">∘</a> <a id="4556" href="Data.Container.Indexed.html#4556" class="Bound">g</a> <a id="4558" class="Symbol">=</a> <a id="4560" class="Keyword">record</a>
    <a id="4571" class="Symbol">{</a> <a id="4573" href="Data.Container.Indexed.html#2347" class="Field">command</a>  <a id="4582" class="Symbol">=</a> <a id="4584" href="Data.Container.Indexed.html#2347" class="Field">command</a>  <a id="4593" href="Data.Container.Indexed.html#4552" class="Bound">f</a> <a id="4595" href="Data.Container.Indexed.html#626" class="Function Operator">⟨∘⟩</a> <a id="4599" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="4607" href="Data.Container.Indexed.html#4556" class="Bound">g</a>
    <a id="4613" class="Symbol">;</a> <a id="4615" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="4624" class="Symbol">=</a> <a id="4626" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="4635" href="Data.Container.Indexed.html#4556" class="Bound">g</a> <a id="4637" href="Data.Container.Indexed.html#626" class="Function Operator">⟨∘⟩</a> <a id="4641" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="4650" href="Data.Container.Indexed.html#4552" class="Bound">f</a>
    <a id="4656" class="Symbol">;</a> <a id="4658" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="4667" class="Symbol">=</a> <a id="4669" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="4678" href="Data.Container.Indexed.html#4556" class="Bound">g</a> <a id="4680" href="Function.Base.html#4339" class="Function Operator">⟨</a> <a id="4682" href="Relation.Binary.PropositionalEquality.Core.html#1752" class="Function">P.trans</a> <a id="4690" href="Function.Base.html#4339" class="Function Operator">⟩</a> <a id="4692" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="4701" href="Data.Container.Indexed.html#4552" class="Bound">f</a>
    <a id="4707" class="Symbol">}</a>

  <a id="4712" class="Comment">-- Identity commutes with ⟪_⟫.</a>

  <a id="PlainMorphism.id-correct"></a><a id="4746" href="Data.Container.Indexed.html#4746" class="Function">id-correct</a> <a id="4757" class="Symbol">:</a> <a id="4759" class="Symbol">∀</a> <a id="4761" class="Symbol">{</a><a id="4762" href="Data.Container.Indexed.html#4762" class="Bound">ℓ</a><a id="4763" class="Symbol">}</a> <a id="4765" class="Symbol">{</a><a id="4766" href="Data.Container.Indexed.html#4766" class="Bound">C</a> <a id="4768" class="Symbol">:</a> <a id="4770" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="4780" href="Data.Container.Indexed.html#4264" class="Bound">I</a> <a id="4782" href="Data.Container.Indexed.html#4276" class="Bound">O</a> <a id="4784" href="Data.Container.Indexed.html#4258" class="Bound">c</a> <a id="4786" href="Data.Container.Indexed.html#4260" class="Bound">r</a><a id="4787" class="Symbol">}</a> <a id="4789" class="Symbol">→</a> <a id="4791" class="Symbol">∀</a> <a id="4793" class="Symbol">{</a><a id="4794" href="Data.Container.Indexed.html#4794" class="Bound">X</a> <a id="4796" class="Symbol">:</a> <a id="4798" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="4803" href="Data.Container.Indexed.html#4264" class="Bound">I</a> <a id="4805" href="Data.Container.Indexed.html#4762" class="Bound">ℓ</a><a id="4806" class="Symbol">}</a> <a id="4808" class="Symbol">{</a><a id="4809" href="Data.Container.Indexed.html#4809" class="Bound">o</a><a id="4810" class="Symbol">}</a> <a id="4812" class="Symbol">→</a>
               <a id="4829" href="Data.Container.Indexed.html#4020" class="Function Operator">⟪</a> <a id="4831" href="Data.Container.Indexed.html#4312" class="Function">id</a> <a id="4834" href="Data.Container.Indexed.html#4766" class="Bound">C</a> <a id="4836" href="Data.Container.Indexed.html#4020" class="Function Operator">⟫</a> <a id="4838" href="Data.Container.Indexed.html#4794" class="Bound">X</a> <a id="4840" class="Symbol">{</a><a id="4841" href="Data.Container.Indexed.html#4809" class="Bound">o</a><a id="4842" class="Symbol">}</a> <a id="4844" href="Relation.Binary.PropositionalEquality.html#1484" class="Function Operator">≗</a> <a id="4846" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a>
  <a id="4853" href="Data.Container.Indexed.html#4746" class="Function">id-correct</a> <a id="4864" class="Symbol">_</a> <a id="4866" class="Symbol">=</a> <a id="4868" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>

  <a id="4876" class="Comment">-- More properties are proved in Data.Container.Indexed.WithK.</a>

<a id="4940" class="Comment">------------------------------------------------------------------------</a>
<a id="5013" class="Comment">-- Linear container morphisms</a>

<a id="5044" class="Keyword">module</a> <a id="LinearMorphism"></a><a id="5051" href="Data.Container.Indexed.html#5051" class="Module">LinearMorphism</a>
  <a id="5068" class="Symbol">{</a><a id="5069" href="Data.Container.Indexed.html#5069" class="Bound">i</a> <a id="5071" href="Data.Container.Indexed.html#5071" class="Bound">o</a> <a id="5073" href="Data.Container.Indexed.html#5073" class="Bound">c</a> <a id="5075" href="Data.Container.Indexed.html#5075" class="Bound">r</a><a id="5076" class="Symbol">}</a> <a id="5078" class="Symbol">{</a><a id="5079" href="Data.Container.Indexed.html#5079" class="Bound">I</a> <a id="5081" class="Symbol">:</a> <a id="5083" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5087" href="Data.Container.Indexed.html#5069" class="Bound">i</a><a id="5088" class="Symbol">}</a> <a id="5090" class="Symbol">{</a><a id="5091" href="Data.Container.Indexed.html#5091" class="Bound">O</a> <a id="5093" class="Symbol">:</a> <a id="5095" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5099" href="Data.Container.Indexed.html#5071" class="Bound">o</a><a id="5100" class="Symbol">}</a> <a id="5102" class="Symbol">{</a><a id="5103" href="Data.Container.Indexed.html#5103" class="Bound">C₁</a> <a id="5106" href="Data.Container.Indexed.html#5106" class="Bound">C₂</a> <a id="5109" class="Symbol">:</a> <a id="5111" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="5121" href="Data.Container.Indexed.html#5079" class="Bound">I</a> <a id="5123" href="Data.Container.Indexed.html#5091" class="Bound">O</a> <a id="5125" href="Data.Container.Indexed.html#5073" class="Bound">c</a> <a id="5127" href="Data.Container.Indexed.html#5075" class="Bound">r</a><a id="5128" class="Symbol">}</a>
  <a id="5132" class="Symbol">(</a><a id="5133" href="Data.Container.Indexed.html#5133" class="Bound">m</a> <a id="5135" class="Symbol">:</a> <a id="5137" href="Data.Container.Indexed.html#5103" class="Bound">C₁</a> <a id="5140" href="Data.Container.Indexed.html#3755" class="Function Operator">⊸</a> <a id="5142" href="Data.Container.Indexed.html#5106" class="Bound">C₂</a><a id="5144" class="Symbol">)</a>
  <a id="5148" class="Keyword">where</a>

  <a id="LinearMorphism.morphism"></a><a id="5157" href="Data.Container.Indexed.html#5157" class="Function">morphism</a> <a id="5166" class="Symbol">:</a> <a id="5168" href="Data.Container.Indexed.html#5103" class="Bound">C₁</a> <a id="5171" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="5173" href="Data.Container.Indexed.html#5106" class="Bound">C₂</a>
  <a id="5178" href="Data.Container.Indexed.html#5157" class="Function">morphism</a> <a id="5187" class="Symbol">=</a> <a id="5189" class="Keyword">record</a>
    <a id="5200" class="Symbol">{</a> <a id="5202" href="Data.Container.Indexed.html#2347" class="Field">command</a>  <a id="5211" class="Symbol">=</a> <a id="5213" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="5221" href="Data.Container.Indexed.html#5133" class="Bound">m</a>
    <a id="5227" class="Symbol">;</a> <a id="5229" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="5238" class="Symbol">=</a> <a id="5240" href="Function.Equality.html#1073" class="Field Operator">_⟨$⟩_</a> <a id="5246" class="Symbol">(</a><a id="5247" href="Function.Inverse.html#1532" class="Field">Inverse.to</a> <a id="5258" class="Symbol">(</a><a id="5259" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="5268" href="Data.Container.Indexed.html#5133" class="Bound">m</a><a id="5269" class="Symbol">))</a>
    <a id="5276" class="Symbol">;</a> <a id="5278" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="5287" class="Symbol">=</a> <a id="5289" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="5298" href="Data.Container.Indexed.html#5133" class="Bound">m</a>
    <a id="5304" class="Symbol">}</a>

  <a id="LinearMorphism.⟪_⟫⊸"></a><a id="5309" href="Data.Container.Indexed.html#5309" class="Function Operator">⟪_⟫⊸</a> <a id="5314" class="Symbol">:</a> <a id="5316" class="Symbol">∀</a> <a id="5318" class="Symbol">{</a><a id="5319" href="Data.Container.Indexed.html#5319" class="Bound">ℓ</a><a id="5320" class="Symbol">}</a> <a id="5322" class="Symbol">(</a><a id="5323" href="Data.Container.Indexed.html#5323" class="Bound">X</a> <a id="5325" class="Symbol">:</a> <a id="5327" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="5332" href="Data.Container.Indexed.html#5079" class="Bound">I</a> <a id="5334" href="Data.Container.Indexed.html#5319" class="Bound">ℓ</a><a id="5335" class="Symbol">)</a> <a id="5337" class="Symbol">→</a> <a id="5339" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="5341" href="Data.Container.Indexed.html#5103" class="Bound">C₁</a> <a id="5344" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="5346" href="Data.Container.Indexed.html#5323" class="Bound">X</a> <a id="5348" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="5350" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="5352" href="Data.Container.Indexed.html#5106" class="Bound">C₂</a> <a id="5355" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="5357" href="Data.Container.Indexed.html#5323" class="Bound">X</a>
  <a id="5361" href="Data.Container.Indexed.html#5309" class="Function Operator">⟪_⟫⊸</a> <a id="5366" class="Symbol">=</a> <a id="5368" href="Data.Container.Indexed.html#4020" class="Function Operator">⟪</a> <a id="5370" href="Data.Container.Indexed.html#5157" class="Function">morphism</a> <a id="5379" href="Data.Container.Indexed.html#4020" class="Function Operator">⟫</a>

<a id="5382" class="Keyword">open</a> <a id="5387" href="Data.Container.Indexed.html#5051" class="Module">LinearMorphism</a> <a id="5402" class="Keyword">public</a> <a id="5409" class="Keyword">using</a> <a id="5415" class="Symbol">(</a><a id="5416" href="Data.Container.Indexed.html#5309" class="Function Operator">⟪_⟫⊸</a><a id="5420" class="Symbol">)</a>

<a id="5423" class="Comment">------------------------------------------------------------------------</a>
<a id="5496" class="Comment">-- Cartesian morphisms</a>

<a id="5520" class="Keyword">module</a> <a id="CartesianMorphism"></a><a id="5527" href="Data.Container.Indexed.html#5527" class="Module">CartesianMorphism</a>
  <a id="5547" class="Symbol">{</a><a id="5548" href="Data.Container.Indexed.html#5548" class="Bound">i</a> <a id="5550" href="Data.Container.Indexed.html#5550" class="Bound">o</a> <a id="5552" href="Data.Container.Indexed.html#5552" class="Bound">c</a> <a id="5554" href="Data.Container.Indexed.html#5554" class="Bound">r</a><a id="5555" class="Symbol">}</a> <a id="5557" class="Symbol">{</a><a id="5558" href="Data.Container.Indexed.html#5558" class="Bound">I</a> <a id="5560" class="Symbol">:</a> <a id="5562" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5566" href="Data.Container.Indexed.html#5548" class="Bound">i</a><a id="5567" class="Symbol">}</a> <a id="5569" class="Symbol">{</a><a id="5570" href="Data.Container.Indexed.html#5570" class="Bound">O</a> <a id="5572" class="Symbol">:</a> <a id="5574" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="5578" href="Data.Container.Indexed.html#5550" class="Bound">o</a><a id="5579" class="Symbol">}</a> <a id="5581" class="Symbol">{</a><a id="5582" href="Data.Container.Indexed.html#5582" class="Bound">C₁</a> <a id="5585" href="Data.Container.Indexed.html#5585" class="Bound">C₂</a> <a id="5588" class="Symbol">:</a> <a id="5590" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="5600" href="Data.Container.Indexed.html#5558" class="Bound">I</a> <a id="5602" href="Data.Container.Indexed.html#5570" class="Bound">O</a> <a id="5604" href="Data.Container.Indexed.html#5552" class="Bound">c</a> <a id="5606" href="Data.Container.Indexed.html#5554" class="Bound">r</a><a id="5607" class="Symbol">}</a>
  <a id="5611" class="Symbol">(</a><a id="5612" href="Data.Container.Indexed.html#5612" class="Bound">m</a> <a id="5614" class="Symbol">:</a> <a id="5616" href="Data.Container.Indexed.html#5582" class="Bound">C₁</a> <a id="5619" href="Data.Container.Indexed.html#3827" class="Function Operator">⇒C</a> <a id="5622" href="Data.Container.Indexed.html#5585" class="Bound">C₂</a><a id="5624" class="Symbol">)</a>
  <a id="5628" class="Keyword">where</a>

  <a id="CartesianMorphism.morphism"></a><a id="5637" href="Data.Container.Indexed.html#5637" class="Function">morphism</a> <a id="5646" class="Symbol">:</a> <a id="5648" href="Data.Container.Indexed.html#5582" class="Bound">C₁</a> <a id="5651" href="Data.Container.Indexed.html#3683" class="Function Operator">⇒</a> <a id="5653" href="Data.Container.Indexed.html#5585" class="Bound">C₂</a>
  <a id="5658" href="Data.Container.Indexed.html#5637" class="Function">morphism</a> <a id="5667" class="Symbol">=</a> <a id="5669" class="Keyword">record</a>
    <a id="5680" class="Symbol">{</a> <a id="5682" href="Data.Container.Indexed.html#2347" class="Field">command</a>  <a id="5691" class="Symbol">=</a> <a id="5693" href="Data.Container.Indexed.html#2347" class="Field">command</a> <a id="5701" href="Data.Container.Indexed.html#5612" class="Bound">m</a>
    <a id="5707" class="Symbol">;</a> <a id="5709" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="5718" class="Symbol">=</a> <a id="5720" href="Relation.Binary.PropositionalEquality.Core.html#1803" class="Function">P.subst</a> <a id="5728" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="5733" class="Symbol">(</a><a id="5734" href="Data.Container.Indexed.html#2395" class="Field">response</a> <a id="5743" href="Data.Container.Indexed.html#5612" class="Bound">m</a><a id="5744" class="Symbol">)</a>
    <a id="5750" class="Symbol">;</a> <a id="5752" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="5761" class="Symbol">=</a> <a id="5763" href="Data.Container.Indexed.html#2501" class="Field">coherent</a> <a id="5772" href="Data.Container.Indexed.html#5612" class="Bound">m</a>
    <a id="5778" class="Symbol">}</a>

  <a id="CartesianMorphism.⟪_⟫C"></a><a id="5783" href="Data.Container.Indexed.html#5783" class="Function Operator">⟪_⟫C</a> <a id="5788" class="Symbol">:</a> <a id="5790" class="Symbol">∀</a> <a id="5792" class="Symbol">{</a><a id="5793" href="Data.Container.Indexed.html#5793" class="Bound">ℓ</a><a id="5794" class="Symbol">}</a> <a id="5796" class="Symbol">(</a><a id="5797" href="Data.Container.Indexed.html#5797" class="Bound">X</a> <a id="5799" class="Symbol">:</a> <a id="5801" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="5806" href="Data.Container.Indexed.html#5558" class="Bound">I</a> <a id="5808" href="Data.Container.Indexed.html#5793" class="Bound">ℓ</a><a id="5809" class="Symbol">)</a> <a id="5811" class="Symbol">→</a> <a id="5813" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="5815" href="Data.Container.Indexed.html#5582" class="Bound">C₁</a> <a id="5818" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="5820" href="Data.Container.Indexed.html#5797" class="Bound">X</a> <a id="5822" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="5824" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟦</a> <a id="5826" href="Data.Container.Indexed.html#5585" class="Bound">C₂</a> <a id="5829" href="Data.Container.Indexed.Core.html#706" class="Function Operator">⟧</a> <a id="5831" href="Data.Container.Indexed.html#5797" class="Bound">X</a>
  <a id="5835" href="Data.Container.Indexed.html#5783" class="Function Operator">⟪_⟫C</a> <a id="5840" class="Symbol">=</a> <a id="5842" href="Data.Container.Indexed.html#4020" class="Function Operator">⟪</a> <a id="5844" href="Data.Container.Indexed.html#5637" class="Function">morphism</a> <a id="5853" href="Data.Container.Indexed.html#4020" class="Function Operator">⟫</a>

<a id="5856" class="Keyword">open</a> <a id="5861" href="Data.Container.Indexed.html#5527" class="Module">CartesianMorphism</a> <a id="5879" class="Keyword">public</a> <a id="5886" class="Keyword">using</a> <a id="5892" class="Symbol">(</a><a id="5893" href="Data.Container.Indexed.html#5783" class="Function Operator">⟪_⟫C</a><a id="5897" class="Symbol">)</a>

<a id="5900" class="Comment">------------------------------------------------------------------------</a>
<a id="5973" class="Comment">-- All and any</a>

<a id="5989" class="Comment">-- □ and ◇ are defined in the core module.</a>

<a id="6033" class="Keyword">module</a> <a id="6040" href="Data.Container.Indexed.html#6040" class="Module">_</a> <a id="6042" class="Symbol">{</a><a id="6043" href="Data.Container.Indexed.html#6043" class="Bound">i</a> <a id="6045" href="Data.Container.Indexed.html#6045" class="Bound">o</a> <a id="6047" href="Data.Container.Indexed.html#6047" class="Bound">c</a> <a id="6049" href="Data.Container.Indexed.html#6049" class="Bound">r</a> <a id="6051" href="Data.Container.Indexed.html#6051" class="Bound">ℓ₁</a> <a id="6054" href="Data.Container.Indexed.html#6054" class="Bound">ℓ₂</a><a id="6056" class="Symbol">}</a> <a id="6058" class="Symbol">{</a><a id="6059" href="Data.Container.Indexed.html#6059" class="Bound">I</a> <a id="6061" class="Symbol">:</a> <a id="6063" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="6067" href="Data.Container.Indexed.html#6043" class="Bound">i</a><a id="6068" class="Symbol">}</a> <a id="6070" class="Symbol">{</a><a id="6071" href="Data.Container.Indexed.html#6071" class="Bound">O</a> <a id="6073" class="Symbol">:</a> <a id="6075" href="Agda.Primitive.html#320" class="Primitive">Set</a> <a id="6079" href="Data.Container.Indexed.html#6045" class="Bound">o</a><a id="6080" class="Symbol">}</a> <a id="6082" class="Symbol">(</a><a id="6083" href="Data.Container.Indexed.html#6083" class="Bound">C</a> <a id="6085" class="Symbol">:</a> <a id="6087" href="Data.Container.Indexed.Core.html#387" class="Record">Container</a> <a id="6097" href="Data.Container.Indexed.html#6059" class="Bound">I</a> <a id="6099" href="Data.Container.Indexed.html#6071" class="Bound">O</a> <a id="6101" href="Data.Container.Indexed.html#6047" class="Bound">c</a> <a id="6103" href="Data.Container.Indexed.html#6049" class="Bound">r</a><a id="6104" class="Symbol">)</a>
         <a id="6115" class="Symbol">{</a><a id="6116" href="Data.Container.Indexed.html#6116" class="Bound">X</a> <a id="6118" class="Symbol">:</a> <a id="6120" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="6125" href="Data.Container.Indexed.html#6059" class="Bound">I</a> <a id="6127" href="Data.Container.Indexed.html#6051" class="Bound">ℓ₁</a><a id="6129" class="Symbol">}</a> <a id="6131" class="Symbol">{</a><a id="6132" href="Data.Container.Indexed.html#6132" class="Bound">P</a> <a id="6134" href="Data.Container.Indexed.html#6134" class="Bound">Q</a> <a id="6136" class="Symbol">:</a> <a id="6138" href="Relation.Unary.html#1120" class="Function">Pred</a> <a id="6143" class="Symbol">(</a><a id="6144" href="Agda.Builtin.Sigma.html#148" class="Record">Σ</a> <a id="6146" href="Data.Container.Indexed.html#6059" class="Bound">I</a> <a id="6148" href="Data.Container.Indexed.html#6116" class="Bound">X</a><a id="6149" class="Symbol">)</a> <a id="6151" href="Data.Container.Indexed.html#6054" class="Bound">ℓ₂</a><a id="6153" class="Symbol">}</a> <a id="6155" class="Keyword">where</a>

  <a id="6164" class="Comment">-- All.</a>

  <a id="6175" href="Data.Container.Indexed.html#6175" class="Function">□-map</a> <a id="6181" class="Symbol">:</a> <a id="6183" href="Data.Container.Indexed.html#6132" class="Bound">P</a> <a id="6185" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="6187" href="Data.Container.Indexed.html#6134" class="Bound">Q</a> <a id="6189" class="Symbol">→</a> <a id="6191" href="Data.Container.Indexed.Core.html#1058" class="Function">□</a> <a id="6193" href="Data.Container.Indexed.html#6083" class="Bound">C</a> <a id="6195" href="Data.Container.Indexed.html#6132" class="Bound">P</a> <a id="6197" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="6199" href="Data.Container.Indexed.Core.html#1058" class="Function">□</a> <a id="6201" href="Data.Container.Indexed.html#6083" class="Bound">C</a> <a id="6203" href="Data.Container.Indexed.html#6134" class="Bound">Q</a>
  <a id="6207" href="Data.Container.Indexed.html#6175" class="Function">□-map</a> <a id="6213" href="Data.Container.Indexed.html#6213" class="Bound">P⊆Q</a> <a id="6217" class="Symbol">=</a> <a id="6219" href="Data.Container.Indexed.html#626" class="Function Operator">_⟨∘⟩_</a> <a id="6225" href="Data.Container.Indexed.html#6213" class="Bound">P⊆Q</a>

  <a id="6232" class="Comment">-- Any.</a>

  <a id="6243" href="Data.Container.Indexed.html#6243" class="Function">◇-map</a> <a id="6249" class="Symbol">:</a> <a id="6251" href="Data.Container.Indexed.html#6132" class="Bound">P</a> <a id="6253" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="6255" href="Data.Container.Indexed.html#6134" class="Bound">Q</a> <a id="6257" class="Symbol">→</a> <a id="6259" href="Data.Container.Indexed.Core.html#1164" class="Function">◇</a> <a id="6261" href="Data.Container.Indexed.html#6083" class="Bound">C</a> <a id="6263" href="Data.Container.Indexed.html#6132" class="Bound">P</a> <a id="6265" href="Relation.Unary.html#1770" class="Function Operator">⊆</a> <a id="6267" href="Data.Container.Indexed.Core.html#1164" class="Function">◇</a> <a id="6269" href="Data.Container.Indexed.html#6083" class="Bound">C</a> <a id="6271" href="Data.Container.Indexed.html#6134" class="Bound">Q</a>
  <a id="6275" href="Data.Container.Indexed.html#6243" class="Function">◇-map</a> <a id="6281" href="Data.Container.Indexed.html#6281" class="Bound">P⊆Q</a> <a id="6285" class="Symbol">=</a> <a id="6287" href="Data.Product.Base.html#1673" class="Function">Prod.map</a> <a id="6296" href="Data.Container.Indexed.html#613" class="Function">⟨id⟩</a> <a id="6301" href="Data.Container.Indexed.html#6281" class="Bound">P⊆Q</a>

<a id="6306" class="Comment">-- Membership is defined in Data.Container.Indexed.WithK.</a>
</pre></body></html>