<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Logarithm.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------------------------------</a>
<a id="73" class="Comment">-- The Agda standard library</a>
<a id="102" class="Comment">--</a>
<a id="105" class="Comment">-- Logarithm base 2 core definitions and properties</a>
<a id="157" class="Comment">------------------------------------------------------------------------</a>

<a id="231" class="Symbol">{-#</a> <a id="235" class="Keyword">OPTIONS</a> <a id="243" class="Pragma">--cubical-compatible</a> <a id="264" class="Pragma">--safe</a> <a id="271" class="Symbol">#-}</a>

<a id="276" class="Keyword">module</a> <a id="283" href="Data.Nat.Logarithm.Core.html" class="Module">Data.Nat.Logarithm.Core</a> <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.Nat.Induction.html" class="Module">Data.Nat.Induction</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a><a id="423" class="Symbol">)</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Induction.WellFounded.html" class="Module">Induction.WellFounded</a> <a id="459" class="Keyword">using</a> <a id="465" class="Symbol">(</a><a id="466" href="Induction.WellFounded.html#1009" class="Datatype">Acc</a><a id="469" class="Symbol">;</a> <a id="471" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a><a id="474" class="Symbol">)</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Data.Unit.html" class="Module">Data.Unit</a>

<a id="549" class="Comment">------------------------------------------------------------------------</a>
<a id="622" class="Comment">-- Logarithm base 2</a>

<a id="643" class="Comment">-- Floor version</a>

<a id="⌊log2⌋"></a><a id="661" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="668" class="Symbol">:</a> <a id="670" class="Symbol">∀</a> <a id="672" href="Data.Nat.Logarithm.Core.html#672" class="Bound">n</a> <a id="674" class="Symbol">→</a> <a id="676" href="Induction.WellFounded.html#1009" class="Datatype">Acc</a> <a id="680" href="Data.Nat.Base.html#1654" class="Function Operator">_&lt;_</a> <a id="684" href="Data.Nat.Logarithm.Core.html#672" class="Bound">n</a> <a id="686" class="Symbol">→</a> <a id="688" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="690" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="697" class="Number">0</a>          <a id="708" class="Symbol">_</a>        <a id="717" class="Symbol">=</a> <a id="719" class="Number">0</a>
<a id="721" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="728" class="Number">1</a>          <a id="739" class="Symbol">_</a>        <a id="748" class="Symbol">=</a> <a id="750" class="Number">0</a>
<a id="752" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="759" class="Symbol">(</a><a id="760" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="764" href="Data.Nat.Logarithm.Core.html#764" class="Bound">n′</a><a id="766" class="Symbol">@(</a><a id="768" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="772" href="Data.Nat.Logarithm.Core.html#772" class="Bound">n</a><a id="773" class="Symbol">))</a> <a id="776" class="Symbol">(</a><a id="777" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="781" href="Data.Nat.Logarithm.Core.html#781" class="Bound">rs</a><a id="783" class="Symbol">)</a> <a id="785" class="Symbol">=</a> <a id="787" class="Number">1</a> <a id="789" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="791" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="798" class="Symbol">(</a><a id="799" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="803" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="805" href="Data.Nat.Logarithm.Core.html#772" class="Bound">n</a> <a id="807" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="810" class="Symbol">)</a> <a id="812" class="Symbol">(</a><a id="813" href="Data.Nat.Logarithm.Core.html#781" class="Bound">rs</a> <a id="816" class="Symbol">_</a> <a id="818" class="Symbol">(</a><a id="819" href="Data.Nat.Properties.html#59437" class="Function">⌊n/2⌋&lt;n</a> <a id="827" href="Data.Nat.Logarithm.Core.html#764" class="Bound">n′</a><a id="829" class="Symbol">))</a>


<a id="834" class="Comment">-- Ceil version</a>

<a id="⌈log2⌉"></a><a id="851" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="858" class="Symbol">:</a> <a id="860" class="Symbol">∀</a> <a id="862" href="Data.Nat.Logarithm.Core.html#862" class="Bound">n</a> <a id="864" class="Symbol">→</a> <a id="866" href="Induction.WellFounded.html#1009" class="Datatype">Acc</a> <a id="870" href="Data.Nat.Base.html#1654" class="Function Operator">_&lt;_</a> <a id="874" href="Data.Nat.Logarithm.Core.html#862" class="Bound">n</a> <a id="876" class="Symbol">→</a> <a id="878" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="880" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="887" class="Number">0</a>                <a id="904" class="Symbol">_</a>        <a id="913" class="Symbol">=</a> <a id="915" class="Number">0</a>
<a id="917" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="924" class="Number">1</a>                <a id="941" class="Symbol">_</a>        <a id="950" class="Symbol">=</a> <a id="952" class="Number">0</a>
<a id="954" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="961" class="Symbol">(</a><a id="962" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="966" class="Symbol">(</a><a id="967" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="971" href="Data.Nat.Logarithm.Core.html#971" class="Bound">n</a><a id="972" class="Symbol">))</a> <a id="975" class="Symbol">(</a><a id="976" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="980" href="Data.Nat.Logarithm.Core.html#980" class="Bound">rs</a><a id="982" class="Symbol">)</a> <a id="984" class="Symbol">=</a> <a id="986" class="Number">1</a> <a id="988" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="990" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="997" class="Symbol">(</a><a id="998" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1002" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="1004" href="Data.Nat.Logarithm.Core.html#971" class="Bound">n</a> <a id="1006" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a><a id="1009" class="Symbol">)</a> <a id="1011" class="Symbol">(</a><a id="1012" href="Data.Nat.Logarithm.Core.html#980" class="Bound">rs</a> <a id="1015" class="Symbol">_</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Data.Nat.Properties.html#59812" class="Function">⌈n/2⌉&lt;n</a> <a id="1026" href="Data.Nat.Logarithm.Core.html#971" class="Bound">n</a><a id="1027" class="Symbol">))</a>

<a id="1031" class="Comment">------------------------------------------------------------------------</a>
<a id="1104" class="Comment">-- Properties of ⌊log2⌋</a>

<a id="⌊log2⌋-acc-irrelevant"></a><a id="1129" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1151" class="Symbol">:</a> <a id="1153" class="Symbol">∀</a> <a id="1155" href="Data.Nat.Logarithm.Core.html#1155" class="Bound">a</a> <a id="1157" class="Symbol">{</a><a id="1158" href="Data.Nat.Logarithm.Core.html#1158" class="Bound">acc</a> <a id="1162" href="Data.Nat.Logarithm.Core.html#1162" class="Bound">acc&#39;</a><a id="1166" class="Symbol">}</a> <a id="1168" class="Symbol">→</a> <a id="1170" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1177" href="Data.Nat.Logarithm.Core.html#1155" class="Bound">a</a> <a id="1179" href="Data.Nat.Logarithm.Core.html#1158" class="Bound">acc</a> <a id="1183" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1185" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1192" href="Data.Nat.Logarithm.Core.html#1155" class="Bound">a</a> <a id="1194" href="Data.Nat.Logarithm.Core.html#1162" class="Bound">acc&#39;</a>
<a id="1199" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1221" class="Number">0</a>            <a id="1234" class="Symbol">{_}</a>      <a id="1243" class="Symbol">{_}</a>       <a id="1253" class="Symbol">=</a> <a id="1255" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1260" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1282" class="Number">1</a>            <a id="1295" class="Symbol">{_}</a>      <a id="1304" class="Symbol">{_}</a>       <a id="1314" class="Symbol">=</a> <a id="1316" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1321" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1343" class="Symbol">(</a><a id="1344" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1353" href="Data.Nat.Logarithm.Core.html#1353" class="Bound">n</a><a id="1354" class="Symbol">))</a> <a id="1357" class="Symbol">{</a><a id="1358" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1362" href="Data.Nat.Logarithm.Core.html#1362" class="Bound">rs</a><a id="1364" class="Symbol">}</a> <a id="1366" class="Symbol">{</a><a id="1367" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1371" href="Data.Nat.Logarithm.Core.html#1371" class="Bound">rs&#39;</a><a id="1374" class="Symbol">}</a> <a id="1376" class="Symbol">=</a>
  <a id="1380" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="1385" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1389" class="Symbol">(</a><a id="1390" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1412" class="Symbol">(</a><a id="1413" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1417" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="1419" href="Data.Nat.Logarithm.Core.html#1353" class="Bound">n</a> <a id="1421" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="1424" class="Symbol">))</a>

<a id="⌊log2⌋-cong-irr"></a><a id="1428" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="1444" class="Symbol">:</a> <a id="1446" class="Symbol">∀</a> <a id="1448" class="Symbol">{</a><a id="1449" href="Data.Nat.Logarithm.Core.html#1449" class="Bound">a</a> <a id="1451" href="Data.Nat.Logarithm.Core.html#1451" class="Bound">b</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">{</a><a id="1455" href="Data.Nat.Logarithm.Core.html#1455" class="Bound">acc</a> <a id="1459" href="Data.Nat.Logarithm.Core.html#1459" class="Bound">acc&#39;</a><a id="1463" class="Symbol">}</a> <a id="1465" class="Symbol">→</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Data.Nat.Logarithm.Core.html#1468" class="Bound">p</a> <a id="1470" class="Symbol">:</a> <a id="1472" href="Data.Nat.Logarithm.Core.html#1449" class="Bound">a</a> <a id="1474" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1476" href="Data.Nat.Logarithm.Core.html#1451" class="Bound">b</a><a id="1477" class="Symbol">)</a> <a id="1479" class="Symbol">→</a>
                <a id="1497" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1504" href="Data.Nat.Logarithm.Core.html#1449" class="Bound">a</a> <a id="1506" href="Data.Nat.Logarithm.Core.html#1455" class="Bound">acc</a> <a id="1510" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1512" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1519" href="Data.Nat.Logarithm.Core.html#1451" class="Bound">b</a> <a id="1521" href="Data.Nat.Logarithm.Core.html#1459" class="Bound">acc&#39;</a>
<a id="1526" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="1542" class="Symbol">{</a><a id="1543" class="Argument">acc</a> <a id="1547" class="Symbol">=</a> <a id="1549" href="Data.Nat.Logarithm.Core.html#1549" class="Bound">ac</a><a id="1551" class="Symbol">}</a> <a id="1553" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1558" class="Symbol">=</a> <a id="1560" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1582" class="Symbol">_</a> <a id="1584" class="Symbol">{</a><a id="1585" href="Data.Nat.Logarithm.Core.html#1549" class="Bound">ac</a><a id="1587" class="Symbol">}</a>

<a id="⌊log2⌋-mono-≤"></a><a id="1590" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1604" class="Symbol">:</a> <a id="1606" class="Symbol">∀</a> <a id="1608" class="Symbol">{</a><a id="1609" href="Data.Nat.Logarithm.Core.html#1609" class="Bound">a</a> <a id="1611" href="Data.Nat.Logarithm.Core.html#1611" class="Bound">b</a><a id="1612" class="Symbol">}</a> <a id="1614" class="Symbol">{</a><a id="1615" href="Data.Nat.Logarithm.Core.html#1615" class="Bound">acc</a> <a id="1619" href="Data.Nat.Logarithm.Core.html#1619" class="Bound">acc&#39;</a><a id="1623" class="Symbol">}</a> <a id="1625" class="Symbol">→</a> <a id="1627" href="Data.Nat.Logarithm.Core.html#1609" class="Bound">a</a> <a id="1629" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="1631" href="Data.Nat.Logarithm.Core.html#1611" class="Bound">b</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1642" href="Data.Nat.Logarithm.Core.html#1609" class="Bound">a</a> <a id="1644" href="Data.Nat.Logarithm.Core.html#1615" class="Bound">acc</a> <a id="1648" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="1650" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1657" href="Data.Nat.Logarithm.Core.html#1611" class="Bound">b</a> <a id="1659" href="Data.Nat.Logarithm.Core.html#1619" class="Bound">acc&#39;</a>
<a id="1664" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1678" class="Symbol">{_}</a>           <a id="1692" class="Symbol">{_}</a>     <a id="1700" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>       <a id="1710" class="Symbol">=</a> <a id="1712" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="1716" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1730" class="Symbol">{_}</a>           <a id="1744" class="Symbol">{_}</a>     <a id="1752" class="Symbol">(</a><a id="1753" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1757" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a><a id="1760" class="Symbol">)</a> <a id="1762" class="Symbol">=</a> <a id="1764" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="1768" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1782" class="Symbol">{</a><a id="1783" class="Argument">acc</a> <a id="1787" class="Symbol">=</a> <a id="1789" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1793" class="Symbol">_}</a> <a id="1796" class="Symbol">{</a><a id="1797" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1801" class="Symbol">_}</a> <a id="1804" class="Symbol">(</a><a id="1805" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1814" href="Data.Nat.Logarithm.Core.html#1814" class="Bound">p</a><a id="1815" class="Symbol">))</a> <a id="1818" class="Symbol">=</a>
  <a id="1822" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1826" class="Symbol">(</a><a id="1827" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1841" class="Symbol">(</a><a id="1842" href="Data.Nat.Properties.html#58606" class="Function">⌊n/2⌋-mono</a> <a id="1853" class="Symbol">(</a><a id="1854" href="Data.Nat.Properties.html#18998" class="Function">+-monoʳ-≤</a> <a id="1864" class="Number">2</a> <a id="1866" href="Data.Nat.Logarithm.Core.html#1814" class="Bound">p</a><a id="1867" class="Symbol">)))</a>

<a id="⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1"></a><a id="1872" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="1894" class="Symbol">:</a> <a id="1896" class="Symbol">∀</a> <a id="1898" href="Data.Nat.Logarithm.Core.html#1898" class="Bound">n</a> <a id="1900" class="Symbol">{</a><a id="1901" href="Data.Nat.Logarithm.Core.html#1901" class="Bound">acc</a><a id="1904" class="Symbol">}</a> <a id="1906" class="Symbol">{</a><a id="1907" href="Data.Nat.Logarithm.Core.html#1907" class="Bound">acc&#39;</a><a id="1911" class="Symbol">}</a> <a id="1913" class="Symbol">→</a>
                        <a id="1939" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1946" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="1948" href="Data.Nat.Logarithm.Core.html#1898" class="Bound">n</a> <a id="1950" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a> <a id="1954" href="Data.Nat.Logarithm.Core.html#1901" class="Bound">acc</a> <a id="1958" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1960" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1967" href="Data.Nat.Logarithm.Core.html#1898" class="Bound">n</a> <a id="1969" href="Data.Nat.Logarithm.Core.html#1907" class="Bound">acc&#39;</a> <a id="1974" href="Data.Nat.Base.html#3211" class="Primitive Operator">∸</a> <a id="1976" class="Number">1</a>
<a id="1978" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="2000" class="Number">0</a>             <a id="2014" class="Symbol">{_}</a>      <a id="2023" class="Symbol">{_}</a>       <a id="2033" class="Symbol">=</a> <a id="2035" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2040" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="2062" class="Number">1</a>             <a id="2076" class="Symbol">{_}</a>      <a id="2085" class="Symbol">{_}</a>       <a id="2095" class="Symbol">=</a> <a id="2097" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2102" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="2124" class="Symbol">(</a><a id="2125" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2129" class="Symbol">(</a><a id="2130" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2134" href="Data.Nat.Logarithm.Core.html#2134" class="Bound">n</a><a id="2135" class="Symbol">))</a> <a id="2138" class="Symbol">{</a><a id="2139" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="2143" href="Data.Nat.Logarithm.Core.html#2143" class="Bound">rs</a><a id="2145" class="Symbol">}</a> <a id="2147" class="Symbol">{</a><a id="2148" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="2152" href="Data.Nat.Logarithm.Core.html#2152" class="Bound">rs&#39;</a><a id="2155" class="Symbol">}</a> <a id="2157" class="Symbol">=</a>
  <a id="2161" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="2183" class="Symbol">(</a><a id="2184" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2188" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="2190" href="Data.Nat.Logarithm.Core.html#2134" class="Bound">n</a> <a id="2192" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="2195" class="Symbol">)</a>

<a id="⌊log2⌋2*b≡1+⌊log2⌋b"></a><a id="2198" href="Data.Nat.Logarithm.Core.html#2198" class="Function">⌊log2⌋2*b≡1+⌊log2⌋b</a> <a id="2218" class="Symbol">:</a> <a id="2220" class="Symbol">∀</a> <a id="2222" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a> <a id="2224" class="Symbol">{</a><a id="2225" href="Data.Nat.Logarithm.Core.html#2225" class="Bound">acc</a> <a id="2229" href="Data.Nat.Logarithm.Core.html#2229" class="Bound">acc&#39;</a><a id="2233" class="Symbol">}</a> <a id="2235" class="Symbol">.{{</a> <a id="2239" href="Data.Nat.Logarithm.Core.html#2239" class="Bound">_</a> <a id="2241" class="Symbol">:</a> <a id="2243" href="Data.Nat.Base.html#2570" class="Record">NonZero</a> <a id="2251" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a><a id="2252" class="Symbol">}}</a> <a id="2255" class="Symbol">→</a>
                      <a id="2279" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2286" class="Symbol">(</a><a id="2287" class="Number">2</a> <a id="2289" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="2291" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a><a id="2292" class="Symbol">)</a> <a id="2294" href="Data.Nat.Logarithm.Core.html#2225" class="Bound">acc</a> <a id="2298" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2300" class="Number">1</a> <a id="2302" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2304" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2311" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a> <a id="2313" href="Data.Nat.Logarithm.Core.html#2229" class="Bound">acc&#39;</a>
<a id="2318" href="Data.Nat.Logarithm.Core.html#2198" class="Function">⌊log2⌋2*b≡1+⌊log2⌋b</a> <a id="2338" class="Symbol">(</a><a id="2339" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2343" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2344" class="Symbol">)</a> <a id="2346" class="Symbol">=</a> <a id="2348" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="2356" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2363" class="Symbol">(</a><a id="2364" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2368" class="Symbol">(</a><a id="2369" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2371" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2373" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2377" class="Symbol">(</a><a id="2378" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2380" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2382" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="2386" class="Symbol">)))</a> <a id="2390" class="Symbol">_</a>              <a id="2405" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2408" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2430" class="Symbol">(λ</a> <a id="2433" href="Data.Nat.Logarithm.Core.html#2433" class="Bound">x</a> <a id="2435" class="Symbol">→</a> <a id="2437" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2441" class="Symbol">(</a><a id="2442" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2444" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2446" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2450" href="Data.Nat.Logarithm.Core.html#2433" class="Bound">x</a><a id="2451" class="Symbol">))</a> <a id="2454" class="Symbol">(</a><a id="2455" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="2462" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2464" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="2468" class="Symbol">))</a> <a id="2471" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2475" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2487" class="Symbol">(</a><a id="2488" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2490" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2492" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2496" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2497" class="Symbol">))</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2515" class="Symbol">_)</a>       <a id="2524" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2527" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2543" class="Symbol">{</a><a id="2544" class="Argument">acc&#39;</a> <a id="2549" class="Symbol">=</a> <a id="2551" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2565" class="Symbol">_}</a> <a id="2568" class="Symbol">(</a><a id="2569" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2574" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2578" class="Symbol">(</a><a id="2579" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="2586" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2588" class="Symbol">(</a><a id="2589" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2593" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2594" class="Symbol">)))</a> <a id="2598" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2602" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2614" class="Symbol">(</a><a id="2615" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2619" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2621" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2623" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2624" class="Symbol">))</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2642" class="Symbol">_)</a>       <a id="2651" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2654" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2659" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2663" class="Symbol">(</a><a id="2664" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2680" class="Symbol">{</a><a id="2681" class="Argument">a</a> <a id="2683" class="Symbol">=</a> <a id="2685" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2689" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="2691" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2693" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2695" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2697" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="2700" class="Symbol">}</a> <a id="2702" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="2706" class="Symbol">)</a> <a id="2708" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2712" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2716" class="Symbol">(</a><a id="2717" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2724" class="Symbol">(</a><a id="2725" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2729" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="2731" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2733" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2735" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2737" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="2740" class="Symbol">)</a> <a id="2742" class="Symbol">(</a><a id="2743" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2757" class="Symbol">_))</a> <a id="2761" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2764" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2769" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2773" class="Symbol">(</a><a id="2774" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2796" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2800" class="Symbol">(</a><a id="2801" href="Relation.Binary.PropositionalEquality.Core.html#1707" class="Function">sym</a> <a id="2805" class="Symbol">(</a><a id="2806" href="Data.Nat.Properties.html#59536" class="Function">n≡⌊n+n/2⌋</a> <a id="2816" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2817" class="Symbol">))))</a> <a id="2822" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2826" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2830" class="Symbol">(</a><a id="2831" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2838" class="Symbol">(</a><a id="2839" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2843" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2844" class="Symbol">)</a> <a id="2846" class="Symbol">_)</a>                           <a id="2875" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="2879" class="Keyword">where</a> <a id="2885" class="Keyword">open</a> <a id="2890" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>

<a id="⌊log2⌋2^n≡n"></a><a id="2903" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="2915" class="Symbol">:</a> <a id="2917" class="Symbol">∀</a> <a id="2919" href="Data.Nat.Logarithm.Core.html#2919" class="Bound">n</a> <a id="2921" class="Symbol">{</a><a id="2922" href="Data.Nat.Logarithm.Core.html#2922" class="Bound">acc</a><a id="2925" class="Symbol">}</a> <a id="2927" class="Symbol">→</a> <a id="2929" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2936" class="Symbol">(</a><a id="2937" class="Number">2</a> <a id="2939" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="2941" href="Data.Nat.Logarithm.Core.html#2919" class="Bound">n</a><a id="2942" class="Symbol">)</a> <a id="2944" href="Data.Nat.Logarithm.Core.html#2922" class="Bound">acc</a> <a id="2948" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2950" href="Data.Nat.Logarithm.Core.html#2919" class="Bound">n</a>
<a id="2952" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="2964" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="2972" class="Symbol">=</a> <a id="2974" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2979" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2996" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="2997" class="Symbol">)</a> <a id="2999" class="Symbol">=</a> <a id="3001" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="3009" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="3016" class="Symbol">((</a><a id="3018" class="Number">2</a> <a id="3020" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3022" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3023" class="Symbol">)</a> <a id="3025" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3027" class="Symbol">((</a><a id="3029" class="Number">2</a> <a id="3031" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3033" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3034" class="Symbol">)</a> <a id="3036" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3038" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="3042" class="Symbol">))</a> <a id="3045" class="Symbol">_</a> <a id="3047" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="3050" href="Data.Nat.Logarithm.Core.html#2198" class="Function">⌊log2⌋2*b≡1+⌊log2⌋b</a> <a id="3070" class="Symbol">(</a><a id="3071" class="Number">2</a> <a id="3073" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3075" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3076" class="Symbol">)</a> <a id="3078" class="Symbol">{{</a><a id="3080" href="Data.Nat.Base.html#2841" class="Function">&gt;-nonZero</a> <a id="3090" class="Symbol">(</a><a id="3091" href="Data.Nat.Properties.html#30192" class="Function">2^n&gt;0</a> <a id="3097" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3098" class="Symbol">)}}</a> <a id="3102" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="3106" class="Number">1</a> <a id="3108" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3110" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="3117" class="Symbol">(</a><a id="3118" class="Number">2</a> <a id="3120" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3122" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3123" class="Symbol">)</a> <a id="3125" class="Symbol">(</a><a id="3126" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="3140" class="Symbol">_)</a>  <a id="3144" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="3147" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="3152" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3156" class="Symbol">(</a><a id="3157" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="3169" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3170" class="Symbol">)</a> <a id="3172" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="3176" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3180" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a>                                 <a id="3214" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="3218" class="Keyword">where</a> <a id="3224" class="Keyword">open</a> <a id="3229" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>

<a id="3242" class="Comment">------------------------------------------------------------------------</a>
<a id="3315" class="Comment">-- Properties of ⌈log2⌉</a>

<a id="⌈log2⌉-acc-irrelevant"></a><a id="3340" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3362" class="Symbol">:</a> <a id="3364" class="Symbol">∀</a> <a id="3366" href="Data.Nat.Logarithm.Core.html#3366" class="Bound">n</a> <a id="3368" class="Symbol">{</a><a id="3369" href="Data.Nat.Logarithm.Core.html#3369" class="Bound">acc</a> <a id="3373" href="Data.Nat.Logarithm.Core.html#3373" class="Bound">acc&#39;</a><a id="3377" class="Symbol">}</a> <a id="3379" class="Symbol">→</a> <a id="3381" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3388" href="Data.Nat.Logarithm.Core.html#3366" class="Bound">n</a> <a id="3390" href="Data.Nat.Logarithm.Core.html#3369" class="Bound">acc</a> <a id="3394" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3396" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3403" href="Data.Nat.Logarithm.Core.html#3366" class="Bound">n</a> <a id="3405" href="Data.Nat.Logarithm.Core.html#3373" class="Bound">acc&#39;</a>
<a id="3410" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3432" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>          <a id="3446" class="Symbol">{</a><a id="3447" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3451" href="Data.Nat.Logarithm.Core.html#3451" class="Bound">rs</a><a id="3453" class="Symbol">}</a> <a id="3455" class="Symbol">{</a><a id="3456" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3460" href="Data.Nat.Logarithm.Core.html#3460" class="Bound">rs₁</a><a id="3463" class="Symbol">}</a> <a id="3465" class="Symbol">=</a> <a id="3467" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3472" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3494" class="Symbol">(</a><a id="3495" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3499" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="3503" class="Symbol">)</a>    <a id="3508" class="Symbol">{</a><a id="3509" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3513" href="Data.Nat.Logarithm.Core.html#3513" class="Bound">rs</a><a id="3515" class="Symbol">}</a> <a id="3517" class="Symbol">{</a><a id="3518" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3522" href="Data.Nat.Logarithm.Core.html#3522" class="Bound">rs₁</a><a id="3525" class="Symbol">}</a> <a id="3527" class="Symbol">=</a> <a id="3529" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3534" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3556" class="Symbol">(</a><a id="3557" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3561" class="Symbol">(</a><a id="3562" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3566" href="Data.Nat.Logarithm.Core.html#3566" class="Bound">n</a><a id="3567" class="Symbol">))</a> <a id="3570" class="Symbol">{</a><a id="3571" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3575" href="Data.Nat.Logarithm.Core.html#3575" class="Bound">rs</a><a id="3577" class="Symbol">}</a> <a id="3579" class="Symbol">{</a><a id="3580" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3584" href="Data.Nat.Logarithm.Core.html#3584" class="Bound">rs&#39;</a><a id="3587" class="Symbol">}</a> <a id="3589" class="Symbol">=</a>
  <a id="3593" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="3598" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3602" class="Symbol">(</a><a id="3603" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3625" class="Symbol">(</a><a id="3626" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3630" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="3632" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3636" href="Data.Nat.Logarithm.Core.html#3566" class="Bound">n</a> <a id="3638" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="3641" class="Symbol">))</a>

<a id="⌈log2⌉-cong-irr"></a><a id="3645" href="Data.Nat.Logarithm.Core.html#3645" class="Function">⌈log2⌉-cong-irr</a> <a id="3661" class="Symbol">:</a> <a id="3663" class="Symbol">∀</a> <a id="3665" class="Symbol">{</a><a id="3666" href="Data.Nat.Logarithm.Core.html#3666" class="Bound">m</a> <a id="3668" href="Data.Nat.Logarithm.Core.html#3668" class="Bound">n</a><a id="3669" class="Symbol">}</a> <a id="3671" class="Symbol">{</a><a id="3672" href="Data.Nat.Logarithm.Core.html#3672" class="Bound">acc</a> <a id="3676" href="Data.Nat.Logarithm.Core.html#3676" class="Bound">acc&#39;</a><a id="3680" class="Symbol">}</a> <a id="3682" class="Symbol">→</a> <a id="3684" class="Symbol">(</a><a id="3685" href="Data.Nat.Logarithm.Core.html#3685" class="Bound">_</a> <a id="3687" class="Symbol">:</a> <a id="3689" href="Data.Nat.Logarithm.Core.html#3666" class="Bound">m</a> <a id="3691" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3693" href="Data.Nat.Logarithm.Core.html#3668" class="Bound">n</a><a id="3694" class="Symbol">)</a> <a id="3696" class="Symbol">→</a>
                  <a id="3716" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3723" href="Data.Nat.Logarithm.Core.html#3666" class="Bound">m</a> <a id="3725" href="Data.Nat.Logarithm.Core.html#3672" class="Bound">acc</a> <a id="3729" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3731" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3738" href="Data.Nat.Logarithm.Core.html#3668" class="Bound">n</a> <a id="3740" href="Data.Nat.Logarithm.Core.html#3676" class="Bound">acc&#39;</a>
<a id="3745" href="Data.Nat.Logarithm.Core.html#3645" class="Function">⌈log2⌉-cong-irr</a> <a id="3761" class="Symbol">{</a><a id="3762" class="Argument">acc</a> <a id="3766" class="Symbol">=</a> <a id="3768" href="Data.Nat.Logarithm.Core.html#3768" class="Bound">ac</a><a id="3770" class="Symbol">}</a> <a id="3772" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3777" class="Symbol">=</a> <a id="3779" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3801" class="Symbol">_</a> <a id="3803" class="Symbol">{</a><a id="3804" href="Data.Nat.Logarithm.Core.html#3768" class="Bound">ac</a><a id="3806" class="Symbol">}</a>

<a id="⌈log2⌉-mono-≤"></a><a id="3809" href="Data.Nat.Logarithm.Core.html#3809" class="Function">⌈log2⌉-mono-≤</a> <a id="3823" class="Symbol">:</a> <a id="3825" class="Symbol">∀</a> <a id="3827" class="Symbol">{</a><a id="3828" href="Data.Nat.Logarithm.Core.html#3828" class="Bound">m</a> <a id="3830" href="Data.Nat.Logarithm.Core.html#3830" class="Bound">n</a><a id="3831" class="Symbol">}</a> <a id="3833" class="Symbol">{</a><a id="3834" href="Data.Nat.Logarithm.Core.html#3834" class="Bound">acc</a> <a id="3838" href="Data.Nat.Logarithm.Core.html#3838" class="Bound">acc&#39;</a><a id="3842" class="Symbol">}</a> <a id="3844" class="Symbol">→</a> <a id="3846" href="Data.Nat.Logarithm.Core.html#3828" class="Bound">m</a> <a id="3848" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="3850" href="Data.Nat.Logarithm.Core.html#3830" class="Bound">n</a> <a id="3852" class="Symbol">→</a> <a id="3854" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3861" href="Data.Nat.Logarithm.Core.html#3828" class="Bound">m</a> <a id="3863" href="Data.Nat.Logarithm.Core.html#3834" class="Bound">acc</a> <a id="3867" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="3869" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3876" href="Data.Nat.Logarithm.Core.html#3830" class="Bound">n</a> <a id="3878" href="Data.Nat.Logarithm.Core.html#3838" class="Bound">acc&#39;</a>
<a id="3883" href="Data.Nat.Logarithm.Core.html#3809" class="Function">⌈log2⌉-mono-≤</a> <a id="3897" class="Symbol">{_}</a>            <a id="3912" class="Symbol">{_}</a>       <a id="3922" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>           <a id="3936" class="Symbol">=</a> <a id="3938" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="3942" href="Data.Nat.Logarithm.Core.html#3809" class="Function">⌈log2⌉-mono-≤</a> <a id="3956" class="Symbol">{_}</a>            <a id="3971" class="Symbol">{_}</a>       <a id="3981" class="Symbol">(</a><a id="3982" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="3986" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a><a id="3989" class="Symbol">)</a>     <a id="3995" class="Symbol">=</a> <a id="3997" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="4001" href="Data.Nat.Logarithm.Core.html#3809" class="Function">⌈log2⌉-mono-≤</a> <a id="4015" class="Symbol">{</a><a id="4016" class="Argument">acc</a> <a id="4020" class="Symbol">=</a> <a id="4022" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4026" href="Data.Nat.Logarithm.Core.html#4026" class="Bound">rs</a><a id="4028" class="Symbol">}</a> <a id="4030" class="Symbol">{</a><a id="4031" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4035" href="Data.Nat.Logarithm.Core.html#4035" class="Bound">rs&#39;</a><a id="4038" class="Symbol">}</a> <a id="4040" class="Symbol">(</a><a id="4041" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="4045" class="Symbol">(</a><a id="4046" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="4050" href="Data.Nat.Logarithm.Core.html#4050" class="Bound">p</a><a id="4051" class="Symbol">))</a> <a id="4054" class="Symbol">=</a>
  <a id="4058" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="4062" class="Symbol">(</a><a id="4063" href="Data.Nat.Logarithm.Core.html#3809" class="Function">⌈log2⌉-mono-≤</a> <a id="4077" class="Symbol">(</a><a id="4078" href="Data.Nat.Properties.html#58762" class="Function">⌈n/2⌉-mono</a> <a id="4089" class="Symbol">(</a><a id="4090" href="Data.Nat.Properties.html#18998" class="Function">+-monoʳ-≤</a> <a id="4100" class="Number">2</a> <a id="4102" href="Data.Nat.Logarithm.Core.html#4050" class="Bound">p</a><a id="4103" class="Symbol">)))</a>

<a id="⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1"></a><a id="4108" href="Data.Nat.Logarithm.Core.html#4108" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4130" class="Symbol">:</a> <a id="4132" class="Symbol">∀</a> <a id="4134" href="Data.Nat.Logarithm.Core.html#4134" class="Bound">n</a> <a id="4136" class="Symbol">{</a><a id="4137" href="Data.Nat.Logarithm.Core.html#4137" class="Bound">acc</a><a id="4140" class="Symbol">}</a> <a id="4142" class="Symbol">{</a><a id="4143" href="Data.Nat.Logarithm.Core.html#4143" class="Bound">acc&#39;</a><a id="4147" class="Symbol">}</a> <a id="4149" class="Symbol">→</a>
                        <a id="4175" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4182" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="4184" href="Data.Nat.Logarithm.Core.html#4134" class="Bound">n</a> <a id="4186" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a> <a id="4190" href="Data.Nat.Logarithm.Core.html#4137" class="Bound">acc</a> <a id="4194" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4196" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4203" href="Data.Nat.Logarithm.Core.html#4134" class="Bound">n</a> <a id="4205" href="Data.Nat.Logarithm.Core.html#4143" class="Bound">acc&#39;</a> <a id="4210" href="Data.Nat.Base.html#3211" class="Primitive Operator">∸</a> <a id="4212" class="Number">1</a>
<a id="4214" href="Data.Nat.Logarithm.Core.html#4108" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4236" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>          <a id="4250" class="Symbol">{_}</a>      <a id="4259" class="Symbol">{_}</a>       <a id="4269" class="Symbol">=</a> <a id="4271" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4276" href="Data.Nat.Logarithm.Core.html#4108" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4298" class="Symbol">(</a><a id="4299" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4303" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="4307" class="Symbol">)</a>    <a id="4312" class="Symbol">{_}</a>      <a id="4321" class="Symbol">{_}</a>       <a id="4331" class="Symbol">=</a> <a id="4333" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4338" href="Data.Nat.Logarithm.Core.html#4108" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4360" class="Symbol">(</a><a id="4361" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4365" class="Symbol">(</a><a id="4366" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4370" href="Data.Nat.Logarithm.Core.html#4370" class="Bound">n</a><a id="4371" class="Symbol">))</a> <a id="4374" class="Symbol">{</a><a id="4375" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4379" href="Data.Nat.Logarithm.Core.html#4379" class="Bound">rs</a><a id="4381" class="Symbol">}</a> <a id="4383" class="Symbol">{</a><a id="4384" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4388" href="Data.Nat.Logarithm.Core.html#4388" class="Bound">rs&#39;</a><a id="4391" class="Symbol">}</a> <a id="4393" class="Symbol">=</a>
  <a id="4397" href="Data.Nat.Logarithm.Core.html#3340" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="4419" class="Symbol">(</a><a id="4420" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4424" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="4426" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4430" href="Data.Nat.Logarithm.Core.html#4370" class="Bound">n</a> <a id="4432" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="4435" class="Symbol">)</a>

<a id="⌈log2⌉2*n≡1+⌈log2⌉n"></a><a id="4438" href="Data.Nat.Logarithm.Core.html#4438" class="Function">⌈log2⌉2*n≡1+⌈log2⌉n</a> <a id="4458" class="Symbol">:</a> <a id="4460" class="Symbol">∀</a> <a id="4462" href="Data.Nat.Logarithm.Core.html#4462" class="Bound">n</a> <a id="4464" class="Symbol">{</a><a id="4465" href="Data.Nat.Logarithm.Core.html#4465" class="Bound">acc</a> <a id="4469" href="Data.Nat.Logarithm.Core.html#4469" class="Bound">acc&#39;</a><a id="4473" class="Symbol">}</a> <a id="4475" class="Symbol">.{{</a><a id="4478" href="Data.Nat.Logarithm.Core.html#4478" class="Bound">_</a> <a id="4480" class="Symbol">:</a> <a id="4482" href="Data.Nat.Base.html#2570" class="Record">NonZero</a> <a id="4490" href="Data.Nat.Logarithm.Core.html#4462" class="Bound">n</a><a id="4491" class="Symbol">}}</a> <a id="4494" class="Symbol">→</a>
                      <a id="4518" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4525" class="Symbol">(</a><a id="4526" class="Number">2</a> <a id="4528" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="4530" href="Data.Nat.Logarithm.Core.html#4462" class="Bound">n</a><a id="4531" class="Symbol">)</a> <a id="4533" href="Data.Nat.Logarithm.Core.html#4465" class="Bound">acc</a> <a id="4537" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4539" class="Number">1</a> <a id="4541" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4543" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4550" href="Data.Nat.Logarithm.Core.html#4462" class="Bound">n</a> <a id="4552" href="Data.Nat.Logarithm.Core.html#4469" class="Bound">acc&#39;</a>
<a id="4557" href="Data.Nat.Logarithm.Core.html#4438" class="Function">⌈log2⌉2*n≡1+⌈log2⌉n</a> <a id="4577" class="Symbol">(</a><a id="4578" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4582" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a><a id="4583" class="Symbol">)</a> <a id="4585" class="Symbol">=</a> <a id="4587" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="4595" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4602" class="Symbol">(</a><a id="4603" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4607" class="Symbol">(</a><a id="4608" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4610" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4612" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4616" class="Symbol">(</a><a id="4617" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4619" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4621" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="4625" class="Symbol">)))</a> <a id="4629" class="Symbol">_</a>              <a id="4644" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4647" href="Data.Nat.Logarithm.Core.html#3645" class="Function">⌈log2⌉-cong-irr</a> <a id="4663" class="Symbol">(</a><a id="4664" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4669" class="Symbol">(λ</a> <a id="4672" href="Data.Nat.Logarithm.Core.html#4672" class="Bound">x</a> <a id="4674" class="Symbol">→</a> <a id="4676" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4680" class="Symbol">(</a><a id="4681" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4683" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4685" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4689" href="Data.Nat.Logarithm.Core.html#4672" class="Bound">x</a><a id="4690" class="Symbol">))</a> <a id="4693" class="Symbol">(</a><a id="4694" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="4701" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4703" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="4707" class="Symbol">))</a> <a id="4710" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="4714" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4721" class="Symbol">(</a><a id="4722" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4726" class="Symbol">(</a><a id="4727" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4729" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4731" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4735" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a><a id="4736" class="Symbol">))</a> <a id="4739" class="Symbol">(</a><a id="4740" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4754" class="Symbol">_)</a>       <a id="4763" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4766" href="Data.Nat.Logarithm.Core.html#3645" class="Function">⌈log2⌉-cong-irr</a> <a id="4782" class="Symbol">{</a><a id="4783" class="Argument">acc&#39;</a> <a id="4788" class="Symbol">=</a> <a id="4790" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4804" class="Symbol">_}</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4813" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="4825" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4827" class="Symbol">(</a><a id="4828" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4832" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a><a id="4833" class="Symbol">)))</a> <a id="4837" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="4841" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4848" class="Symbol">(</a><a id="4849" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4853" class="Symbol">(</a><a id="4854" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4858" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4860" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4862" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a><a id="4863" class="Symbol">))</a> <a id="4866" class="Symbol">(</a><a id="4867" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4881" class="Symbol">_)</a>       <a id="4890" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4893" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4898" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4902" class="Symbol">(</a><a id="4903" href="Data.Nat.Logarithm.Core.html#3645" class="Function">⌈log2⌉-cong-irr</a> <a id="4919" class="Symbol">{</a><a id="4920" class="Argument">m</a> <a id="4922" class="Symbol">=</a> <a id="4924" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4928" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="4930" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4932" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4934" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4936" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a><a id="4939" class="Symbol">}</a> <a id="4941" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="4945" class="Symbol">)</a> <a id="4947" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="4951" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4955" class="Symbol">(</a><a id="4956" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4963" class="Symbol">(</a><a id="4964" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4968" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="4970" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4972" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4974" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a> <a id="4976" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a><a id="4979" class="Symbol">)</a> <a id="4981" class="Symbol">(</a><a id="4982" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4996" class="Symbol">_))</a> <a id="5000" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="5003" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="5008" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5012" class="Symbol">(</a><a id="5013" href="Data.Nat.Logarithm.Core.html#3645" class="Function">⌈log2⌉-cong-irr</a> <a id="5029" class="Symbol">(</a><a id="5030" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="5035" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5039" class="Symbol">(</a><a id="5040" href="Relation.Binary.PropositionalEquality.Core.html#1707" class="Function">sym</a> <a id="5044" class="Symbol">(</a><a id="5045" href="Data.Nat.Properties.html#59889" class="Function">n≡⌈n+n/2⌉</a> <a id="5055" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a><a id="5056" class="Symbol">))))</a> <a id="5061" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="5065" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5069" class="Symbol">(</a><a id="5070" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5077" class="Symbol">(</a><a id="5078" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5082" href="Data.Nat.Logarithm.Core.html#4582" class="Bound">n</a><a id="5083" class="Symbol">)</a> <a id="5085" class="Symbol">_)</a>                           <a id="5114" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="5118" class="Keyword">where</a> <a id="5124" class="Keyword">open</a> <a id="5129" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>

<a id="⌈log2⌉2^n≡n"></a><a id="5142" href="Data.Nat.Logarithm.Core.html#5142" class="Function">⌈log2⌉2^n≡n</a> <a id="5154" class="Symbol">:</a> <a id="5156" class="Symbol">∀</a> <a id="5158" href="Data.Nat.Logarithm.Core.html#5158" class="Bound">n</a> <a id="5160" class="Symbol">{</a><a id="5161" href="Data.Nat.Logarithm.Core.html#5161" class="Bound">acc</a><a id="5164" class="Symbol">}</a> <a id="5166" class="Symbol">→</a> <a id="5168" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5175" class="Symbol">(</a><a id="5176" class="Number">2</a> <a id="5178" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5180" href="Data.Nat.Logarithm.Core.html#5158" class="Bound">n</a><a id="5181" class="Symbol">)</a> <a id="5183" href="Data.Nat.Logarithm.Core.html#5161" class="Bound">acc</a> <a id="5187" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5189" href="Data.Nat.Logarithm.Core.html#5158" class="Bound">n</a>
<a id="5191" href="Data.Nat.Logarithm.Core.html#5142" class="Function">⌈log2⌉2^n≡n</a> <a id="5203" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="5211" class="Symbol">=</a> <a id="5213" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="5218" href="Data.Nat.Logarithm.Core.html#5142" class="Function">⌈log2⌉2^n≡n</a> <a id="5230" class="Symbol">(</a><a id="5231" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5235" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5236" class="Symbol">)</a> <a id="5238" class="Symbol">=</a> <a id="5240" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="5248" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5255" class="Symbol">((</a><a id="5257" class="Number">2</a> <a id="5259" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5261" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5262" class="Symbol">)</a> <a id="5264" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="5266" class="Symbol">((</a><a id="5268" class="Number">2</a> <a id="5270" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5272" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5273" class="Symbol">)</a> <a id="5275" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="5277" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="5281" class="Symbol">))</a> <a id="5284" class="Symbol">_</a> <a id="5286" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="5289" href="Data.Nat.Logarithm.Core.html#4438" class="Function">⌈log2⌉2*n≡1+⌈log2⌉n</a> <a id="5309" class="Symbol">(</a><a id="5310" class="Number">2</a> <a id="5312" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5314" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5315" class="Symbol">)</a> <a id="5317" class="Symbol">{{</a><a id="5319" href="Data.Nat.Base.html#2841" class="Function">&gt;-nonZero</a> <a id="5329" class="Symbol">(</a><a id="5330" href="Data.Nat.Properties.html#30192" class="Function">2^n&gt;0</a> <a id="5336" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5337" class="Symbol">)}}</a> <a id="5341" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="5345" class="Number">1</a> <a id="5347" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="5349" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5356" class="Symbol">(</a><a id="5357" class="Number">2</a> <a id="5359" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5361" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5362" class="Symbol">)</a> <a id="5364" class="Symbol">(</a><a id="5365" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="5379" class="Symbol">_)</a>  <a id="5383" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="5386" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="5391" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5395" class="Symbol">(</a><a id="5396" href="Data.Nat.Logarithm.Core.html#5142" class="Function">⌈log2⌉2^n≡n</a> <a id="5408" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a><a id="5409" class="Symbol">)</a> <a id="5411" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="5415" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5419" href="Data.Nat.Logarithm.Core.html#5235" class="Bound">n</a>                                 <a id="5453" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="5457" class="Keyword">where</a> <a id="5463" class="Keyword">open</a> <a id="5468" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>
</pre></body></html>