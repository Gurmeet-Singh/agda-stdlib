<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Algebra.Solver.Ring.NaturalCoefficients</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">------------------------------------------------------------------------</a>
<a id="74" class="Comment">-- The Agda standard library</a>
<a id="103" class="Comment">--</a>
<a id="106" class="Comment">-- Instantiates the ring solver, using the natural numbers as the</a>
<a id="172" class="Comment">-- coefficient &quot;ring&quot;</a>
<a id="194" class="Comment">------------------------------------------------------------------------</a>

<a id="268" class="Symbol">{-#</a> <a id="272" class="Keyword">OPTIONS</a> <a id="280" class="Pragma">--cubical-compatible</a> <a id="301" class="Pragma">--safe</a> <a id="308" class="Symbol">#-}</a>

<a id="313" class="Keyword">open</a> <a id="318" class="Keyword">import</a> <a id="325" href="Algebra.html" class="Module">Algebra</a>
<a id="333" class="Keyword">import</a> <a id="340" href="Algebra.Properties.Semiring.Mult.html" class="Module">Algebra.Properties.Semiring.Mult</a> <a id="373" class="Symbol">as</a> <a id="376" class="Module">SemiringMultiplication</a>
<a id="399" class="Keyword">open</a> <a id="404" class="Keyword">import</a> <a id="411" href="Data.Maybe.Base.html" class="Module">Data.Maybe.Base</a> <a id="427" class="Keyword">using</a> <a id="433" class="Symbol">(</a><a id="434" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a><a id="439" class="Symbol">;</a> <a id="441" href="Agda.Builtin.Maybe.html#156" class="InductiveConstructor">just</a><a id="445" class="Symbol">;</a> <a id="447" href="Agda.Builtin.Maybe.html#177" class="InductiveConstructor">nothing</a><a id="454" class="Symbol">;</a> <a id="456" href="Data.Maybe.Base.html#2049" class="Function">map</a><a id="459" class="Symbol">)</a>
<a id="461" class="Keyword">open</a> <a id="466" class="Keyword">import</a> <a id="473" href="Algebra.Solver.Ring.AlmostCommutativeRing.html" class="Module">Algebra.Solver.Ring.AlmostCommutativeRing</a>
<a id="515" class="Keyword">open</a> <a id="520" class="Keyword">import</a> <a id="527" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a> <a id="541" class="Symbol">as</a> <a id="544" class="Module">ℕ</a>
<a id="546" class="Keyword">open</a> <a id="551" class="Keyword">import</a> <a id="558" href="Data.Product.Base.html" class="Module">Data.Product.Base</a> <a id="576" class="Keyword">using</a> <a id="582" class="Symbol">(</a><a id="583" class="Keyword">module</a> <a id="590" href="Data.Product.Base.html#685" class="Module">Σ</a><a id="591" class="Symbol">)</a>
<a id="593" class="Keyword">open</a> <a id="598" class="Keyword">import</a> <a id="605" href="Function.Base.html" class="Module">Function.Base</a> <a id="619" class="Keyword">using</a> <a id="625" class="Symbol">(</a><a id="626" href="Function.Base.html#704" class="Function">id</a><a id="628" class="Symbol">)</a>
<a id="630" class="Keyword">open</a> <a id="635" class="Keyword">import</a> <a id="642" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="680" class="Keyword">using</a> <a id="686" class="Symbol">(</a><a id="687" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="690" class="Symbol">)</a>

<a id="693" class="Keyword">module</a> <a id="700" href="Algebra.Solver.Ring.NaturalCoefficients.html" class="Module">Algebra.Solver.Ring.NaturalCoefficients</a>
  <a id="742" class="Symbol">{</a><a id="743" href="Algebra.Solver.Ring.NaturalCoefficients.html#743" class="Bound">r₁</a> <a id="746" href="Algebra.Solver.Ring.NaturalCoefficients.html#746" class="Bound">r₂</a><a id="748" class="Symbol">}</a> <a id="750" class="Symbol">(</a><a id="751" href="Algebra.Solver.Ring.NaturalCoefficients.html#751" class="Bound">R</a> <a id="753" class="Symbol">:</a> <a id="755" href="Algebra.Bundles.html#17446" class="Record">CommutativeSemiring</a> <a id="775" href="Algebra.Solver.Ring.NaturalCoefficients.html#743" class="Bound">r₁</a> <a id="778" href="Algebra.Solver.Ring.NaturalCoefficients.html#746" class="Bound">r₂</a><a id="780" class="Symbol">)</a>
  <a id="784" class="Symbol">(</a><a id="785" class="Keyword">open</a> <a id="790" href="Algebra.Bundles.html#17446" class="Module">CommutativeSemiring</a> <a id="810" href="Algebra.Solver.Ring.NaturalCoefficients.html#751" class="Bound">R</a><a id="811" class="Symbol">)</a>
  <a id="815" class="Symbol">(</a><a id="816" class="Keyword">open</a> <a id="821" href="Algebra.Properties.Semiring.Mult.html" class="Module">SemiringMultiplication</a> <a id="844" href="Algebra.Bundles.html#17907" class="Function">semiring</a> <a id="853" class="Keyword">using</a> <a id="859" class="Symbol">()</a> <a id="862" class="Keyword">renaming</a> <a id="871" class="Symbol">(</a><a id="872" href="Algebra.Definitions.RawMonoid.html#1089" class="Function Operator">_×_</a> <a id="876" class="Symbol">to</a> <a id="879" class="Function Operator">_×ᵤ_</a><a id="883" class="Symbol">))</a>
  <a id="888" class="Symbol">(</a><a id="889" href="Algebra.Solver.Ring.NaturalCoefficients.html#889" class="Bound">dec</a> <a id="893" class="Symbol">:</a> <a id="895" class="Symbol">∀</a> <a id="897" href="Algebra.Solver.Ring.NaturalCoefficients.html#897" class="Bound">m</a> <a id="899" href="Algebra.Solver.Ring.NaturalCoefficients.html#899" class="Bound">n</a> <a id="901" class="Symbol">→</a> <a id="903" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="909" class="Symbol">(</a><a id="910" href="Algebra.Solver.Ring.NaturalCoefficients.html#897" class="Bound">m</a> <a id="912" href="Algebra.Solver.Ring.NaturalCoefficients.html#879" class="Function Operator">×ᵤ</a> <a id="915" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="918" href="Algebra.Bundles.html#17587" class="Field Operator">≈</a> <a id="920" href="Algebra.Solver.Ring.NaturalCoefficients.html#899" class="Bound">n</a> <a id="922" href="Algebra.Solver.Ring.NaturalCoefficients.html#879" class="Function Operator">×ᵤ</a> <a id="925" href="Algebra.Bundles.html#17745" class="Field">1#</a><a id="927" class="Symbol">))</a> <a id="930" class="Keyword">where</a>

<a id="937" class="Keyword">open</a> <a id="942" class="Keyword">import</a> <a id="949" href="Algebra.Properties.Semiring.Mult.TCOptimised.html" class="Module">Algebra.Properties.Semiring.Mult.TCOptimised</a> <a id="994" href="Algebra.Bundles.html#17907" class="Function">semiring</a>

<a id="1004" class="Keyword">open</a> <a id="1009" class="Keyword">import</a> <a id="1016" href="Relation.Binary.Reasoning.Setoid.html" class="Module">Relation.Binary.Reasoning.Setoid</a> <a id="1049" href="Algebra.Structures.html#1296" class="Function">setoid</a>

<a id="1057" class="Keyword">private</a>

  <a id="1068" class="Comment">-- The coefficient &quot;ring&quot;.</a>

  <a id="ℕ-ring"></a><a id="1098" href="Algebra.Solver.Ring.NaturalCoefficients.html#1098" class="Function">ℕ-ring</a> <a id="1105" class="Symbol">:</a> <a id="1107" href="Algebra.Bundles.Raw.html#4655" class="Record">RawRing</a> <a id="1115" class="Symbol">_</a> <a id="1117" class="Symbol">_</a>
  <a id="1121" href="Algebra.Solver.Ring.NaturalCoefficients.html#1098" class="Function">ℕ-ring</a> <a id="1128" class="Symbol">=</a> <a id="1130" class="Keyword">record</a>
    <a id="1141" class="Symbol">{</a> <a id="1143" href="Algebra.Bundles.Raw.html#4764" class="Field">Carrier</a> <a id="1151" class="Symbol">=</a> <a id="1153" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
    <a id="1159" class="Symbol">;</a> <a id="1161" href="Algebra.Bundles.Raw.html#4784" class="Field Operator">_≈_</a>     <a id="1169" class="Symbol">=</a> <a id="1171" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a>
    <a id="1179" class="Symbol">;</a> <a id="1181" href="Algebra.Bundles.Raw.html#4812" class="Field Operator">_+_</a>     <a id="1189" class="Symbol">=</a> <a id="1191" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">ℕ._+_</a>
    <a id="1201" class="Symbol">;</a> <a id="1203" href="Algebra.Bundles.Raw.html#4838" class="Field Operator">_*_</a>     <a id="1211" class="Symbol">=</a> <a id="1213" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">ℕ._*_</a>
    <a id="1223" class="Symbol">;</a> <a id="1225" href="Algebra.Bundles.Raw.html#4864" class="Field Operator">-_</a>      <a id="1233" class="Symbol">=</a> <a id="1235" href="Function.Base.html#704" class="Function">id</a>
    <a id="1242" class="Symbol">;</a> <a id="1244" href="Algebra.Bundles.Raw.html#4890" class="Field">0#</a>      <a id="1252" class="Symbol">=</a> <a id="1254" class="Number">0</a>
    <a id="1260" class="Symbol">;</a> <a id="1262" href="Algebra.Bundles.Raw.html#4912" class="Field">1#</a>      <a id="1270" class="Symbol">=</a> <a id="1272" class="Number">1</a>
    <a id="1278" class="Symbol">}</a>

  <a id="1283" class="Comment">-- There is a homomorphism from ℕ to R.</a>
  <a id="1325" class="Comment">--</a>
  <a id="1330" class="Comment">-- Note that the optimised _×_ is used rather than unoptimised _×ᵤ_.</a>
  <a id="1401" class="Comment">-- If _×ᵤ_ were used, then Function.Related.TypeIsomorphisms.test would fail</a>
  <a id="1480" class="Comment">-- to type-check.</a>

  <a id="homomorphism"></a><a id="1501" href="Algebra.Solver.Ring.NaturalCoefficients.html#1501" class="Function">homomorphism</a> <a id="1514" class="Symbol">:</a> <a id="1516" href="Algebra.Solver.Ring.NaturalCoefficients.html#1098" class="Function">ℕ-ring</a> <a id="1523" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2325" class="Record Operator">-Raw-AlmostCommutative⟶</a> <a id="1547" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#4292" class="Function">fromCommutativeSemiring</a> <a id="1571" href="Algebra.Solver.Ring.NaturalCoefficients.html#751" class="Bound">R</a>
  <a id="1575" href="Algebra.Solver.Ring.NaturalCoefficients.html#1501" class="Function">homomorphism</a> <a id="1588" class="Symbol">=</a> <a id="1590" class="Keyword">record</a>
    <a id="1601" class="Symbol">{</a> <a id="1603" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2599" class="Field Operator">⟦_⟧</a>    <a id="1610" class="Symbol">=</a> <a id="1612" class="Symbol">λ</a> <a id="1614" href="Algebra.Solver.Ring.NaturalCoefficients.html#1614" class="Bound">n</a> <a id="1616" class="Symbol">→</a> <a id="1618" href="Algebra.Solver.Ring.NaturalCoefficients.html#1614" class="Bound">n</a> <a id="1620" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1622" href="Algebra.Bundles.html#17745" class="Field">1#</a>
    <a id="1629" class="Symbol">;</a> <a id="1631" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2621" class="Field">+-homo</a> <a id="1638" class="Symbol">=</a> <a id="1640" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1851" class="Function">×-homo-+</a> <a id="1649" href="Algebra.Bundles.html#17745" class="Field">1#</a>
    <a id="1656" class="Symbol">;</a> <a id="1658" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2663" class="Field">*-homo</a> <a id="1665" class="Symbol">=</a> <a id="1667" href="Algebra.Properties.Semiring.Mult.TCOptimised.html#962" class="Function">×1-homo-*</a>
    <a id="1681" class="Symbol">;</a> <a id="1683" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2705" class="Field">-‿homo</a> <a id="1690" class="Symbol">=</a> <a id="1692" class="Symbol">λ</a> <a id="1694" href="Algebra.Solver.Ring.NaturalCoefficients.html#1694" class="Bound">_</a> <a id="1696" class="Symbol">→</a> <a id="1698" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
    <a id="1707" class="Symbol">;</a> <a id="1709" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2746" class="Field">0-homo</a> <a id="1716" class="Symbol">=</a> <a id="1718" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
    <a id="1727" class="Symbol">;</a> <a id="1729" href="Algebra.Solver.Ring.AlmostCommutativeRing.html#2787" class="Field">1-homo</a> <a id="1736" class="Symbol">=</a> <a id="1738" href="Relation.Binary.Structures.html#1596" class="Function">refl</a>
    <a id="1747" class="Symbol">}</a>

  <a id="1752" class="Comment">-- Equality of certain expressions can be decided.</a>

  <a id="dec′"></a><a id="1806" href="Algebra.Solver.Ring.NaturalCoefficients.html#1806" class="Function">dec′</a> <a id="1811" class="Symbol">:</a> <a id="1813" class="Symbol">∀</a> <a id="1815" href="Algebra.Solver.Ring.NaturalCoefficients.html#1815" class="Bound">m</a> <a id="1817" href="Algebra.Solver.Ring.NaturalCoefficients.html#1817" class="Bound">n</a> <a id="1819" class="Symbol">→</a> <a id="1821" href="Agda.Builtin.Maybe.html#118" class="Datatype">Maybe</a> <a id="1827" class="Symbol">(</a><a id="1828" href="Algebra.Solver.Ring.NaturalCoefficients.html#1815" class="Bound">m</a> <a id="1830" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1832" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="1835" href="Algebra.Bundles.html#17587" class="Field Operator">≈</a> <a id="1837" href="Algebra.Solver.Ring.NaturalCoefficients.html#1817" class="Bound">n</a> <a id="1839" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1841" href="Algebra.Bundles.html#17745" class="Field">1#</a><a id="1843" class="Symbol">)</a>
  <a id="1847" href="Algebra.Solver.Ring.NaturalCoefficients.html#1806" class="Function">dec′</a> <a id="1852" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1854" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a> <a id="1856" class="Symbol">=</a> <a id="1858" href="Data.Maybe.Base.html#2049" class="Function">map</a> <a id="1862" href="Algebra.Solver.Ring.NaturalCoefficients.html#1889" class="Function">to</a> <a id="1865" class="Symbol">(</a><a id="1866" href="Algebra.Solver.Ring.NaturalCoefficients.html#889" class="Bound">dec</a> <a id="1870" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1872" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a><a id="1873" class="Symbol">)</a>
    <a id="1879" class="Keyword">where</a>
    <a id="1889" href="Algebra.Solver.Ring.NaturalCoefficients.html#1889" class="Function">to</a> <a id="1892" class="Symbol">:</a> <a id="1894" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1896" href="Algebra.Solver.Ring.NaturalCoefficients.html#879" class="Function Operator">×ᵤ</a> <a id="1899" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="1902" href="Algebra.Bundles.html#17587" class="Field Operator">≈</a> <a id="1904" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a> <a id="1906" href="Algebra.Solver.Ring.NaturalCoefficients.html#879" class="Function Operator">×ᵤ</a> <a id="1909" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="1912" class="Symbol">→</a> <a id="1914" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1916" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1918" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="1921" href="Algebra.Bundles.html#17587" class="Field Operator">≈</a> <a id="1923" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a> <a id="1925" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a> <a id="1927" href="Algebra.Bundles.html#17745" class="Field">1#</a>
    <a id="1934" href="Algebra.Solver.Ring.NaturalCoefficients.html#1889" class="Function">to</a> <a id="1937" href="Algebra.Solver.Ring.NaturalCoefficients.html#1937" class="Bound">m≈n</a> <a id="1941" class="Symbol">=</a> <a id="1943" href="Relation.Binary.Reasoning.Base.Single.html#1925" class="Function Operator">begin</a>
      <a id="1955" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1957" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a>  <a id="1960" href="Algebra.Bundles.html#17745" class="Field">1#</a>  <a id="1964" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">≈˘⟨</a> <a id="1968" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1643" class="Function">×ᵤ≈×</a> <a id="1973" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1975" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="1978" href="Relation.Binary.Reasoning.Setoid.html#1162" class="Function">⟩</a>
      <a id="1986" href="Algebra.Solver.Ring.NaturalCoefficients.html#1852" class="Bound">m</a> <a id="1988" href="Algebra.Solver.Ring.NaturalCoefficients.html#879" class="Function Operator">×ᵤ</a> <a id="1991" href="Algebra.Bundles.html#17745" class="Field">1#</a>  <a id="1995" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">≈⟨</a>  <a id="1999" href="Algebra.Solver.Ring.NaturalCoefficients.html#1937" class="Bound">m≈n</a> <a id="2003" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">⟩</a>
      <a id="2011" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a> <a id="2013" href="Algebra.Solver.Ring.NaturalCoefficients.html#879" class="Function Operator">×ᵤ</a> <a id="2016" href="Algebra.Bundles.html#17745" class="Field">1#</a>  <a id="2020" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">≈⟨</a>  <a id="2024" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1643" class="Function">×ᵤ≈×</a> <a id="2029" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a> <a id="2031" href="Algebra.Bundles.html#17745" class="Field">1#</a> <a id="2034" href="Relation.Binary.Reasoning.Setoid.html#1061" class="Function">⟩</a>
      <a id="2042" href="Algebra.Solver.Ring.NaturalCoefficients.html#1854" class="Bound">n</a> <a id="2044" href="Algebra.Properties.Monoid.Mult.TCOptimised.html#1172" class="Function Operator">×</a>  <a id="2047" href="Algebra.Bundles.html#17745" class="Field">1#</a>  <a id="2051" href="Relation.Binary.Reasoning.Base.Single.html#2564" class="Function Operator">∎</a>

<a id="2054" class="Comment">-- The instantiation.</a>

<a id="2077" class="Keyword">open</a> <a id="2082" class="Keyword">import</a> <a id="2089" href="Algebra.Solver.Ring.html" class="Module">Algebra.Solver.Ring</a> <a id="2109" class="Symbol">_</a> <a id="2111" class="Symbol">_</a> <a id="2113" href="Algebra.Solver.Ring.NaturalCoefficients.html#1501" class="Function">homomorphism</a> <a id="2126" href="Algebra.Solver.Ring.NaturalCoefficients.html#1806" class="Function">dec′</a> <a id="2131" class="Keyword">public</a>
</pre></body></html>